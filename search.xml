<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>ä¸ƒç‰›äº‘å­˜å‚¨ä½¿ç”¨</title>
      <link href="/2019/12/07/%E5%B7%A5%E5%85%B7/%E4%B8%83%E7%89%9B%E4%BA%91%E5%AD%98%E5%82%A8%E4%BD%BF%E7%94%A8/"/>
      <url>/2019/12/07/%E5%B7%A5%E5%85%B7/%E4%B8%83%E7%89%9B%E4%BA%91%E5%AD%98%E5%82%A8%E4%BD%BF%E7%94%A8/</url>
      
        <content type="html"><![CDATA[<blockquote><p> å›¾ç‰‡å­˜å‚¨æ–¹æ¡ˆ </p></blockquote><h1 id="1-ä»‹ç»"><a href="#1-ä»‹ç»" class="headerlink" title="1.ä»‹ç»"></a>1.ä»‹ç»</h1><p>åœ¨å®é™…å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ä¼šæœ‰å¾ˆå¤šå¤„ç†ä¸åŒåŠŸèƒ½çš„æœåŠ¡å™¨ã€‚ä¾‹å¦‚ï¼š<br>åº”ç”¨æœåŠ¡å™¨ï¼šè´Ÿè´£éƒ¨ç½²æˆ‘ä»¬çš„åº”ç”¨<br>æ•°æ®åº“æœåŠ¡å™¨ï¼šè¿è¡Œæˆ‘ä»¬çš„æ•°æ®åº“<br>æ–‡ä»¶æœåŠ¡å™¨ï¼šè´Ÿè´£å­˜å‚¨ç”¨æˆ·ä¸Šä¼ æ–‡ä»¶çš„æœåŠ¡å™¨</p><p><img src="//haoyongliang.gitee.io/2019/12/07/å·¥å…·/ä¸ƒç‰›äº‘å­˜å‚¨ä½¿ç”¨/1.png" alt></p><p>åˆ†æœåŠ¡å™¨å¤„ç†çš„ç›®çš„æ˜¯è®©æœåŠ¡å™¨å„å¸å…¶èŒï¼Œä»è€Œæé«˜æˆ‘ä»¬é¡¹ç›®çš„è¿è¡Œæ•ˆç‡ã€‚<br>å¸¸è§çš„å›¾ç‰‡å­˜å‚¨æ–¹æ¡ˆï¼š<br>æ–¹æ¡ˆä¸€ï¼šä½¿ç”¨nginxæ­å»ºå›¾ç‰‡æœåŠ¡å™¨<br>æ–¹æ¡ˆäºŒï¼šä½¿ç”¨å¼€æºçš„åˆ†å¸ƒå¼æ–‡ä»¶å­˜å‚¨ç³»ç»Ÿï¼Œä¾‹å¦‚Fastdfsã€HDFSç­‰<br>æ–¹æ¡ˆä¸‰ï¼šä½¿ç”¨äº‘å­˜å‚¨ï¼Œä¾‹å¦‚é˜¿é‡Œäº‘ã€ä¸ƒç‰›äº‘ç­‰ </p><h1 id="2-ä¸ƒç‰›äº‘å­˜å‚¨"><a href="#2-ä¸ƒç‰›äº‘å­˜å‚¨" class="headerlink" title="2.ä¸ƒç‰›äº‘å­˜å‚¨"></a>2.ä¸ƒç‰›äº‘å­˜å‚¨</h1><p>ä¸ƒç‰›äº‘ï¼ˆéš¶å±äºä¸Šæµ·ä¸ƒç‰›ä¿¡æ¯æŠ€æœ¯æœ‰é™å…¬å¸ï¼‰æ˜¯å›½å†…é¢†å…ˆçš„ä»¥è§†è§‰æ™ºèƒ½å’Œæ•°æ®æ™ºèƒ½ä¸ºæ ¸ å¿ƒçš„ä¼ä¸šçº§äº‘è®¡ç®—æœåŠ¡å•†ï¼ŒåŒæ—¶ä¹Ÿæ˜¯å›½å†…çŸ¥åæ™ºèƒ½è§†é¢‘äº‘æœåŠ¡å•†ï¼Œç´¯è®¡ä¸º 70 å¤šä¸‡å®¶ä¼ä¸š æä¾›æœåŠ¡ï¼Œè¦†ç›–äº†å›½å†…80%ç½‘æ°‘ã€‚å›´ç»•å¯Œåª’ä½“åœºæ™¯æ¨å‡ºäº†å¯¹è±¡å­˜å‚¨ã€èåˆ CDN åŠ é€Ÿã€å®¹ å™¨äº‘ã€å¤§æ•°æ®å¹³å°ã€æ·±åº¦å­¦ä¹ å¹³å°ç­‰äº§å“ã€å¹¶æä¾›ä¸€ç«™å¼æ™ºèƒ½è§†é¢‘äº‘è§£å†³æ–¹æ¡ˆã€‚ä¸ºå„è¡Œ ä¸šåŠåº”ç”¨æä¾›å¯æŒç»­å‘å±•çš„æ™ºèƒ½è§†é¢‘äº‘ç”Ÿæ€ï¼Œå¸®åŠ©ä¼ä¸šå¿«é€Ÿä¸Šäº‘ï¼Œåˆ›é€ æ›´å¹¿é˜”çš„å•†ä¸šä»· å€¼ã€‚<br>å®˜ç½‘ï¼š<a href="https://www.qiniu.com/" target="_blank" rel="noopener">https://www.qiniu.com/</a><br>é€šè¿‡ä¸ƒç‰›äº‘å®˜ç½‘ä»‹ç»æˆ‘ä»¬å¯ä»¥çŸ¥é“å…¶æä¾›äº†å¤šç§æœåŠ¡ï¼Œæˆ‘ä»¬ä¸»è¦ä½¿ç”¨çš„æ˜¯ä¸ƒç‰›äº‘æä¾›çš„ å¯¹è±¡å­˜å‚¨æœåŠ¡æ¥å­˜å‚¨å›¾ç‰‡ã€‚</p><h2 id="2-1-ç™»é™†æ³¨å†Œ"><a href="#2-1-ç™»é™†æ³¨å†Œ" class="headerlink" title="2.1.ç™»é™†æ³¨å†Œ"></a>2.1.ç™»é™†æ³¨å†Œ</h2><p>è¦ä½¿ç”¨ä¸ƒç‰›äº‘çš„æœåŠ¡ï¼Œé¦–å…ˆéœ€è¦æ³¨å†Œæˆä¸ºä¼šå‘˜ã€‚åœ°å€ï¼š<a href="https://portal.qiniu.com/signup" target="_blank" rel="noopener">https://portal.qiniu.com/signup</a></p><p>æ³¨å†Œå®Œæˆåå°±å¯ä»¥ä½¿ç”¨åˆšåˆšæ³¨å†Œçš„é‚®ç®±å’Œå¯†ç ç™»å½•åˆ°ä¸ƒç‰›äº‘ã€‚</p><p>ç™»å½•æˆåŠŸåç‚¹å‡»é¡µé¢å³ä¸Šè§’ç®¡ç†æ§åˆ¶å°ï¼Œé€‰æ‹©å¯¹è±¡å­˜å‚¨</p><p><strong>æ³¨æ„</strong>ï¼šç™»å½•æˆåŠŸåè¿˜éœ€è¦è¿›è¡Œå®åè®¤è¯æ‰èƒ½è¿›è¡Œç›¸å…³æ“ä½œã€‚</p><p><img src="//haoyongliang.gitee.io/2019/12/07/å·¥å…·/ä¸ƒç‰›äº‘å­˜å‚¨ä½¿ç”¨/2.png" alt></p><h2 id="2-2-æ–°å»ºå­˜å‚¨ç©ºé—´"><a href="#2-2-æ–°å»ºå­˜å‚¨ç©ºé—´" class="headerlink" title="2.2.æ–°å»ºå­˜å‚¨ç©ºé—´"></a>2.2.æ–°å»ºå­˜å‚¨ç©ºé—´</h2><p>è¦è¿›è¡Œå›¾ç‰‡å­˜å‚¨ï¼Œæˆ‘ä»¬éœ€è¦åœ¨ä¸ƒç‰›äº‘ç®¡ç†æ§åˆ¶å°æ–°å»ºå­˜å‚¨ç©ºé—´ã€‚ç‚¹å‡»ç®¡ç†æ§åˆ¶å°é¦–é¡µå¯¹ è±¡å­˜å‚¨ä¸‹çš„ç«‹å³æ·»åŠ æŒ‰é’®æˆ–è€…æ–°å»ºå­˜å‚¨ç©ºé—´æŒ‰é’®ï¼Œé¡µé¢è·³è½¬åˆ°æ–°å»ºå­˜å‚¨ç©ºé—´é¡µé¢ï¼š</p><p><img src="//haoyongliang.gitee.io/2019/12/07/å·¥å…·/ä¸ƒç‰›äº‘å­˜å‚¨ä½¿ç”¨/3.png" alt></p><p>å¯ä»¥åˆ›å»ºå¤šä¸ªå­˜å‚¨ç©ºé—´ï¼Œå„ä¸ªå­˜å‚¨ç©ºé—´æ˜¯ç›¸äº’ç‹¬ç«‹çš„ã€‚</p><h2 id="2-3-æŸ¥çœ‹å­˜å‚¨ç©ºé—´ä¿¡æ¯"><a href="#2-3-æŸ¥çœ‹å­˜å‚¨ç©ºé—´ä¿¡æ¯" class="headerlink" title="2.3.æŸ¥çœ‹å­˜å‚¨ç©ºé—´ä¿¡æ¯"></a>2.3.æŸ¥çœ‹å­˜å‚¨ç©ºé—´ä¿¡æ¯</h2><p>å­˜å‚¨ç©ºé—´åˆ›å»ºåï¼Œä¼šåœ¨å·¦ä¾§çš„å­˜å‚¨ç©ºé—´åˆ—è¡¨èœå•ä¸­å±•ç¤ºåˆ›å»ºçš„å­˜å‚¨ç©ºé—´åç§°ï¼Œç‚¹å‡»å­˜å‚¨ ç©ºé—´åç§°å¯ä»¥æŸ¥çœ‹å½“å‰å­˜å‚¨ç©ºé—´çš„ç›¸å…³ä¿¡æ¯</p><p><img src="//haoyongliang.gitee.io/2019/12/07/å·¥å…·/ä¸ƒç‰›äº‘å­˜å‚¨ä½¿ç”¨/4.png" alt></p><h2 id="2-4-å¼€å‘è€…ä¸­å¿ƒ"><a href="#2-4-å¼€å‘è€…ä¸­å¿ƒ" class="headerlink" title="2.4.å¼€å‘è€…ä¸­å¿ƒ"></a>2.4.å¼€å‘è€…ä¸­å¿ƒ</h2><p>å¯ä»¥é€šè¿‡ä¸ƒç‰›äº‘æä¾›çš„å¼€å‘è€…ä¸­å¿ƒå­¦ä¹ å¦‚ä½•æ“ä½œä¸ƒç‰›äº‘æœåŠ¡ï¼Œåœ° å€ï¼š<a href="https://developer.qiniu.com/" target="_blank" rel="noopener">https://developer.qiniu.com/</a></p><p><img src="//haoyongliang.gitee.io/2019/12/07/å·¥å…·/ä¸ƒç‰›äº‘å­˜å‚¨ä½¿ç”¨/5.png" alt></p><p>ç‚¹å‡»å¯¹è±¡å­˜å‚¨ï¼Œè·³è½¬åˆ°å¯¹è±¡å­˜å‚¨å¼€å‘é¡µé¢ï¼Œåœ°å€ï¼š<a href="https://developer.qiniu.com/kodo" target="_blank" rel="noopener">https://developer.qiniu.com/kodo</a></p><p><img src="//haoyongliang.gitee.io/2019/12/07/å·¥å…·/ä¸ƒç‰›äº‘å­˜å‚¨ä½¿ç”¨/6.png" alt></p><p>ä¸ƒç‰›äº‘æä¾›äº†å¤šç§æ–¹å¼æ“ä½œå¯¹è±¡å­˜å‚¨æœåŠ¡ï¼Œæœ¬é¡¹ç›®é‡‡ç”¨Java SDKæ–¹å¼ï¼Œåœ° å€ï¼š<a href="https://developer.qiniu.com/kodo/sdk/1239/java" target="_blank" rel="noopener">https://developer.qiniu.com/kodo/sdk/1239/java</a></p><p><img src="//haoyongliang.gitee.io/2019/12/07/å·¥å…·/ä¸ƒç‰›äº‘å­˜å‚¨ä½¿ç”¨/7.png" alt></p><h1 id="3-Java-SDKæ“ä½œä¸ƒç‰›äº‘"><a href="#3-Java-SDKæ“ä½œä¸ƒç‰›äº‘" class="headerlink" title="3.Java SDKæ“ä½œä¸ƒç‰›äº‘"></a>3.Java SDKæ“ä½œä¸ƒç‰›äº‘</h1><h2 id="3-1-å¯¼å…¥ä¾èµ–"><a href="#3-1-å¯¼å…¥ä¾èµ–" class="headerlink" title="3.1.å¯¼å…¥ä¾èµ–"></a>3.1.å¯¼å…¥ä¾èµ–</h2><p>ä¸ƒç‰›äº‘å­˜å‚¨</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.qiniu<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>qiniu-java-sdk<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>[7.2.0, 7.2.99]<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æ‰€éœ€è¦çš„ç¬¬ä¸‰æ–¹ä¾èµ–</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.squareup.okhttp3<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>okhttp<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.14.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">scope</span>&gt;</span>compile<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.google.code.gson<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>gson<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.8.5<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">scope</span>&gt;</span>compile<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.qiniu<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>happy-dns-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>0.1.6<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.12<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="3-2-é‰´æƒ"><a href="#3-2-é‰´æƒ" class="headerlink" title="3.2.é‰´æƒ"></a>3.2.é‰´æƒ</h2><p>Java SDKçš„æ‰€æœ‰çš„åŠŸèƒ½ï¼Œéƒ½éœ€è¦åˆæ³•çš„æˆæƒã€‚æˆæƒå‡­è¯çš„ç­¾ç®—éœ€è¦ä¸ƒç‰›è´¦å·ä¸‹çš„ä¸€å¯¹æœ‰æ•ˆçš„<code>Access Key</code>å’Œ<code>Secret Key</code>ï¼Œè¿™å¯¹å¯†é’¥å¯ä»¥é€šè¿‡å¦‚ä¸‹æ­¥éª¤è·å¾—ï¼š</p><ol><li>ç‚¹å‡»<a href="https://portal.qiniu.com/signup" target="_blank" rel="noopener">æ³¨å†ŒğŸ”—</a>å¼€é€šä¸ƒç‰›å¼€å‘è€…å¸å·</li><li>å¦‚æœå·²æœ‰è´¦å·ï¼Œç›´æ¥ç™»å½•ä¸ƒç‰›å¼€å‘è€…åå°ï¼Œç‚¹å‡»<a href="https://portal.qiniu.com/user/key" target="_blank" rel="noopener">è¿™é‡ŒğŸ”—</a>æŸ¥çœ‹ Access Key å’Œ Secret Key</li></ol><p><img src="//haoyongliang.gitee.io/2019/12/07/å·¥å…·/ä¸ƒç‰›äº‘å­˜å‚¨ä½¿ç”¨/8.png" alt></p><h2 id="3-3-æ ¹æ®æ–‡ä»¶è·¯å¾„ä¸Šä¼ æ–‡ä»¶"><a href="#3-3-æ ¹æ®æ–‡ä»¶è·¯å¾„ä¸Šä¼ æ–‡ä»¶" class="headerlink" title="3.3.æ ¹æ®æ–‡ä»¶è·¯å¾„ä¸Šä¼ æ–‡ä»¶"></a>3.3.æ ¹æ®æ–‡ä»¶è·¯å¾„ä¸Šä¼ æ–‡ä»¶</h2><p>æ¥ä¸‹æ¥æˆ‘ä»¬ä½¿ç”¨ä¸ƒç‰›äº‘æä¾›çš„Java SDKå®Œæˆå›¾ç‰‡ä¸Šä¼ å’Œåˆ é™¤ï¼Œæˆ‘ä»¬å¯ä»¥å‚è€ƒå®˜æ–¹ æä¾›çš„ä¾‹å­ã€‚</p><p><img src="//haoyongliang.gitee.io/2019/12/07/å·¥å…·/ä¸ƒç‰›äº‘å­˜å‚¨ä½¿ç”¨/9.png" alt></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//æ„é€ ä¸€ä¸ªå¸¦æŒ‡å®š Region å¯¹è±¡çš„é…ç½®ç±»,Region.region1()è¡¨ç¤ºæœåŠ¡å™¨çš„ä½ç½®ï¼ŒæŸ¥çœ‹ä¸Šå›¾</span></span><br><span class="line">        Configuration cfg = <span class="keyword">new</span> Configuration(Region.region1());</span><br><span class="line">        <span class="comment">//...å…¶ä»–å‚æ•°å‚è€ƒç±»æ³¨é‡Š</span></span><br><span class="line">        UploadManager uploadManager = <span class="keyword">new</span> UploadManager(cfg);</span><br><span class="line">        <span class="comment">//...ç”Ÿæˆä¸Šä¼ å‡­è¯ï¼Œç„¶åå‡†å¤‡ä¸Šä¼ </span></span><br><span class="line">        String accessKey = <span class="string">"è‡ªå·±çš„AK"</span>;</span><br><span class="line">        String secretKey = <span class="string">"è‡ªå·±çš„SK"</span>;</span><br><span class="line">        String bucket = <span class="string">"å½“å‰å­˜å‚¨ç©ºé—´çš„åå­—"</span>;<span class="comment">//å­˜å‚¨ç©ºé—´åå­—</span></span><br><span class="line">        <span class="comment">//æœ¬åœ°æ–‡ä»¶ä½ç½®</span></span><br><span class="line">        String localFilePath = <span class="string">"C:\\Users\\haoyongliang\\Desktop\\18ç¦\\12.gif"</span>;</span><br><span class="line">        <span class="comment">//è®¾ç½®æ–‡ä»¶åï¼Œkeyè¡¨ç¤ºæ–‡ä»¶åé»˜è®¤ä¸æŒ‡å®škeyçš„æƒ…å†µä¸‹ï¼Œä»¥æ–‡ä»¶å†…å®¹çš„hashå€¼ä½œä¸ºæ–‡ä»¶å</span></span><br><span class="line">        String key = <span class="keyword">null</span>;</span><br><span class="line">        Auth auth = Auth.create(accessKey, secretKey);</span><br><span class="line">        String upToken = auth.uploadToken(bucket);</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Response response = uploadManager.put(localFilePath, key, upToken);</span><br><span class="line">            <span class="comment">//è§£æä¸Šä¼ æˆåŠŸçš„ç»“æœ</span></span><br><span class="line">            DefaultPutRet putRet = <span class="keyword">new</span> Gson().fromJson(response.bodyString(), DefaultPutRet.class);</span><br><span class="line">            <span class="comment">//è¾“å‡ºæœåŠ¡å™¨ä¸­æ–‡ä»¶çš„åå­—</span></span><br><span class="line">            System.out.println(putRet.key);</span><br><span class="line">            System.out.println(putRet.hash);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (QiniuException ex) &#123;</span><br><span class="line">            Response r = ex.response;</span><br><span class="line">            System.err.println(r.toString());</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                System.err.println(r.bodyString());</span><br><span class="line">            &#125; <span class="keyword">catch</span> (QiniuException ex2) &#123;</span><br><span class="line">                <span class="comment">//ignore</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ§åˆ¶å°è¾“å‡º</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">FujP9TQI1WTMYmO4DkXFtVUTehYF</span><br><span class="line">FujP9TQI1WTMYmO4DkXFtVUTehYF</span><br></pre></td></tr></table></figure><p>æŸ¥çœ‹ä¸Šä¼ åˆ°æœåŠ¡å™¨çš„æ–‡ä»¶</p><p><img src="//haoyongliang.gitee.io/2019/12/07/å·¥å…·/ä¸ƒç‰›äº‘å­˜å‚¨ä½¿ç”¨/11.png" alt></p><h2 id="3-4-æ ¹æ®æ–‡ä»¶çš„å­—èŠ‚ç ä¸Šä¼ æ–‡ä»¶"><a href="#3-4-æ ¹æ®æ–‡ä»¶çš„å­—èŠ‚ç ä¸Šä¼ æ–‡ä»¶" class="headerlink" title="3.4 æ ¹æ®æ–‡ä»¶çš„å­—èŠ‚ç ä¸Šä¼ æ–‡ä»¶"></a>3.4 æ ¹æ®æ–‡ä»¶çš„å­—èŠ‚ç ä¸Šä¼ æ–‡ä»¶</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ„é€ ä¸€ä¸ªå¸¦æŒ‡å®š Region å¯¹è±¡çš„é…ç½®ç±»</span></span><br><span class="line">Configuration cfg = <span class="keyword">new</span> Configuration(Region.region0());</span><br><span class="line"><span class="comment">//...å…¶ä»–å‚æ•°å‚è€ƒç±»æ³¨é‡Š</span></span><br><span class="line"></span><br><span class="line">UploadManager uploadManager = <span class="keyword">new</span> UploadManager(cfg);</span><br><span class="line"><span class="comment">//...ç”Ÿæˆä¸Šä¼ å‡­è¯ï¼Œç„¶åå‡†å¤‡ä¸Šä¼ </span></span><br><span class="line">String accessKey = <span class="string">"your access key"</span>;</span><br><span class="line">String secretKey = <span class="string">"your secret key"</span>;</span><br><span class="line">String bucket = <span class="string">"your bucket name"</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//é»˜è®¤ä¸æŒ‡å®škeyçš„æƒ…å†µä¸‹ï¼Œä»¥æ–‡ä»¶å†…å®¹çš„hashå€¼ä½œä¸ºæ–‡ä»¶å</span></span><br><span class="line">String key = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">byte</span>[] uploadBytes = <span class="string">"hello qiniu cloud"</span>.getBytes(<span class="string">"utf-8"</span>);</span><br><span class="line">    Auth auth = Auth.create(accessKey, secretKey);</span><br><span class="line">    String upToken = auth.uploadToken(bucket);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        Response response = uploadManager.put(uploadBytes, key, upToken);</span><br><span class="line">        <span class="comment">//è§£æä¸Šä¼ æˆåŠŸçš„ç»“æœ</span></span><br><span class="line">        DefaultPutRet putRet = <span class="keyword">new</span> Gson().fromJson(response.bodyString(), DefaultPutRet.class);</span><br><span class="line">        System.out.println(putRet.key);</span><br><span class="line">        System.out.println(putRet.hash);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (QiniuException ex) &#123;</span><br><span class="line">        Response r = ex.response;</span><br><span class="line">        System.err.println(r.toString());</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            System.err.println(r.bodyString());</span><br><span class="line">        &#125; <span class="keyword">catch</span> (QiniuException ex2) &#123;</span><br><span class="line">            <span class="comment">//ignore</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125; <span class="keyword">catch</span> (UnsupportedEncodingException ex) &#123;</span><br><span class="line">    <span class="comment">//ignore</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="3-5-åˆ é™¤æ–‡ä»¶"><a href="#3-5-åˆ é™¤æ–‡ä»¶" class="headerlink" title="3.5.åˆ é™¤æ–‡ä»¶"></a>3.5.åˆ é™¤æ–‡ä»¶</h2><p><img src="//haoyongliang.gitee.io/2019/12/07/å·¥å…·/ä¸ƒç‰›äº‘å­˜å‚¨ä½¿ç”¨/10.png" alt></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ„é€ ä¸€ä¸ªå¸¦æŒ‡å®š Region å¯¹è±¡çš„é…ç½®ç±»</span></span><br><span class="line">Configuration cfg = <span class="keyword">new</span> Configuration(Region.region1());</span><br><span class="line"><span class="comment">//...å…¶ä»–å‚æ•°å‚è€ƒç±»æ³¨é‡Š</span></span><br><span class="line"></span><br><span class="line">String accessKey = <span class="string">"ak"</span>;</span><br><span class="line">String secretKey = <span class="string">"sk"</span>;</span><br><span class="line"></span><br><span class="line">String bucket = <span class="string">"å­˜å‚¨ç©ºé—´å"</span>;<span class="comment">//å­˜å‚¨ç©ºé—´å</span></span><br><span class="line">String key = <span class="string">"æ–‡ä»¶å"</span>;<span class="comment">//æ–‡ä»¶å</span></span><br><span class="line"></span><br><span class="line">Auth auth = Auth.create(accessKey, secretKey);</span><br><span class="line">BucketManager bucketManager = <span class="keyword">new</span> BucketManager(auth, cfg);</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    bucketManager.delete(bucket, key);</span><br><span class="line">&#125; <span class="keyword">catch</span> (QiniuException ex) &#123;</span><br><span class="line">    <span class="comment">//å¦‚æœé‡åˆ°å¼‚å¸¸ï¼Œè¯´æ˜åˆ é™¤å¤±è´¥</span></span><br><span class="line">    System.err.println(ex.code());</span><br><span class="line">    System.err.println(ex.response.toString());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="3-5-å°è£…å·¥å…·ç±»"><a href="#3-5-å°è£…å·¥å…·ç±»" class="headerlink" title="3.5.å°è£…å·¥å…·ç±»"></a>3.5.å°è£…å·¥å…·ç±»</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.itcast.utils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.google.gson.Gson;</span><br><span class="line"><span class="keyword">import</span> com.qiniu.common.QiniuException;</span><br><span class="line"><span class="keyword">import</span> com.qiniu.http.Response;</span><br><span class="line"><span class="keyword">import</span> com.qiniu.storage.BucketManager;</span><br><span class="line"><span class="keyword">import</span> com.qiniu.storage.Configuration;</span><br><span class="line"><span class="keyword">import</span> com.qiniu.storage.Region;</span><br><span class="line"><span class="keyword">import</span> com.qiniu.storage.UploadManager;</span><br><span class="line"><span class="keyword">import</span> com.qiniu.storage.model.DefaultPutRet;</span><br><span class="line"><span class="keyword">import</span> com.qiniu.util.Auth;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.UnsupportedEncodingException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">QiNiuUtils</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String ACCESS_KEY = <span class="string">"o3KNPxydqBA51Z32nOO92OBeL0aUuF5ZBt37HZNp"</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String SECRET_KEY = <span class="string">"XKD0Mbc-p99g1xsD8M6n83I7UTcl_suIswlpr5c5"</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String BUCKET = <span class="string">"hyl-test"</span>;<span class="comment">//å­˜å‚¨ç©ºé—´åå­—</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span>  <span class="keyword">void</span> <span class="title">upload2Qiniu</span><span class="params">(<span class="keyword">byte</span>[] data,String fileName)</span><span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">        <span class="comment">//æ„é€ ä¸€ä¸ªå¸¦æŒ‡å®š Region å¯¹è±¡çš„é…ç½®ç±»</span></span><br><span class="line">        Configuration cfg = <span class="keyword">new</span> Configuration(Region.region1());</span><br><span class="line">        <span class="comment">//...å…¶ä»–å‚æ•°å‚è€ƒç±»æ³¨é‡Š</span></span><br><span class="line">        UploadManager uploadManager = <span class="keyword">new</span> UploadManager(cfg);</span><br><span class="line">        <span class="comment">//é»˜è®¤ä¸æŒ‡å®škeyçš„æƒ…å†µä¸‹ï¼Œä»¥æ–‡ä»¶å†…å®¹çš„hashå€¼ä½œä¸ºæ–‡ä»¶å</span></span><br><span class="line">        String key = fileName;</span><br><span class="line">            Auth auth = Auth.create(ACCESS_KEY, SECRET_KEY);</span><br><span class="line">            String upToken = auth.uploadToken(BUCKET);</span><br><span class="line">                Response response = uploadManager.put(data, key, upToken);</span><br><span class="line">                <span class="comment">//è§£æä¸Šä¼ æˆåŠŸçš„ç»“æœ</span></span><br><span class="line">                DefaultPutRet putRet = <span class="keyword">new</span> Gson().fromJson(response.bodyString(), DefaultPutRet.class);</span><br><span class="line">                System.out.println(putRet.key);</span><br><span class="line">                System.out.println(putRet.hash);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">upload2Qiniu</span><span class="params">(String filePath,String fileName)</span></span>&#123;</span><br><span class="line">        <span class="comment">//æ„é€ ä¸€ä¸ªå¸¦æŒ‡å®š Region å¯¹è±¡çš„é…ç½®ç±»</span></span><br><span class="line">        Configuration cfg = <span class="keyword">new</span> Configuration(Region.region1());<span class="comment">//Region.region1()è¡¨ç¤ºæœåŠ¡å™¨çš„ä½ç½®ï¼ŒæŸ¥çœ‹API</span></span><br><span class="line">        <span class="comment">//...å…¶ä»–å‚æ•°å‚è€ƒç±»æ³¨é‡Š</span></span><br><span class="line">        UploadManager uploadManager = <span class="keyword">new</span> UploadManager(cfg);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//å¦‚æœæ˜¯Windowsæƒ…å†µä¸‹ï¼Œæ ¼å¼æ˜¯ D:\\qiniu\\test.png</span></span><br><span class="line">        String localFilePath = filePath+<span class="string">"\\"</span>+fileName;</span><br><span class="line">        <span class="comment">//é»˜è®¤ä¸æŒ‡å®škey(æ–‡ä»¶å)çš„æƒ…å†µä¸‹ï¼Œä»¥æ–‡ä»¶å†…å®¹çš„hashå€¼ä½œä¸ºæ–‡ä»¶å</span></span><br><span class="line">        String key = <span class="keyword">null</span>;</span><br><span class="line">        Auth auth = Auth.create(ACCESS_KEY, SECRET_KEY);</span><br><span class="line">        String upToken = auth.uploadToken(BUCKET);</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Response response = uploadManager.put(localFilePath, key, upToken);</span><br><span class="line">            <span class="comment">//è§£æä¸Šä¼ æˆåŠŸçš„ç»“æœ</span></span><br><span class="line">            DefaultPutRet putRet = <span class="keyword">new</span> Gson().fromJson(response.bodyString(), DefaultPutRet.class);</span><br><span class="line">            <span class="comment">//è¾“å‡ºæœåŠ¡å™¨ä¸­æ–‡ä»¶çš„åå­—</span></span><br><span class="line">            System.out.println(putRet.key);</span><br><span class="line">            System.out.println(putRet.hash);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (QiniuException ex) &#123;</span><br><span class="line">            Response r = ex.response;</span><br><span class="line">            System.err.println(r.toString());</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                System.err.println(r.bodyString());</span><br><span class="line">            &#125; <span class="keyword">catch</span> (QiniuException ex2) &#123;</span><br><span class="line">                <span class="comment">//ignore</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//åˆ é™¤æ–‡ä»¶</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">deleteFileFromQiniu</span><span class="params">(String fileName)</span></span>&#123;</span><br><span class="line">        <span class="comment">//æ„é€ ä¸€ä¸ªå¸¦æŒ‡å®š Region å¯¹è±¡çš„é…ç½®ç±»</span></span><br><span class="line">        Configuration cfg = <span class="keyword">new</span> Configuration(Region.region1());</span><br><span class="line"></span><br><span class="line">        Auth auth = Auth.create(ACCESS_KEY, SECRET_KEY);</span><br><span class="line">        BucketManager bucketManager = <span class="keyword">new</span> BucketManager(auth, cfg);</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            bucketManager.delete(BUCKET, fileName);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (QiniuException ex) &#123;</span><br><span class="line">            <span class="comment">//å¦‚æœé‡åˆ°å¼‚å¸¸ï¼Œè¯´æ˜åˆ é™¤å¤±è´¥</span></span><br><span class="line">            System.err.println(ex.code());</span><br><span class="line">            System.err.println(ex.response.toString());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å·¥å…· </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å·¥å…· </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åå°„</title>
      <link href="/2019/12/04/javaSE/%E5%8F%8D%E5%B0%84/"/>
      <url>/2019/12/04/javaSE/%E5%8F%8D%E5%B0%84/</url>
      
        <content type="html"><![CDATA[<h1 id="ä»€ä¹ˆæ˜¯åå°„"><a href="#ä»€ä¹ˆæ˜¯åå°„" class="headerlink" title="ä»€ä¹ˆæ˜¯åå°„"></a>ä»€ä¹ˆæ˜¯åå°„</h1><h2 id="å®˜æ–¹ä»‹ç»"><a href="#å®˜æ–¹ä»‹ç»" class="headerlink" title="å®˜æ–¹ä»‹ç»"></a>å®˜æ–¹ä»‹ç»</h2><p>JAVAåå°„æœºåˆ¶æ˜¯åœ¨è¿è¡ŒçŠ¶æ€ä¸­ï¼Œå¯¹äºä»»æ„ä¸€ä¸ªç±»ï¼Œéƒ½èƒ½å¤ŸçŸ¥é“è¿™ä¸ªç±»çš„æ‰€æœ‰å±æ€§å’Œæ–¹æ³•ï¼›å¯¹äºä»»æ„ä¸€ä¸ªå¯¹è±¡ï¼Œéƒ½èƒ½å¤Ÿè°ƒç”¨å®ƒçš„ä»»æ„æ–¹æ³•å’Œå±æ€§ï¼›è¿™ç§åŠ¨æ€è·å–ä¿¡æ¯ä»¥åŠåŠ¨æ€è°ƒç”¨å¯¹è±¡æ–¹æ³•çš„åŠŸèƒ½ç§°ä¸ºjavaè¯­è¨€çš„åå°„æœºåˆ¶ã€‚</p><h2 id="é€šä¿—è§£é‡Š"><a href="#é€šä¿—è§£é‡Š" class="headerlink" title="é€šä¿—è§£é‡Š"></a>é€šä¿—è§£é‡Š</h2><p>æŠŠ.classæ–‡ä»¶åŠ è½½åˆ°å†…å­˜ï¼Œå¹¶åˆ›å»ºå¯¹åº”çš„Classå¯¹è±¡(<strong>è¿™æ˜¯ç¬¬ä¸€æ­¥</strong>)ï¼Œç„¶åè·å–Classå¯¹è±¡(å­—èŠ‚ç å¯¹è±¡)ä¸­çš„Constructor,Field,Methodï¼ˆ<strong>è¿™æ˜¯ç¬¬äºŒæ­¥</strong>ï¼‰ã€‚å¹¶é€šè¿‡è¿™ä¸‰ä¸ªå¯¹è±¡ä»»æ„æ“ä½œå†…å­˜ä¸­çš„å¯¹è±¡å±æ€§å’Œè¡Œä¸ºï¼ˆ<strong>è¿™æ˜¯ç¬¬ä¸‰æ­¥</strong>ï¼‰ã€‚</p><p>åè¯è§£é‡Šï¼š</p><p>Constructor æ„é€ æ–¹æ³•æè¿°å™¨</p><p>Field å±æ€§æè¿°å™¨</p><p>Method æ–¹æ³•æè¿°å™¨</p><h1 id="è·å–Classå¯¹è±¡çš„æ–¹å¼"><a href="#è·å–Classå¯¹è±¡çš„æ–¹å¼" class="headerlink" title="è·å–Classå¯¹è±¡çš„æ–¹å¼"></a>è·å–Classå¯¹è±¡çš„æ–¹å¼</h1><blockquote><p>å¦‚ä½•æŠŠ.classæ–‡ä»¶åŠ è½½åˆ°å†…å­˜</p><p>Classç±»è¡¨ç¤ºå­—èŠ‚ç æ–‡ä»¶å¯¹è±¡ç±»</p></blockquote><p><strong>æ³¨æ„ï¼š</strong>åªè¦æ“ä½œçš„æ˜¯åŒä¸€ä¸ª.classæ–‡ä»¶ï¼Œé‚£ä¹ˆè·å–åˆ°çš„Classå¯¹è±¡ä¸€å®šæ˜¯ç›¸åŒ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> è·å–<span class="title">Class</span>å¯¹è±¡çš„ä¸‰ç§æ–¹å¼ </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="comment">//1.ç±»å.class</span></span><br><span class="line">        Class clazz = Person.class;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//2.Class.forName("å…¨ç±»å");</span></span><br><span class="line">        Class clazz2 = Class.forName(<span class="string">"cn.itcast.domain.Person"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//3.å¯¹è±¡å.getClass()</span></span><br><span class="line">        Class clazz3 = <span class="keyword">new</span> Person().getClass();</span><br><span class="line"></span><br><span class="line">        </span><br><span class="line">        <span class="comment">//è¾“å‡ºå­—èŠ‚ç å¯¹è±¡çš„åå­—</span></span><br><span class="line">        System.out.println(clazz.getName());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="é€šè¿‡åå°„æ“ä½œå¯¹è±¡çš„å±æ€§"><a href="#é€šè¿‡åå°„æ“ä½œå¯¹è±¡çš„å±æ€§" class="headerlink" title="é€šè¿‡åå°„æ“ä½œå¯¹è±¡çš„å±æ€§"></a>é€šè¿‡åå°„æ“ä½œå¯¹è±¡çš„å±æ€§</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºå¯¹è±¡(å¯ä»¥newå¯¹è±¡ä¹Ÿå¯ä»¥é€šè¿‡åå°„åˆ›å»ºå¯¹è±¡ï¼Œè¿™ä¸æ˜¯é‡ç‚¹)*/</span></span><br><span class="line">Person person = <span class="keyword">new</span> Person(<span class="string">"æå››"</span>, <span class="number">13</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">/*ç¬¬äºŒæ­¥ï¼šé€šè¿‡åå°„è·å–Fieldå¯¹è±¡ï¼Œå¹¶æ“ä½œpersonçš„å±æ€§*/</span></span><br><span class="line"><span class="comment">//1.è·å–å­—èŠ‚ç å¯¹è±¡</span></span><br><span class="line">Class clazz = Person.class;</span><br><span class="line"></span><br><span class="line"><span class="comment">//2.é€šè¿‡å­—èŠ‚ç å¯¹è±¡è·å–Fieldå±æ€§æè¿°å™¨</span></span><br><span class="line">Field field = clazz.getDeclaredField(<span class="string">"name"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//3.è·å–è®¿é—®æƒé™ï¼Œæš´åŠ›åå°„</span></span><br><span class="line">field.setAccessible(<span class="keyword">true</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//4.ç»™personå¯¹è±¡çš„nameå±æ€§è®¾ç½®å€¼</span></span><br><span class="line">field.set(person, <span class="string">"å¼ ä¸‰"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//4.é€šè¿‡å±æ€§æè¿°å™¨è·å–æŒ‡å®šå¯¹è±¡çš„å±æ€§</span></span><br><span class="line">String name = (String)field.get(person);</span><br><span class="line"></span><br><span class="line">System.out.println(name);<span class="comment">//è¾“å‡ºå¼ ä¸‰</span></span><br></pre></td></tr></table></figure><h1 id="é€šè¿‡åå°„æ“ä½œæ„é€ æ–¹æ³•"><a href="#é€šè¿‡åå°„æ“ä½œæ„é€ æ–¹æ³•" class="headerlink" title="é€šè¿‡åå°„æ“ä½œæ„é€ æ–¹æ³•"></a>é€šè¿‡åå°„æ“ä½œæ„é€ æ–¹æ³•</h1><blockquote><p>æ„é€ æ–¹æ³•çš„ä½œç”¨ï¼šç»™ç§æœ‰æˆå‘˜å˜é‡èµ‹å€¼ï¼Œåˆ›å»ºå¯¹è±¡</p></blockquote><p><strong>ç›®çš„</strong>:æ˜¯ä¸ºäº†åˆ›å»ºConstructorå¯¹è±¡ï¼Œç„¶åé€šè¿‡è¯¥å¯¹è±¡çš„newInstanceæ–¹æ³•åˆ›å»ºå¯¹è±¡</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">//1.è·å–å­—èŠ‚ç å¯¹è±¡</span></span><br><span class="line">Class clazz = Person.class;</span><br><span class="line"><span class="comment">//2.è·å–å±æ€§/æ„é€ æ–¹æ³•/æˆå‘˜æ–¹æ³•//è·å–Person(String, int)æ„é€  </span></span><br><span class="line">Constructor constructor = clazz.getDeclaredConstructor(String.class,<span class="keyword">int</span>.class);</span><br><span class="line"><span class="comment">//3.è®¾ç½®è®¿é—®æƒé™</span></span><br><span class="line">constructor.setAccessible(<span class="keyword">true</span>);</span><br><span class="line"><span class="comment">//4.åˆ›å»ºå¯¹è±¡</span></span><br><span class="line">Person person = (Person)constructor.newInstance(<span class="string">"å¼ ä¸‰"</span>, <span class="number">13</span>);</span><br><span class="line"></span><br><span class="line">System.out.println(person);</span><br></pre></td></tr></table></figure><h1 id="é€šè¿‡åå°„æ“ä½œå¯¹è±¡çš„æ™®é€šæ–¹æ³•"><a href="#é€šè¿‡åå°„æ“ä½œå¯¹è±¡çš„æ™®é€šæ–¹æ³•" class="headerlink" title="é€šè¿‡åå°„æ“ä½œå¯¹è±¡çš„æ™®é€šæ–¹æ³•"></a>é€šè¿‡åå°„æ“ä½œå¯¹è±¡çš„æ™®é€šæ–¹æ³•</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºå¯¹è±¡(å¯ä»¥newå¯¹è±¡ä¹Ÿå¯ä»¥é€šè¿‡åå°„åˆ›å»ºå¯¹è±¡ï¼Œè¿™ä¸æ˜¯é‡ç‚¹)*/</span></span><br><span class="line">Person person = <span class="keyword">new</span> Person(<span class="string">"å¼ ä¸‰"</span>, <span class="number">13</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*ç¬¬äºŒæ­¥ï¼šé€šè¿‡åå°„è·å–Methodå¯¹è±¡ï¼Œå¹¶é€šè¿‡methodå¯¹è±¡æ‰§è¡Œpersonå¯¹è±¡çš„setName(String name)æ–¹æ³•*/</span></span><br><span class="line"><span class="comment">//1.è·å–å­—èŠ‚ç å¯¹è±¡</span></span><br><span class="line">Class clazz = Person.class;</span><br><span class="line"><span class="comment">//2.è·å–å±æ€§/æ„é€ æ–¹æ³•/æˆå‘˜æ–¹æ³•</span></span><br><span class="line">Method setName = clazz.getDeclaredMethod(<span class="string">"setName"</span>,String.class);</span><br><span class="line"><span class="comment">//3.è®¾ç½®è®¿é—®æƒé™</span></span><br><span class="line">setName.setAccessible(<span class="keyword">true</span>);</span><br><span class="line"><span class="comment">//4.æ‰§è¡Œpersonå¯¹è±¡çš„setNameæ–¹æ³•</span></span><br><span class="line">setName.invoke(person,<span class="string">"æå››"</span>);</span><br><span class="line">System.out.println(person);</span><br></pre></td></tr></table></figure><h1 id="åå°„æ¡ˆä¾‹"><a href="#åå°„æ¡ˆä¾‹" class="headerlink" title="åå°„æ¡ˆä¾‹"></a>åå°„æ¡ˆä¾‹</h1><p>é€šè¿‡åå°„æ‰§è¡Œé…ç½®æ–‡ä»¶ä¸­æŒ‡å®šç±»çš„æŒ‡å®šæ–¹æ³•</p><p>prop.properties</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">className=cn.itcast.domain.Student</span><br><span class="line">methodName=sleep</span><br></pre></td></tr></table></figure><p>javaä»£ç </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">Properties properties = <span class="keyword">new</span> Properties();</span><br><span class="line"><span class="comment">//è¡¨ç¤ºå°†srcç›®å½•ä¸‹çš„config.propertiesä¸­çš„æ•°æ®åŠ è½½åˆ°å½“å‰é›†åˆä¸­</span></span><br><span class="line">properties.load(åå°„çš„åº”ç”¨çœŸå®æ¡ˆä¾‹.class.getClassLoader().getResourceAsStream(<span class="string">"config.properties"</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">/*ç›®çš„ï¼šæ‰§è¡ŒclassNameè¿™ä¸ªç±»ä¸­methodNameè¿™ä¸ªæ–¹æ³•*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//ç¬¬ä¸€æ­¥ï¼šæ ¹æ®classNameçš„å€¼åˆ›å»ºå¯¹è±¡classNameçš„å€¼ï¼šcn.itcast.domain.Cat</span></span><br><span class="line">String className = properties.getProperty(<span class="string">"className"</span>);</span><br><span class="line">Class clazz = Class.forName(className);</span><br><span class="line">Constructor constructor = clazz.getDeclaredConstructor();</span><br><span class="line">constructor.setAccessible(<span class="keyword">true</span>);</span><br><span class="line">Object obj = constructor.newInstance();</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç¬¬äºŒæ­¥ï¼šæ‰§è¡Œå¯¹åº”çš„æ–¹æ³•</span></span><br><span class="line">String methodName = properties.getProperty(<span class="string">"methodName"</span>);<span class="comment">//methodNameçš„å€¼eat</span></span><br><span class="line">Method method = clazz.getDeclaredMethod(methodName);</span><br><span class="line">method.setAccessible(<span class="keyword">true</span>);</span><br><span class="line">method.invoke(obj);</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Javaæ ¸å¿ƒ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javaæ ¸å¿ƒ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>IDEAä¸­åŒå‡»Shift å¼¹å‡ºsearch everywhere</title>
      <link href="/2019/11/17/IDEA/%E4%BF%AE%E6%94%B9Idea%E5%BF%AB%E6%8D%B7%E9%94%AEDoubleShift/"/>
      <url>/2019/11/17/IDEA/%E4%BF%AE%E6%94%B9Idea%E5%BF%AB%E6%8D%B7%E9%94%AEDoubleShift/</url>
      
        <content type="html"><![CDATA[<h1 id="é—®é¢˜æè¿°"><a href="#é—®é¢˜æè¿°" class="headerlink" title="é—®é¢˜æè¿°"></a>é—®é¢˜æè¿°</h1><p>IDEAä¸­åŒå‡»Shifté”®å¿«æ·ä¼šå¼¹å‡ºsearch everywhere</p><p>è¿™ä¸ªé—®é¢˜å¾ˆå›°æƒ‘ï¼Œå› ä¸ºè¿™ä¸ªåŠŸèƒ½å¾ˆå¥½ç”¨ï¼ŒæŸ¥æ‰¾ä»€ä¹ˆå¾ˆæ–¹ä¾¿ï¼Œbutï¼ æˆ‘ç”¨äº†åå¹´çš„ç™¾åº¦/æœç‹—è¾“å…¥æ³•ï¼Œå¤§å®¶éƒ½çŸ¥é“è¾“å…¥æ³•æŒ‰shiftä¸­è‹±æ–‡åˆ‡æ¢å¾ˆæ–¹ä¾¿ï¼Œç‰¹åˆ«åœ¨å†™ä»£ç æ—¶å€™ã€‚ã€‚ã€‚æ‰€ä»¥å°±å’Œè¿™ä¸ªdouble shiftåŠŸèƒ½å†²çªäº†ï¼Œç»å¸¸ä¼šæŒ‰ä¸¤ä¸‹shift å¼¹å‡ºä¸ªæ¡†ï¼ŒæŠŠä»£ç å†™æ¡†é‡Œäº†ã€‚åºŸè¯ä¸å¤šè¯´ä¸Šå›¾ï¼Œå‘Šè¯‰ä½ æ€ä¹ˆå–æ¶ˆæ­¤åŠŸèƒ½ï¼Œåœ¨ä¿®æ”¹æˆå…¶ä»–å¿«æ·é”®ã€‚</p><h1 id="ç¬¬ä¸€æ­¥"><a href="#ç¬¬ä¸€æ­¥" class="headerlink" title="ç¬¬ä¸€æ­¥"></a>ç¬¬ä¸€æ­¥</h1><blockquote><p>é¦–å…ˆå–æ¶ˆè¯¥åŠŸèƒ½ï¼š  æ‰“å¼€IDE  æŒ‰å¿«æ·é”® Ctrl+Shift+A  è¾“å…¥ registry è¿›å…¥è½¯ä»¶æ³¨å†Œè¡¨ï¼Œ</p></blockquote><p><img src="//haoyongliang.gitee.io/2019/11/17/IDEA/ä¿®æ”¹Ideaå¿«æ·é”®DoubleShift/1.png" alt="1"></p><h1 id="ç¬¬äºŒæ­¥"><a href="#ç¬¬äºŒæ­¥" class="headerlink" title="ç¬¬äºŒæ­¥"></a>ç¬¬äºŒæ­¥</h1><p>è¿›å…¥ä¹‹åæ‰¾åˆ° ide.suppress.double.click.handler æ‰“ä¸Šå‹¾ ï¼Œç„¶åç›´æ¥ç‚¹å³ä¸‹è§’ close,ä¸è¦ç‚¹restory defaults(è®ºè‹±æ–‡çš„é‡è¦æ€§ï¼ï¼ï¼  æˆ‘ç‚¹é”™äº†å¥½å‡ æ¬¡æ‰çŸ¥é“é‚£å«æ¢å¤é»˜è®¤ï¼ï¼ï¼)  åˆ°æ­¤â€“&gt;å–æ¶ˆOKï¼</p><p><img src="//haoyongliang.gitee.io/2019/11/17/IDEA/ä¿®æ”¹Ideaå¿«æ·é”®DoubleShift/2.png" alt="1"></p><h1 id="ç¬¬ä¸‰æ­¥"><a href="#ç¬¬ä¸‰æ­¥" class="headerlink" title="ç¬¬ä¸‰æ­¥"></a>ç¬¬ä¸‰æ­¥</h1><p>è®¾ç½®å¿«æ·é”®  æ‰“å¼€è®¾ç½®ï¼Œæ‰¾åˆ°keymap   ï¼Œæ‰¾åˆ°search everywhere,å³é”®ç¬¬ä¸€ä¸ªé€‰é¡¹ ç„¶åæ ¹æ®å–œå¥½æŒ‰é”®ç›˜æˆ–è€…æŒ‰ç»„åˆé”®å°±ä¼šè‡ªåŠ¨è®¾ç½®è¿›å»ã€‚</p><p><img src="//haoyongliang.gitee.io/2019/11/17/IDEA/ä¿®æ”¹Ideaå¿«æ·é”®DoubleShift/3.png" alt="1"></p>]]></content>
      
      
      <categories>
          
          <category> idea </category>
          
      </categories>
      
      
        <tags>
            
            <tag> idea </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>06.æŒ‡æ•°åŸºé‡‘çš„æŒ‘é€‰</title>
      <link href="/2019/10/12/%E7%90%86%E8%B4%A2/06.%E6%8C%87%E6%95%B0%E5%9F%BA%E9%87%91%E7%9A%84%E6%8C%91%E9%80%89/"/>
      <url>/2019/10/12/%E7%90%86%E8%B4%A2/06.%E6%8C%87%E6%95%B0%E5%9F%BA%E9%87%91%E7%9A%84%E6%8C%91%E9%80%89/</url>
      
        <content type="html"><![CDATA[<h1 id="æŒ‡æ•°æ˜¯ä»€ä¹ˆ"><a href="#æŒ‡æ•°æ˜¯ä»€ä¹ˆ" class="headerlink" title="æŒ‡æ•°æ˜¯ä»€ä¹ˆ"></a>æŒ‡æ•°æ˜¯ä»€ä¹ˆ</h1><p>æŒ‡æ•°å…¶å®å°±æ˜¯ä¸€ä¸ª<strong>é€‰è‚¡è§„åˆ™</strong>ï¼Œå®ƒæ˜¯æŒ‰ç…§æŸä¸ªè§„åˆ™æŒ‘é€‰å‡ºä¸€ç¯®å­è‚¡ç¥¨ï¼Œå¹¶ç”±ä¸“ä¸šæœºæ„é€šè¿‡å¤æ‚çš„è®¡ç®—åç®—å‡ºè¿™ä¸€ç¯®å­è‚¡ç¥¨çš„å¹³å‡ä»·æ ¼ï¼Œç„¶åç”¨æ¥åæ˜ å¸‚åœºä¸Šè¿™ç±»è‚¡ç¥¨çš„ä»·æ ¼æ°´å¹³ã€‚æˆ‘ä»¬æŠŠè¿™ä¸ªå¹³å‡ä»·æ ¼ç§°ä¸ºæŒ‡æ•°ç‚¹ä½ï¼Œæ”¾åœ¨ç¯®å­é‡Œçš„è¿™äº›è‚¡ç¥¨ï¼Œæˆ‘ä»¬ç§°ä»–ä»¬æ˜¯è¿™åªæŒ‡æ•°çš„æˆåˆ†è‚¡ã€‚</p><h1 id="æŒ‡æ•°åŸºé‡‘æ˜¯ä»€ä¹ˆ"><a href="#æŒ‡æ•°åŸºé‡‘æ˜¯ä»€ä¹ˆ" class="headerlink" title="æŒ‡æ•°åŸºé‡‘æ˜¯ä»€ä¹ˆ"></a>æŒ‡æ•°åŸºé‡‘æ˜¯ä»€ä¹ˆ</h1><p>æŒ‡æ•°åŸºé‡‘ï¼ŒæŒ‡çš„æ˜¯è·Ÿè¸ªç‰¹å®šçš„æŒ‡æ•°ï¼Œå¹¶<strong>æŒ‰ç…§è¿™ä¸ªæŒ‡æ•°æˆåˆ†è‚¡çš„æ¯”ä¾‹ï¼Œä¹°å…¥åŒæ ·çš„è‚¡ç¥¨ç»„åˆçš„åŸºé‡‘ã€‚</strong></p><h1 id="Aè‚¡å¸‚åœºçš„5ä¸ªä¸»è¦æŒ‡æ•°"><a href="#Aè‚¡å¸‚åœºçš„5ä¸ªä¸»è¦æŒ‡æ•°" class="headerlink" title="Aè‚¡å¸‚åœºçš„5ä¸ªä¸»è¦æŒ‡æ•°"></a>Aè‚¡å¸‚åœºçš„5ä¸ªä¸»è¦æŒ‡æ•°</h1><h2 id="åˆ†ç±»"><a href="#åˆ†ç±»" class="headerlink" title="åˆ†ç±»"></a>åˆ†ç±»</h2><p>ä¸Šè¯50æŒ‡æ•°ã€æ²ªæ·±300æŒ‡æ•°ã€é‡ç—‡500æŒ‡æ•°ã€åˆ›ä¸šæ¿æŒ‡æ•°ã€çº¢åˆ©æŒ‡æ•°</p><p><img src="//haoyongliang.gitee.io/2019/10/12/ç†è´¢/06.æŒ‡æ•°åŸºé‡‘çš„æŒ‘é€‰/1.png" alt></p><p><img src="//haoyongliang.gitee.io/2019/10/12/ç†è´¢/06.æŒ‡æ•°åŸºé‡‘çš„æŒ‘é€‰/2.png" alt></p><h2 id="ä¸ºä»€ä¹ˆæ²ªæ·±300æ¯”ä¸­è¯500æ¶¨å¹…ä½"><a href="#ä¸ºä»€ä¹ˆæ²ªæ·±300æ¯”ä¸­è¯500æ¶¨å¹…ä½" class="headerlink" title="ä¸ºä»€ä¹ˆæ²ªæ·±300æ¯”ä¸­è¯500æ¶¨å¹…ä½"></a>ä¸ºä»€ä¹ˆæ²ªæ·±300æ¯”ä¸­è¯500æ¶¨å¹…ä½</h2><p>å¯ä»¥æŠŠæ²ªæ·±300ç†è§£æˆç­é‡Œçš„ä¼˜ç­‰ç”Ÿï¼Œæ¯æ¬¡è€ƒè¯•98åˆ†ï¼Œæƒ³è¦æå‡1åˆ†éƒ½å¾ˆå›°éš¾ã€‚ä¸­è¯500ç†è§£æˆä¸­ç­‰ç”Ÿï¼Œä¸Šå‡ç©ºé—´ç›¸å¯¹è¾ƒå¤§</p><h2 id="å„ä¸ªæŒ‡æ•°ä¸­åŒ…å«çš„ä¼˜è´¨è‚¡ç¥¨æ’å"><a href="#å„ä¸ªæŒ‡æ•°ä¸­åŒ…å«çš„ä¼˜è´¨è‚¡ç¥¨æ’å" class="headerlink" title="å„ä¸ªæŒ‡æ•°ä¸­åŒ…å«çš„ä¼˜è´¨è‚¡ç¥¨æ’å"></a>å„ä¸ªæŒ‡æ•°ä¸­åŒ…å«çš„ä¼˜è´¨è‚¡ç¥¨æ’å</h2><p>çº¢åˆ©&gt;æ²ªæ·±300ã€ä¸Šè¯50&gt;ä¸­è¯500&gt;åˆ›ä¸šæ¿</p><h1 id="ç¾è‚¡å¸‚åœºçš„2ä¸ªä¸»è¦æŒ‡æ•°"><a href="#ç¾è‚¡å¸‚åœºçš„2ä¸ªä¸»è¦æŒ‡æ•°" class="headerlink" title="ç¾è‚¡å¸‚åœºçš„2ä¸ªä¸»è¦æŒ‡æ•°"></a>ç¾è‚¡å¸‚åœºçš„2ä¸ªä¸»è¦æŒ‡æ•°</h1><blockquote><p>ç¾è‚¡æŒ‡æ•°å¯ä»¥å¯¹å†²äººæ°‘å¸è´¬å€¼çš„é£é™©</p></blockquote><p><img src="//haoyongliang.gitee.io/2019/10/12/ç†è´¢/06.æŒ‡æ•°åŸºé‡‘çš„æŒ‘é€‰/3.png" alt></p><h1 id="æ¸¯è‚¡å¸‚åœºçš„2ä¸ªä¸»è¦æŒ‡æ•°"><a href="#æ¸¯è‚¡å¸‚åœºçš„2ä¸ªä¸»è¦æŒ‡æ•°" class="headerlink" title="æ¸¯è‚¡å¸‚åœºçš„2ä¸ªä¸»è¦æŒ‡æ•°"></a>æ¸¯è‚¡å¸‚åœºçš„2ä¸ªä¸»è¦æŒ‡æ•°</h1><p><img src="//haoyongliang.gitee.io/2019/10/12/ç†è´¢/06.æŒ‡æ•°åŸºé‡‘çš„æŒ‘é€‰/4.png" alt></p><h1 id="æŒ‡æ•°åŸºé‡‘çš„åˆ†ç±»"><a href="#æŒ‡æ•°åŸºé‡‘çš„åˆ†ç±»" class="headerlink" title="æŒ‡æ•°åŸºé‡‘çš„åˆ†ç±»"></a>æŒ‡æ•°åŸºé‡‘çš„åˆ†ç±»</h1><blockquote><p>å¸¸è§çš„æŒ‡æ•°åŸºé‡‘å¯ä»¥ä»ä¸¤ä¸ªç»´åº¦åˆ†ç±»</p></blockquote><h2 id="æŒ‰æŒ‡æ•°åŸºé‡‘æ˜¯å¦é€šåƒå„ä¸ªè¡Œä¸šåˆ†ç±»"><a href="#æŒ‰æŒ‡æ•°åŸºé‡‘æ˜¯å¦é€šåƒå„ä¸ªè¡Œä¸šåˆ†ç±»" class="headerlink" title="æŒ‰æŒ‡æ•°åŸºé‡‘æ˜¯å¦é€šåƒå„ä¸ªè¡Œä¸šåˆ†ç±»"></a>æŒ‰æŒ‡æ•°åŸºé‡‘æ˜¯å¦é€šåƒå„ä¸ªè¡Œä¸šåˆ†ç±»</h2><p>åˆ†ä¸ºå®½åŸºæŒ‡æ•°åŸºé‡‘å’Œè¡Œä¸šæŒ‡æ•°åŸºé‡‘</p><p><img src="//haoyongliang.gitee.io/2019/10/12/ç†è´¢/06.æŒ‡æ•°åŸºé‡‘çš„æŒ‘é€‰/5.png" alt></p><p>å®½åŸºæŒ‡æ•°å’Œè¡Œä¸šæŒ‡æ•°çš„åŒºåˆ«</p><p><img src="//haoyongliang.gitee.io/2019/10/12/ç†è´¢/06.æŒ‡æ•°åŸºé‡‘çš„æŒ‘é€‰/6.png" alt></p><h2 id="æŒ‰å¤åˆ¶æ–¹å¼åˆ†ç±»"><a href="#æŒ‰å¤åˆ¶æ–¹å¼åˆ†ç±»" class="headerlink" title="æŒ‰å¤åˆ¶æ–¹å¼åˆ†ç±»"></a>æŒ‰å¤åˆ¶æ–¹å¼åˆ†ç±»</h2><p><img src="//haoyongliang.gitee.io/2019/10/12/ç†è´¢/06.æŒ‡æ•°åŸºé‡‘çš„æŒ‘é€‰/7.png" alt></p><p>ä¹°æŒ‡æ•°åŸºé‡‘çš„ç›®çš„å°±æ˜¯å› ä¸ºå…¶è¢«åŠ¨ï¼Œä¸ªäººä¸æ¨èå¢å¼ºå‹æŒ‡æ•°åŸºé‡‘ã€‚</p><h1 id="æŒ‡æ•°åŸºé‡‘çš„ä¼˜ç‚¹"><a href="#æŒ‡æ•°åŸºé‡‘çš„ä¼˜ç‚¹" class="headerlink" title="æŒ‡æ•°åŸºé‡‘çš„ä¼˜ç‚¹"></a>æŒ‡æ•°åŸºé‡‘çš„ä¼˜ç‚¹</h1><h2 id="ç­ç»äººæ€§"><a href="#ç­ç»äººæ€§" class="headerlink" title="ç­ç»äººæ€§"></a>ç­ç»äººæ€§</h2><p><img src="//haoyongliang.gitee.io/2019/10/12/ç†è´¢/06.æŒ‡æ•°åŸºé‡‘çš„æŒ‘é€‰/8.png" alt></p><h2 id="æ°¸å‚ä¸æœ½"><a href="#æ°¸å‚ä¸æœ½" class="headerlink" title="æ°¸å‚ä¸æœ½"></a>æ°¸å‚ä¸æœ½</h2><p><img src="//haoyongliang.gitee.io/2019/10/12/ç†è´¢/06.æŒ‡æ•°åŸºé‡‘çš„æŒ‘é€‰/9.png" alt></p><h2 id="ç¬‘é“æœ€å"><a href="#ç¬‘é“æœ€å" class="headerlink" title="ç¬‘é“æœ€å"></a>ç¬‘é“æœ€å</h2><p><img src="//haoyongliang.gitee.io/2019/10/12/ç†è´¢/06.æŒ‡æ•°åŸºé‡‘çš„æŒ‘é€‰/10.png" alt></p><h1 id="æŒ‡æ•°åŸºé‡‘ä¸€å®šå®‰å…¨å—"><a href="#æŒ‡æ•°åŸºé‡‘ä¸€å®šå®‰å…¨å—" class="headerlink" title="æŒ‡æ•°åŸºé‡‘ä¸€å®šå®‰å…¨å—"></a>æŒ‡æ•°åŸºé‡‘ä¸€å®šå®‰å…¨å—</h1><h2 id="æŒ‡æ•°åŸºé‡‘çš„é£é™©"><a href="#æŒ‡æ•°åŸºé‡‘çš„é£é™©" class="headerlink" title="æŒ‡æ•°åŸºé‡‘çš„é£é™©"></a>æŒ‡æ•°åŸºé‡‘çš„é£é™©</h2><p>1.æŒ‡æ•°åŸºé‡‘æœ¬è´¨æ˜¯è‚¡ç¥¨å‹åŸºé‡‘ï¼Œå®ƒä¾ç„¶å­˜åœ¨é£é™©</p><p>2.è™½ç„¶æŒ‡æ•°åŸºé‡‘æ˜¯å¤åˆ¶å’Œè·Ÿè¸ªæŒ‡æ•°ï¼Œæ¥è°ƒæ•´ç¯®å­é‡Œé¢çš„è‚¡ç¥¨ç»„åˆã€‚ä½†æ˜¯åŸºé‡‘ç»ç†å¦‚æœå¤åˆ¶çš„æœ‰åå·®ï¼Œè´§æ²¡æœ‰åŠæ—¶è·Ÿç€æŒ‡æ•°è°ƒæ•´ï¼Œä¹Ÿä¼šå¸¦æ¥æ”¶ç›Šæ–¹é¢çš„è¯¯å·®é£é™©</p><p>3.é€‰æ‹©çš„æŒ‡æ•°åŸºé‡‘è§„æ¨¡å°æˆ–è€…è¿ä½œå†å²ä¸é•¿ä¹…çš„è¯ï¼Œä¹Ÿä¼šæœ‰é£é™©</p><h2 id="æŸ¥çœ‹æŒ‡æ•°åŸºé‡‘çš„è¯¯å·®"><a href="#æŸ¥çœ‹æŒ‡æ•°åŸºé‡‘çš„è¯¯å·®" class="headerlink" title="æŸ¥çœ‹æŒ‡æ•°åŸºé‡‘çš„è¯¯å·®"></a>æŸ¥çœ‹æŒ‡æ•°åŸºé‡‘çš„è¯¯å·®</h2><p><img src="//haoyongliang.gitee.io/2019/10/12/ç†è´¢/06.æŒ‡æ•°åŸºé‡‘çš„æŒ‘é€‰/11.png" alt></p><h1 id="æŒ‡æ•°åŸºé‡‘çš„ç­›é€‰æ–¹æ³•"><a href="#æŒ‡æ•°åŸºé‡‘çš„ç­›é€‰æ–¹æ³•" class="headerlink" title="æŒ‡æ•°åŸºé‡‘çš„ç­›é€‰æ–¹æ³•"></a>æŒ‡æ•°åŸºé‡‘çš„ç­›é€‰æ–¹æ³•</h1><h2 id="ç¬¬ä¸€æ­¥ã€ç¡®å®šè¦æŠ•èµ„çš„æŒ‡æ•°"><a href="#ç¬¬ä¸€æ­¥ã€ç¡®å®šè¦æŠ•èµ„çš„æŒ‡æ•°" class="headerlink" title="ç¬¬ä¸€æ­¥ã€ç¡®å®šè¦æŠ•èµ„çš„æŒ‡æ•°"></a>ç¬¬ä¸€æ­¥ã€ç¡®å®šè¦æŠ•èµ„çš„æŒ‡æ•°</h2><p>é€‰æ‹©æŒ‡æ•°åŸºé‡‘çš„æœ¬è´¨å°±æ˜¯è¦é€‰æ‹©æŒ‡æ•°ï¼ŒæŒ‡æ•°æœ¬èº«æ²¡æœ‰å¥½åä¹‹åˆ†ï¼Œåªæœ‰åˆé€‚ä¸å¦ã€‚å¯¹äºå¤§éƒ¨åˆ†æŠ•èµ„è€…æ¥è¯´ï¼Œé€‰æ‹©ä¸€ä¸ªä»£è¡¨æ€§å¼ºã€ã€ä¸»æµçš„æŒ‡æ•°å³å¯ã€‚</p><p>åªè¦æŒ‡æ•°æœ¬äº‹ç¥é•¿æœŸå‘ä¸Šï¼Œå°±å¯ä»¥çº³å…¥æŠ•èµ„èŒƒå›´ã€‚é€‰æ‹©æŒ‡æ•°è¿˜å¯ä»¥ç»“åˆè‡ªå·±çš„åå¥½æˆ–æ ¹æ®æ”¶ç›Šé¢„æœŸæ¥å†³å®šã€‚</p><p>å¦‚æœæƒ³è¦è·å¾—å¸‚åœºå¹³å‡æ”¶ç›Šï¼Œå°±å¯ä»¥é€‰æ‹©ä»£è¡¨Aè‚¡çš„æ²ªæ·±300æŒ‡æ•°ï¼Œå»ºè®®<strong>æœ€å¥½é€‰æ‹©å®½åŸºæŒ‡æ•°</strong>ï¼ŒåŸå› è§ä¸Šæ–‡</p><h2 id="ç¬¬äºŒæ­¥ã€ç²¾é€‰åŸºé‡‘å…¬å¸"><a href="#ç¬¬äºŒæ­¥ã€ç²¾é€‰åŸºé‡‘å…¬å¸" class="headerlink" title="ç¬¬äºŒæ­¥ã€ç²¾é€‰åŸºé‡‘å…¬å¸"></a>ç¬¬äºŒæ­¥ã€ç²¾é€‰åŸºé‡‘å…¬å¸</h2><p>åŸºé‡‘å…¬å¸çš„å®åŠ›å¯¹æŒ‡æ•°åŸºé‡‘çš„è¡¨ç°èµ·ç€è‡³å…³é‡è¦çš„ä½œç”¨ã€‚</p><p>åœ¨2015å¹´è‚¡ç¾çš„æ—¶å€™ï¼Œå¾ˆå¤šè‚¡ç¥¨è¿ç»­è·Œåœï¼Œé‚£ä¸ªæ—¶å€™å¾ˆå¤šæŠ•èµ„è€…æ‰‹é‡Œæ‹¿ç€è‚¡ç¥¨æƒ³å–éƒ½å–ä¸å‡ºå»ï¼Œå¤§é‡çš„æŠ•èµ„äººè¦èµå›åŸºé‡‘ï¼Œè€ŒåŸºé‡‘å…¬å¸åœ¨åº”å¯¹å¤§é¢èµå›ä¸Šçš„è¡¨ç°å·®è·éå¸¸å¤§ï¼ŒTOP10çš„åŸºé‡‘å…¬å¸æ— è®ºå®ä¾‹è¿˜æ˜¯ç»éªŒéƒ½èƒœè¿‡å°å…¬å¸ã€‚</p><p>å¦‚ä½•åˆ¤æ–­åŸºé‡‘å…¬å¸æœ‰æ²¡æœ‰å®åŠ›å‘¢ï¼Ÿå…¬å¸è§„æ¨¡æ˜¯ä¸€ä¸ªé‡è¦çš„è¡¡é‡æŒ‡æ ‡ï¼Œç›®å‰å›½å†…ä¸€èˆ¬<strong>èµ„é‡‘è§„æ¨¡è¶…1000äº¿çš„åŸºé‡‘å…¬å¸</strong>å®åŠ›éƒ½ä¸å¯å°è§‘ã€‚</p><h2 id="ç¬¬ä¸‰æ­¥ã€é”å®šæŒ‡æ•°åŸºé‡‘"><a href="#ç¬¬ä¸‰æ­¥ã€é”å®šæŒ‡æ•°åŸºé‡‘" class="headerlink" title="ç¬¬ä¸‰æ­¥ã€é”å®šæŒ‡æ•°åŸºé‡‘"></a>ç¬¬ä¸‰æ­¥ã€é”å®šæŒ‡æ•°åŸºé‡‘</h2><p><strong>1.è·Ÿè¸ªè¯¯å·®ç‡</strong></p><p>æŒ‡æ•°åŸºé‡‘çš„æŠ•èµ„ç›®æ ‡å°±æ˜¯ä¸ºäº†å®Œå…¨å¤åˆ¶æŒ‡æ•°ï¼Œè·å¾—ä¸€ä¸ªå’ŒæŒ‡æ•°ä¸€æ ·çš„æŠ•èµ„æ”¶ç›Šï¼Œé‚£ä¹ˆåˆ¤æ–­ä¸€ä¸ªæŒ‡æ•°åŸºé‡‘çš„å¥½åï¼Œå…³é”®å¹¶ä¸æ˜¯çœ‹ä»–çš„æ”¶ç›Šç‡ï¼Œè€Œæ˜¯è·Ÿè¸ªè¯¯å·®ç‡ï¼Œè¯¯å·®ç‡ä½è¯´æ˜åŸºé‡‘è¿ä½œæ°´å¹³é«˜</p><p><strong>2.åŸºé‡‘è§„æ¨¡</strong></p><p>è§„æ¨¡è¶Šå¤§ï¼ŒæµåŠ¨æ€§è¶Šå¼ºçš„åŸºé‡‘è¶Šå¥½ã€‚ä¸€ä¸ªæŒ‡æ•°åŸºé‡‘è§„æ¨¡è¾ƒå°ï¼Œæ¸…ç›˜çš„æ¦‚ç‡å°±æ¯”è¾ƒå¤§ã€‚</p><p><strong>3.æˆç«‹å¹´é™é•¿</strong></p><p>æœ€å¥½é€‰æ‹©è¶…è¿‡3å¹´çš„ï¼Œå°äº1å¹´çš„ä¸è¦è€ƒè™‘</p><p><strong>4.è´¹ç”¨æˆæœ¬ä½</strong></p><p>è´¹ç”¨åŒ…æ‹¬ç®¡ç†è´¹ï¼Œæ‰˜ç®¡è´¹ã€ç”³è´­è´¹ã€èµå›è´¹ï¼Œè™½ç„¶å¤§éƒ¨åˆ†çš„åŸºé‡‘è´¹ç”¨ä¸º2~3%ï¼Œçœ‹èµ·æ¥ä¸æ˜¯å¾ˆå¤§ï¼Œä½†æ˜¯åœ¨é•¿æœŸå¤åˆ©çš„å¨åŠ›ä¸‹ï¼Œå°±ä¼šå¯¹æŠ•èµ„æ”¶ç›Šäº§ç”Ÿå¾ˆå¤§çš„å½±å“ã€‚åœºå†…åŸºé‡‘è¿œä½äºåœºå¤–åŸºé‡‘ï¼Œç»†èŠ‚ä¸è§£é‡Šäº†ã€‚</p><h1 id="æŒ‡æ•°åŸºé‡‘çš„ç­›é€‰å®æ“"><a href="#æŒ‡æ•°åŸºé‡‘çš„ç­›é€‰å®æ“" class="headerlink" title="æŒ‡æ•°åŸºé‡‘çš„ç­›é€‰å®æ“"></a>æŒ‡æ•°åŸºé‡‘çš„ç­›é€‰å®æ“</h1><blockquote><p>è¿™é‡Œä»¥ä¸Šè¯50ä¸ºä¾‹</p></blockquote><h2 id="ç¬¬ä¸€æ­¥ã€é¦–é¡µç‚¹å‡»åŸºé‡‘å…¬å¸"><a href="#ç¬¬ä¸€æ­¥ã€é¦–é¡µç‚¹å‡»åŸºé‡‘å…¬å¸" class="headerlink" title="ç¬¬ä¸€æ­¥ã€é¦–é¡µç‚¹å‡»åŸºé‡‘å…¬å¸"></a>ç¬¬ä¸€æ­¥ã€é¦–é¡µç‚¹å‡»åŸºé‡‘å…¬å¸</h2><p><img src="//haoyongliang.gitee.io/2019/10/12/ç†è´¢/06.æŒ‡æ•°åŸºé‡‘çš„æŒ‘é€‰/12.png" alt></p><h2 id="ç¬¬äºŒæ­¥ã€é€šè¿‡æŸ¥è¯¢å¤©å¤©åŸºé‡‘ç½‘ï¼Œç­›é€‰å‡ºè§„æ¨¡è¶…åƒäº¿çš„åŸºé‡‘å…¬å¸"><a href="#ç¬¬äºŒæ­¥ã€é€šè¿‡æŸ¥è¯¢å¤©å¤©åŸºé‡‘ç½‘ï¼Œç­›é€‰å‡ºè§„æ¨¡è¶…åƒäº¿çš„åŸºé‡‘å…¬å¸" class="headerlink" title="ç¬¬äºŒæ­¥ã€é€šè¿‡æŸ¥è¯¢å¤©å¤©åŸºé‡‘ç½‘ï¼Œç­›é€‰å‡ºè§„æ¨¡è¶…åƒäº¿çš„åŸºé‡‘å…¬å¸"></a>ç¬¬äºŒæ­¥ã€é€šè¿‡æŸ¥è¯¢å¤©å¤©åŸºé‡‘ç½‘ï¼Œç­›é€‰å‡ºè§„æ¨¡è¶…åƒäº¿çš„åŸºé‡‘å…¬å¸</h2><p><img src="//haoyongliang.gitee.io/2019/10/12/ç†è´¢/06.æŒ‡æ•°åŸºé‡‘çš„æŒ‘é€‰/13.png" alt></p><p><img src="//haoyongliang.gitee.io/2019/10/12/ç†è´¢/06.æŒ‡æ•°åŸºé‡‘çš„æŒ‘é€‰/15.png" alt></p><h2 id="ç¬¬ä¸‰æ­¥ã€æœç´¢åœ¨å¤©å¤©åŸºé‡‘ç½‘é¦–é¡µæŸ¥è¯¢è¦æŠ•èµ„çš„æŒ‡æ•°"><a href="#ç¬¬ä¸‰æ­¥ã€æœç´¢åœ¨å¤©å¤©åŸºé‡‘ç½‘é¦–é¡µæŸ¥è¯¢è¦æŠ•èµ„çš„æŒ‡æ•°" class="headerlink" title="ç¬¬ä¸‰æ­¥ã€æœç´¢åœ¨å¤©å¤©åŸºé‡‘ç½‘é¦–é¡µæŸ¥è¯¢è¦æŠ•èµ„çš„æŒ‡æ•°"></a>ç¬¬ä¸‰æ­¥ã€æœç´¢åœ¨å¤©å¤©åŸºé‡‘ç½‘é¦–é¡µæŸ¥è¯¢è¦æŠ•èµ„çš„æŒ‡æ•°</h2><p><img src="//haoyongliang.gitee.io/2019/10/12/ç†è´¢/06.æŒ‡æ•°åŸºé‡‘çš„æŒ‘é€‰/14.png" alt></p><p><img src="//haoyongliang.gitee.io/2019/10/12/ç†è´¢/06.æŒ‡æ•°åŸºé‡‘çš„æŒ‘é€‰/16.png" alt></p><p><img src="//haoyongliang.gitee.io/2019/10/12/ç†è´¢/06.æŒ‡æ•°åŸºé‡‘çš„æŒ‘é€‰/17.png" alt></p><p><img src="//haoyongliang.gitee.io/2019/10/12/ç†è´¢/06.æŒ‡æ•°åŸºé‡‘çš„æŒ‘é€‰/18.png" alt></p><h2 id="ç¬¬å››æ­¥ã€æŸ¥æ‰¾åŸºé‡‘ä¿¡æ¯è¿›è¡Œè¿›ä¸€æ­¥ç­›é€‰"><a href="#ç¬¬å››æ­¥ã€æŸ¥æ‰¾åŸºé‡‘ä¿¡æ¯è¿›è¡Œè¿›ä¸€æ­¥ç­›é€‰" class="headerlink" title="ç¬¬å››æ­¥ã€æŸ¥æ‰¾åŸºé‡‘ä¿¡æ¯è¿›è¡Œè¿›ä¸€æ­¥ç­›é€‰"></a>ç¬¬å››æ­¥ã€æŸ¥æ‰¾åŸºé‡‘ä¿¡æ¯è¿›è¡Œè¿›ä¸€æ­¥ç­›é€‰</h2><p><img src="//haoyongliang.gitee.io/2019/10/12/ç†è´¢/06.æŒ‡æ•°åŸºé‡‘çš„æŒ‘é€‰/19.png" alt></p><p><img src="//haoyongliang.gitee.io/2019/10/12/ç†è´¢/06.æŒ‡æ•°åŸºé‡‘çš„æŒ‘é€‰/20.png" alt></p><p><img src="//haoyongliang.gitee.io/2019/10/12/ç†è´¢/06.æŒ‡æ•°åŸºé‡‘çš„æŒ‘é€‰/21.png" alt></p><p><img src="//haoyongliang.gitee.io/2019/10/12/ç†è´¢/06.æŒ‡æ•°åŸºé‡‘çš„æŒ‘é€‰/22.png" alt></p><p><img src="//haoyongliang.gitee.io/2019/10/12/ç†è´¢/06.æŒ‡æ•°åŸºé‡‘çš„æŒ‘é€‰/23.png" alt></p><p><img src="//haoyongliang.gitee.io/2019/10/12/ç†è´¢/06.æŒ‡æ•°åŸºé‡‘çš„æŒ‘é€‰/24.png" alt></p><p><img src="//haoyongliang.gitee.io/2019/10/12/ç†è´¢/06.æŒ‡æ•°åŸºé‡‘çš„æŒ‘é€‰/25.png" alt></p><h1 id="æŒ‡æ•°åŸºé‡‘çš„ä¼°å€¼æŒ‡æ ‡"><a href="#æŒ‡æ•°åŸºé‡‘çš„ä¼°å€¼æŒ‡æ ‡" class="headerlink" title="æŒ‡æ•°åŸºé‡‘çš„ä¼°å€¼æŒ‡æ ‡"></a>æŒ‡æ•°åŸºé‡‘çš„ä¼°å€¼æŒ‡æ ‡</h1><blockquote><p>å¦‚æœè®©ä½ å»è¶…å¸‚ä¹°æ°´æœï¼Œç›¸ä¿¡ä½ ä¸€å®šä¼šå…ˆé—®é—®æ°´æœçš„ä»·æ ¼ï¼Œä»·æ ¼åˆç†æ‰ä¹°ï¼Œä»·æ ¼è´µçš„ç¦»è°±å°±ä¸‹æ¬¡å†ä¹°ï¼Œä¸‡ä¸€æ’å¤§è¿ä»·æ ¼ä½å°±å¯ä»¥å¤šä¹°ç‚¹ã€‚</p><p>æŒ‡æ•°åŸºé‡‘ä¹Ÿæ˜¯ä¸€æ ·ï¼Œåœ¨ä¹°å…¥ä¹‹å‰è¦çœ‹çœ‹ä»·æ ¼è´µä¸è´µï¼Œåœ¨ä¾¿å®œçš„æ—¶å€™ä¹°æ‰æ›´åˆ’ç®—</p></blockquote><h2 id="çœ‹å¤§ç›˜ç‚¹æ•°é è°±å—"><a href="#çœ‹å¤§ç›˜ç‚¹æ•°é è°±å—" class="headerlink" title="çœ‹å¤§ç›˜ç‚¹æ•°é è°±å—"></a>çœ‹å¤§ç›˜ç‚¹æ•°é è°±å—</h2><p>ä¸å‡†ç¡®ï¼Œå› ä¸ºæŒ‡æ•°æ˜¯é•¿æœŸå‘ä¸Šçš„ï¼Œä»¥é¦™æ¸¯çš„æ’ç”ŸæŒ‡æ•°ä¸ºä¾‹ï¼Œ1964å¹´åªæœ‰100ç‚¹ï¼Œè€Œç°åœ¨23000å¤šç‚¹</p><p>ä¸åŒçš„æŒ‡æ•°ä¸å¥½å¯¹æ¯”ã€‚æœ‰çš„æŒ‡æ•°å‡ ä¸‡ç‚¹æ˜¯ä½ä¼°ï¼Œæœ‰äº›æŒ‡æ•°5000ç‚¹å°±æ˜¯é«˜ä¼°ã€‚</p><p><strong>ä¸é è°±</strong></p><h2 id="çœ‹å¸‚ç›ˆç‡PEé è°±å—"><a href="#çœ‹å¸‚ç›ˆç‡PEé è°±å—" class="headerlink" title="çœ‹å¸‚ç›ˆç‡PEé è°±å—"></a>çœ‹å¸‚ç›ˆç‡PEé è°±å—</h2><p>è¿™ä¸ªæŒ‡æ ‡ä½“ç°çš„æ˜¯è¿™ç¬”æŠ•èµ„åˆ°åº•èŠ±å¤šä¹…æ‰èƒ½æ‹¿å›æ¥ï¼Œè®¡ç®—å…¬å¼=å¸‚å€¼/å‡€åˆ©æ¶¦ï¼Œç®€å•ç†è§£å°±æ˜¯çœ‹ä¸€åªè‚¡ç¥¨çš„ä»·æ ¼ï¼Œç›¸æ¯”å®ƒçš„ç›ˆåˆ©èƒ½åŠ›ï¼Œæ˜¯ä¸æ˜¯å¤Ÿä¾¿å®œã€‚</p><p>æ‰€ä»¥ï¼Œå¯ä»¥é€šè¿‡å¸‚ç›ˆç‡åˆæ­¥åˆ¤æ–­ä¸€å®¶å…¬å¸æ˜¯è´µè¿˜æ˜¯ä¾¿å®œï¼Œå¸‚ç›ˆç‡è¶Šä½ï¼Œå…¬å¸è¶Šä¾¿å®œï¼Œå¸‚ç›ˆç‡è¶Šå¥½ï¼Œå…¬å¸è¶Šè´µï¼Œä½†ä¸èƒ½ä½œä¸ºå”¯ä¸€æŒ‡æ ‡ã€‚</p><p><strong>ä¸é è°±</strong></p><p><img src="//haoyongliang.gitee.io/2019/10/12/ç†è´¢/06.æŒ‡æ•°åŸºé‡‘çš„æŒ‘é€‰/26.png" alt></p>]]></content>
      
      
      <categories>
          
          <category> ç†è´¢ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> åŸºé‡‘ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>05.æ··åˆåŸºé‡‘çš„æŒ‘é€‰</title>
      <link href="/2019/10/11/%E7%90%86%E8%B4%A2/05.%E6%B7%B7%E5%90%88%E5%9F%BA%E9%87%91%E7%9A%84%E6%8C%91%E9%80%89/"/>
      <url>/2019/10/11/%E7%90%86%E8%B4%A2/05.%E6%B7%B7%E5%90%88%E5%9F%BA%E9%87%91%E7%9A%84%E6%8C%91%E9%80%89/</url>
      
        <content type="html"><![CDATA[<h1 id="æ··åˆå‹åŸºé‡‘æ˜¯ä»€ä¹ˆ"><a href="#æ··åˆå‹åŸºé‡‘æ˜¯ä»€ä¹ˆ" class="headerlink" title="æ··åˆå‹åŸºé‡‘æ˜¯ä»€ä¹ˆ"></a>æ··åˆå‹åŸºé‡‘æ˜¯ä»€ä¹ˆ</h1><p>æŠ•èµ„é€‰æ‹©å¤šï¼Œå¯ä»¥åŒæ—¶é…ç½®è‚¡ç¥¨ã€å€ºåˆ¸ã€è´§å¸ç­‰ï¼Œè€Œä¸”é…ç½®æ¯”ä¾‹çµæ´»ï¼Œç®€ä»‹å®ç°äº†åˆ†æ•£æŠ•èµ„ï¼Œé™ä½äº†é£é™©</p><p>æ··åˆåŸºé‡‘é€šè¿‡èµ„äº§é…ç½®ï¼Œç®€å•æ¥è¯´å°±æ˜¯è¿›è¡Œä¸€å®šæ¯”ä¾‹çš„ç»„åˆï¼Œä»¥è¾¾åˆ°æ”¶ç›Šç‡æœ€å¤§ã€é£é™©æœ€å°çš„ç›®çš„ã€‚æœ‰æ—¶å€™è¡¨ç°å¥½çš„è¯ï¼Œæ··åˆåŸºé‡‘çš„æ”¶ç›Šè¿˜ä¼šæ¯”è‚¡ç¥¨åŸºé‡‘é«˜ã€‚</p><h1 id="æŒ‘é€‰æ··åˆåŸºé‡‘çš„ç­›é€‰æŒ‡æ ‡"><a href="#æŒ‘é€‰æ··åˆåŸºé‡‘çš„ç­›é€‰æŒ‡æ ‡" class="headerlink" title="æŒ‘é€‰æ··åˆåŸºé‡‘çš„ç­›é€‰æŒ‡æ ‡"></a>æŒ‘é€‰æ··åˆåŸºé‡‘çš„ç­›é€‰æŒ‡æ ‡</h1><p>1.åŸºé‡‘çš„ä¸šç»©</p><p>2.åŸºé‡‘è§„æ¨¡</p><p>3.åŸºé‡‘æˆç«‹æ—¶é—´</p><p>4.èµ„äº§é…ç½®æ¯”ä¾‹</p><p>5.åŸºé‡‘å…¬å¸ç›ˆåˆ©èƒ½åŠ›</p><p>6.åŸºé‡‘ç»ç†é€‰è‚¡æ‹©æ—¶èƒ½åŠ›</p><p>7.æ‰‹ç»­è´¹</p><h1 id="æŒ‘é€‰å€ºåˆ¸åŸºé‡‘å®æ“"><a href="#æŒ‘é€‰å€ºåˆ¸åŸºé‡‘å®æ“" class="headerlink" title="æŒ‘é€‰å€ºåˆ¸åŸºé‡‘å®æ“"></a>æŒ‘é€‰å€ºåˆ¸åŸºé‡‘å®æ“</h1><h2 id="1-ç™¾åº¦æœç´¢å¤©å¤©åŸºé‡‘"><a href="#1-ç™¾åº¦æœç´¢å¤©å¤©åŸºé‡‘" class="headerlink" title="1.ç™¾åº¦æœç´¢å¤©å¤©åŸºé‡‘"></a>1.ç™¾åº¦æœç´¢å¤©å¤©åŸºé‡‘</h2><p><img src="//haoyongliang.gitee.io/2019/10/11/ç†è´¢/05.æ··åˆåŸºé‡‘çš„æŒ‘é€‰/1.png" alt></p><h2 id="2-æ‰¾åˆ°åŸºé‡‘ç­›é€‰"><a href="#2-æ‰¾åˆ°åŸºé‡‘ç­›é€‰" class="headerlink" title="2.æ‰¾åˆ°åŸºé‡‘ç­›é€‰"></a>2.æ‰¾åˆ°åŸºé‡‘ç­›é€‰</h2><p><img src="//haoyongliang.gitee.io/2019/10/11/ç†è´¢/05.æ··åˆåŸºé‡‘çš„æŒ‘é€‰/2.png" alt></p><h2 id="3-é€‰æ‹©æ··åˆå‹-åŸºé‡‘ä¸šç»©è¿‘ä¸‰å¹´å‰100å"><a href="#3-é€‰æ‹©æ··åˆå‹-åŸºé‡‘ä¸šç»©è¿‘ä¸‰å¹´å‰100å" class="headerlink" title="3.é€‰æ‹©æ··åˆå‹,åŸºé‡‘ä¸šç»©è¿‘ä¸‰å¹´å‰100å"></a>3.é€‰æ‹©æ··åˆå‹,åŸºé‡‘ä¸šç»©è¿‘ä¸‰å¹´å‰100å</h2><p><img src="//haoyongliang.gitee.io/2019/10/11/ç†è´¢/05.æ··åˆåŸºé‡‘çš„æŒ‘é€‰/3.png" alt></p><h2 id="4-æŒ‰ç…§è¿‘ä¸‰å¹´é™åºæ’åº"><a href="#4-æŒ‰ç…§è¿‘ä¸‰å¹´é™åºæ’åº" class="headerlink" title="4.æŒ‰ç…§è¿‘ä¸‰å¹´é™åºæ’åº"></a>4.æŒ‰ç…§è¿‘ä¸‰å¹´é™åºæ’åº</h2><p>ä¸ºä»€ä¹ˆæ˜¯3å¹´å‘¢ï¼Œè¿‡å»1-2å¹´çš„æ”¶ç›Šç‡å¯èƒ½æ˜¯è¿æ°”ï¼Œä½†æ˜¯3-5å¹´éƒ½èƒ½ä¿æŒä¸é”™æ”¶ç›Šç‡çš„åŸºé‡‘ï¼Œé‚£å¤§æ¦‚ç‡å°±æ˜¯æœ‰ä¸€å®šå®åŠ›äº†ã€‚</p><p><img src="//haoyongliang.gitee.io/2019/10/11/ç†è´¢/05.æ··åˆåŸºé‡‘çš„æŒ‘é€‰/4.png" alt></p><h2 id="5-æŒ‰ç…§ä¸Šæ–‡æåˆ°çš„ç­›é€‰æŒ‡æ ‡è¿›è¡Œç­›é€‰"><a href="#5-æŒ‰ç…§ä¸Šæ–‡æåˆ°çš„ç­›é€‰æŒ‡æ ‡è¿›è¡Œç­›é€‰" class="headerlink" title="5.æŒ‰ç…§ä¸Šæ–‡æåˆ°çš„ç­›é€‰æŒ‡æ ‡è¿›è¡Œç­›é€‰"></a>5.æŒ‰ç…§ä¸Šæ–‡æåˆ°çš„ç­›é€‰æŒ‡æ ‡è¿›è¡Œç­›é€‰</h2><p><img src="//haoyongliang.gitee.io/2019/10/11/ç†è´¢/05.æ··åˆåŸºé‡‘çš„æŒ‘é€‰/5.png" alt></p><p>1.åŸºé‡‘çš„ä¸šç»©(æ”¶ç›Šç‡)</p><p>çœ‹æ€»æ”¶ç›Šç‡ï¼ˆæˆç«‹æ¥æ”¶ç›Šç‡ï¼‰ï¼Œå¦‚æœæˆç«‹æ—¶é—´è¶Šé•¿ï¼Œæ”¶ç›Šç‡çš„æœ‰æ•ˆæ€§å°±è¶Šå¤§ï¼Œè€Œè¿™ä¸ªæ€»æ”¶ç›Šç‡å½“ç„¶ä¹Ÿæ˜¯éœ€è¦è¡¡é‡çš„ä¸€ä¸ªæ ‡å‡†ã€‚</p><p>2.åŸºé‡‘è§„æ¨¡</p><p>åŸºé‡‘è§„æ¨¡ä¸å®œè¿‡å°ä¹Ÿä¸å®œè¿‡å¤§ã€‚å¤ªå°çš„åŸºé‡‘é…ç½®çš„èµ„æºå°‘ï¼Œé£é™©ä¹Ÿæ¯”è¾ƒå¤§ï¼›å¤ªå¤§çš„åŸºé‡‘è¶‹äºä¿å®ˆï¼Œæ”¶ç›Šå¯èƒ½ä¹Ÿä¸é«˜ã€‚åœ¨é€‰æ‹©åŸºé‡‘çš„æ—¶å€™ï¼Œè§„æ¨¡é€‚ä¸­å³å¯ï¼Œå»ºè®®åœ¨2-100äº¿ä¹‹é—´ã€‚</p><p>3.æˆç«‹æ—¶é—´</p><p>è‡³å°‘3å¹´</p><p>4.èµ„äº§é…ç½®æ¯”ä¾‹</p><p>äº†è§£è¿™åªåŸºé‡‘è‚¡ç¥¨å’Œå€ºåˆ¸çš„å æ¯”æƒ…å†µï¼Œè¿™å†³å®šä¸€åªåŸºé‡‘çš„æ”¶ç›Šå’Œé£é™©æƒ…å†µ</p><p><img src="//haoyongliang.gitee.io/2019/10/11/ç†è´¢/05.æ··åˆåŸºé‡‘çš„æŒ‘é€‰/6.png" alt></p><p>æ»šåŠ¨åˆ°é¡µé¢ä¸‹é¢ä¼šå‘ç°èµ„äº§é…ç½®ä¸€é¡¹</p><p>5.åŸºé‡‘å…¬å¸æ•´ä½“ç›ˆåˆ©èƒ½åŠ›</p><p><img src="//haoyongliang.gitee.io/2019/10/11/ç†è´¢/05.æ··åˆåŸºé‡‘çš„æŒ‘é€‰/7.png" alt></p><p>6.åŸºé‡‘ç»ç†çš„æ›´æ¢é¢‘ç‡åŠé€‰è‚¡æ‹©æ—¶èƒ½åŠ›</p><p>7.æ‰‹ç»­è´¹</p>]]></content>
      
      
      <categories>
          
          <category> ç†è´¢ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> åŸºé‡‘ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>04.å€ºåˆ¸åŸºé‡‘çš„æŒ‘é€‰</title>
      <link href="/2019/10/11/%E7%90%86%E8%B4%A2/04.%E5%80%BA%E5%88%B8%E5%9F%BA%E9%87%91%E7%9A%84%E6%8C%91%E9%80%89/"/>
      <url>/2019/10/11/%E7%90%86%E8%B4%A2/04.%E5%80%BA%E5%88%B8%E5%9F%BA%E9%87%91%E7%9A%84%E6%8C%91%E9%80%89/</url>
      
        <content type="html"><![CDATA[<h1 id="åºè¨€"><a href="#åºè¨€" class="headerlink" title="åºè¨€"></a>åºè¨€</h1><p>è¯åˆ¸å¸‚åœºä¸Šå€ºåˆ¸æ— æ•°ï¼Œè¦ä»ä¸­é€‰å‡ºå€¼å¾—æŠ•èµ„çš„å¥½å€ºåˆ¸éœ€è¦æŠ•èµ„è€…è¯è´¹å¤§é‡çš„æ—¶é—´å’Œç²¾åŠ›ã€‚æ—¢ç„¶åŸºé‡‘çš„ç‰¹ç‚¹ä¹‹ä¸€å°±æ˜¯ä¸“å®¶æŠ•èµ„ï¼Œé‚£ä¹ˆæœ‰åŸºé‡‘ç»ç†å’Œä»–çš„å›¢é˜Ÿæ¥å¸®ä½ æŠ•èµ„çœå¿ƒçœåŠ›ã€‚</p><p>ä¸ªäººæŠ•èµ„è€…èµ„é‡‘æœ‰é™ï¼Œä¸€æ–¹é¢åœ¨å‚ä¸å€ºåˆ¸å¸‚åœºçš„æ—¶å€™ä¼šå—åˆ°ä¸€äº›é™åˆ¶ï¼›å¦ä¸€æ–¹é¢ï¼Œä¸ªäººæŠ•èµ„è€…å¾ˆéš¾åšåˆ°åˆ†æ•£æŠ•èµ„ï¼Œé™ä½é£é™©ã€‚å€ºåˆ¸åŸºé‡‘åˆ™å…·å¤‡èµ„é‡‘ä¸Šçš„æœ‰äº‹ï¼Œèƒ½é€‰æ‹©ä¸åŒç§ç±»çš„å€ºåˆ¸è¿›è¡Œåˆ†æ•£æŠ•èµ„ï¼Œé™ä½é£é™©ã€‚è·å¾—æ¯”è¾ƒç¨³å®šçš„æ”¶ç›Š</p><h1 id="ä»€ä¹ˆèµ„é‡‘é€‚åˆæŠ•èµ„å€ºåˆ¸åŸºé‡‘"><a href="#ä»€ä¹ˆèµ„é‡‘é€‚åˆæŠ•èµ„å€ºåˆ¸åŸºé‡‘" class="headerlink" title="ä»€ä¹ˆèµ„é‡‘é€‚åˆæŠ•èµ„å€ºåˆ¸åŸºé‡‘"></a>ä»€ä¹ˆèµ„é‡‘é€‚åˆæŠ•èµ„å€ºåˆ¸åŸºé‡‘</h1><p>å€ºåˆ¸åŸºé‡‘æ²¡æœ‰è´§å¸åŸºé‡‘çµæ´»ï¼Œæ›´é€‚åˆæŠ•èµ„åŠå¹´ä»¥å†…æˆ–è€…ä¸€å¹´ä»¥å†…ç”¨ä¸åˆ°çš„é’±ã€‚</p><h1 id="æŒ‘é€‰å€ºåˆ¸åŸºé‡‘å‚è€ƒçš„äº”ä¸ªæ ‡å‡†"><a href="#æŒ‘é€‰å€ºåˆ¸åŸºé‡‘å‚è€ƒçš„äº”ä¸ªæ ‡å‡†" class="headerlink" title="æŒ‘é€‰å€ºåˆ¸åŸºé‡‘å‚è€ƒçš„äº”ä¸ªæ ‡å‡†"></a>æŒ‘é€‰å€ºåˆ¸åŸºé‡‘å‚è€ƒçš„äº”ä¸ªæ ‡å‡†</h1><p>1.æˆç«‹æ—¶é—´ï¼Œ3-5å¹´ä»¥ä¸Š</p><p>2.æ”¶ç›Šç‡ çœ‹ç´¯è®¡ä¸‰å¹´ä»¥ä¸Šçš„æ”¶ç›Šç‡ï¼Œä¼˜å…ˆé€‰æ‹©æ”¶ç›Šç‡é«˜çš„</p><p>3.è§„æ¨¡ï¼Œå’Œè´§å¸åŸºé‡‘ä¸€æ ·è¶Šå¤§è¶Šå¥½</p><p>4.è´¹ç‡ï¼Œå’Œè´§å¸åŸºé‡‘ä¸€æ ·è¶Šä½è¶Šå¥½</p><p>5.åŸºé‡‘ç»ç†æ˜¯å¦é¢‘ç¹æ›´æ¢ï¼Œæ›´æ¢é¢‘ç‡è¶Šä½è¶Šå¥½</p><h1 id="æŒ‘é€‰å€ºåˆ¸åŸºé‡‘å®æ“"><a href="#æŒ‘é€‰å€ºåˆ¸åŸºé‡‘å®æ“" class="headerlink" title="æŒ‘é€‰å€ºåˆ¸åŸºé‡‘å®æ“"></a>æŒ‘é€‰å€ºåˆ¸åŸºé‡‘å®æ“</h1><h2 id="1-ç™¾åº¦æœç´¢å¤©å¤©åŸºé‡‘"><a href="#1-ç™¾åº¦æœç´¢å¤©å¤©åŸºé‡‘" class="headerlink" title="1.ç™¾åº¦æœç´¢å¤©å¤©åŸºé‡‘"></a>1.ç™¾åº¦æœç´¢å¤©å¤©åŸºé‡‘</h2><p><img src="//haoyongliang.gitee.io/2019/10/11/ç†è´¢/04.å€ºåˆ¸åŸºé‡‘çš„æŒ‘é€‰/1.png" alt></p><h2 id="2-æ‰¾åˆ°åŸºé‡‘ç­›é€‰"><a href="#2-æ‰¾åˆ°åŸºé‡‘ç­›é€‰" class="headerlink" title="2.æ‰¾åˆ°åŸºé‡‘ç­›é€‰"></a>2.æ‰¾åˆ°åŸºé‡‘ç­›é€‰</h2><p><img src="//haoyongliang.gitee.io/2019/10/11/ç†è´¢/04.å€ºåˆ¸åŸºé‡‘çš„æŒ‘é€‰/2.png" alt></p><h2 id="3-é€‰æ‹©å€ºåˆ¸å‹ï¼Œæˆç«‹å¹´é™å¤§äº7"><a href="#3-é€‰æ‹©å€ºåˆ¸å‹ï¼Œæˆç«‹å¹´é™å¤§äº7" class="headerlink" title="3.é€‰æ‹©å€ºåˆ¸å‹ï¼Œæˆç«‹å¹´é™å¤§äº7"></a>3.é€‰æ‹©å€ºåˆ¸å‹ï¼Œæˆç«‹å¹´é™å¤§äº7</h2><p>ç­›é€‰æ¡ä»¶3-5å¹´ä»¥ä¸Šï¼Œç”±äºæ²¡æœ‰å¤§äº3-5å¹´é€‰é¡¹ï¼Œå› æ­¤æŒ‘å¹´é™é•¿çš„ä¸ºæ ‡å‡†</p><p><img src="//haoyongliang.gitee.io/2019/10/11/ç†è´¢/04.å€ºåˆ¸åŸºé‡‘çš„æŒ‘é€‰/3.png" alt></p><h2 id="4-æŒ‰ç…§è¿‘ä¸‰å¹´é™åºæ’åºï¼Œé€‰å–å‰10åˆ†æ"><a href="#4-æŒ‰ç…§è¿‘ä¸‰å¹´é™åºæ’åºï¼Œé€‰å–å‰10åˆ†æ" class="headerlink" title="4.æŒ‰ç…§è¿‘ä¸‰å¹´é™åºæ’åºï¼Œé€‰å–å‰10åˆ†æ"></a>4.æŒ‰ç…§è¿‘ä¸‰å¹´é™åºæ’åºï¼Œé€‰å–å‰10åˆ†æ</h2><p><img src="//haoyongliang.gitee.io/2019/10/11/ç†è´¢/04.å€ºåˆ¸åŸºé‡‘çš„æŒ‘é€‰/4.png" alt></p><h1 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h1><p>è´§å¸åŸºé‡‘ä¸€èˆ¬æŠ•èµ„ä¸€å¹´æœŸå†…çš„å€ºåˆ¸ï¼Œå€ºåˆ¸åŸºé‡‘æŠ•èµ„ä¸€å¹´ä»¥ä¸Šçš„å€ºåˆ¸ï¼Œå€Ÿæ¬¾æ—¶é—´æ›´é•¿ï¼Œé£é™©å°±è¶Šé«˜ï¼Œåˆ©æ¯å°±è¶Šé«˜ã€‚æ‰€ä»¥æ”¶ç›Šè¦å¤§äºè´§å¸åŸºé‡‘ã€‚å€ºåˆ¸åŸºé‡‘çš„æ”¶ç›Šç‡å¯è¾¾5%~6%å·¦å³ï¼Œç›¸æ¯”äºè´§å¸åŸºé‡‘çš„3%ï¼Œæ˜æ˜¾æ›´é«˜ä¸€äº›</p><p>å€ºåˆ¸åŸºé‡‘ä¸»è¦æŠ•èµ„å€ºæƒç±»èµ„äº§ï¼Œæ•´ä½“æ¥çœ‹ä»ç®—æ˜¯æ”¶ç›Šç¨³å®šã€é£é™©è¾ƒä½çš„ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> ç†è´¢ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> åŸºé‡‘ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>03.è´§å¸åŸºé‡‘çš„æŒ‘é€‰</title>
      <link href="/2019/10/10/%E7%90%86%E8%B4%A2/03.%E8%B4%A7%E5%B8%81%E5%9F%BA%E9%87%91%E7%9A%84%E6%8C%91%E9%80%89/"/>
      <url>/2019/10/10/%E7%90%86%E8%B4%A2/03.%E8%B4%A7%E5%B8%81%E5%9F%BA%E9%87%91%E7%9A%84%E6%8C%91%E9%80%89/</url>
      
        <content type="html"><![CDATA[<h1 id="ä»€ä¹ˆæ˜¯è´§å¸åŸºé‡‘"><a href="#ä»€ä¹ˆæ˜¯è´§å¸åŸºé‡‘" class="headerlink" title="ä»€ä¹ˆæ˜¯è´§å¸åŸºé‡‘"></a>ä»€ä¹ˆæ˜¯è´§å¸åŸºé‡‘</h1><p>ç”¨èµ·æ¥åƒè´§å¸ä¸€æ ·æ–¹ä¾¿çš„åŸºé‡‘</p><p><strong>ä¾¿åˆ©æ€§</strong>ç‰¹ç‚¹ï¼šè´§å¸åŸºé‡‘ä¸æ´»æœŸå­˜æ¬¾ç›¸å½“ï¼Œéšç”¨éšå–</p><p><strong>æ”¶ç›Šæ€§</strong>ç‰¹ç‚¹ï¼šå¤§å¤šæ•°è´§åŸºæ”¶ç›Šç‡è¶…è¿‡é“¶è¡Œä¸€å¹´æœŸå®šæœŸå­˜æ¬¾</p><h1 id="è´§å¸åŸºé‡‘ä¿æœ¬å—"><a href="#è´§å¸åŸºé‡‘ä¿æœ¬å—" class="headerlink" title="è´§å¸åŸºé‡‘ä¿æœ¬å—"></a>è´§å¸åŸºé‡‘ä¿æœ¬å—</h1><p><strong>ä¸æ‰¿è¯ºä¿æœ¬ï¼Œå¯è§†ä¸ºä¿æœ¬</strong></p><p>ä¸»è¦æŠ•èµ„å»å‘æ˜¯é“¶è¡Œå­˜æ¬¾ã€‚è€Œå¯¹å…¶ä»–æŠ•èµ„åˆ™å°½é‡åˆ†æ•£ï¼Œæ‰€ä»¥æ‰‹å—å•ä¸€æ—¶é—´çš„å½±å“å°ã€‚</p><p>åŸºé‡‘å…¬å¸ä¸ºè‡ªå·±å£°èª‰è€ƒè™‘ï¼Œå¯èƒ½ä¼šæŠ—ä¸‹æŠ•èµ„æŸå¤±(ç›®å‰ä»…ä»…åœ¨2006å¹´æŸå¤©å‡ºç°è¿‡ï¼ŒæŸå¤±å¹¶ä¸”ä¹Ÿä¸å¤§ï¼Œç›¸å½“äºæŸæ—¥çš„æ”¶ç›Š)ã€‚</p><h1 id="å¥½è´§å¸åŸºé‡‘é•¿ä»€ä¹ˆæ ·"><a href="#å¥½è´§å¸åŸºé‡‘é•¿ä»€ä¹ˆæ ·" class="headerlink" title="å¥½è´§å¸åŸºé‡‘é•¿ä»€ä¹ˆæ ·"></a>å¥½è´§å¸åŸºé‡‘é•¿ä»€ä¹ˆæ ·</h1><h2 id="æŒ‘é€‰è´§å¸åŸºé‡‘åº”è¯¥å…³æ³¨ä»€ä¹ˆ"><a href="#æŒ‘é€‰è´§å¸åŸºé‡‘åº”è¯¥å…³æ³¨ä»€ä¹ˆ" class="headerlink" title="æŒ‘é€‰è´§å¸åŸºé‡‘åº”è¯¥å…³æ³¨ä»€ä¹ˆ"></a>æŒ‘é€‰è´§å¸åŸºé‡‘åº”è¯¥å…³æ³¨ä»€ä¹ˆ</h2><p><img src="//haoyongliang.gitee.io/2019/10/10/ç†è´¢/03.è´§å¸åŸºé‡‘çš„æŒ‘é€‰/3.png" alt></p><p>1.ã€é¦–è¦å…³æ³¨ã€‘æµåŠ¨æ€§(åˆ«ç­‰åˆ°æ€¥ç”¨é’±å¡å£³äº†)</p><p>è´§åŸºçš„æ­£å¸¸æµç¨‹æ˜¯å½“æ—¥èµå›ï¼Œèµ„é‡‘è¦ç­‰åˆ°ä¸‹ä¸ª<strong>äº¤æ˜“æ—¥</strong>åˆ°å¸</p><p>è®¸å¤šåŸºé‡‘å…¬å¸ä¸ºäº†æ–¹ä¾¿å®¢æˆ·ï¼Œé€šè¿‡è‡ªå·±æˆ–ç¬¬ä¸‰æ–¹å«é’±çš„æ–¹å¼ï¼Œè®©å®¢æˆ·æå‰æ‹¿åˆ°èµ„é‡‘ã€‚</p><p><strong>å…³æ³¨ç‚¹</strong>ï¼š</p><p>a.å¿«é€Ÿèµå›åˆ°è´¦æ—¶é—´(1ç§’ï¼Œ2å°æ—¶)ã€‚</p><p>b.å¿«é€Ÿèµå›çš„æ€»é¢åº¦(æ€»é¢åº¦æ˜¯å¦è¿˜å‰©ä½™ï¼Œåˆ«äººèµå›äº†ï¼Œä¸å¤Ÿè‡ªå·±èµå›)ã€‚</p><p>c.å•è´¦æˆ·æœ€é«˜é¢åº¦</p><p>2.ã€é€‚å½“å…³æ³¨ã€‘æ”¶ç›Šæ€§(ä¹°å…¥å‰é€‚å½“å…³æ³¨ï¼Œä¹°å…¥åæ— éœ€å…³æ³¨ï¼Œæµªè´¹ç²¾åŠ›)</p><p>3.ã€å‡ ä¹æ— éœ€å…³æ³¨ã€‘é£é™©æ€§(ä¸å¿…è¦èŠ±å¾ˆå¤šæ—¶é—´å»ç ”ç©¶é£é™©ï¼Œå®åœ¨æ‹…å¿ƒé£é™©ï¼Œå¯ä»¥åˆ†æ•£æŒæœ‰å¤šåªè´§å¸åŸºé‡‘)</p><h2 id="ä¸€æ¬¾å¥½è´§åŸºå¼ ä»€ä¹ˆæ ·"><a href="#ä¸€æ¬¾å¥½è´§åŸºå¼ ä»€ä¹ˆæ ·" class="headerlink" title="ä¸€æ¬¾å¥½è´§åŸºå¼ ä»€ä¹ˆæ ·"></a>ä¸€æ¬¾å¥½è´§åŸºå¼ ä»€ä¹ˆæ ·</h2><p>å…¨å¹´365å¤©24å°æ—¶æ— ä¼‘ï¼Œæ€¥ç”¨é’±æ—¶ç«‹é©¬åˆ°è´¦ï¼Œæœ€å¥½æ‰‹æœºå°±èƒ½æ“ä½œï¼Œæ”¶ç›Šè¦æ¯”é“¶è¡Œå­˜æ¬¾é«˜ã€‚ã€‚ã€‚ç­‰å¾…ï¼Œè¿˜æœ‰<strong>ä¸èƒ½è¢«é»‘å®¢ç›—èµ°ï¼ï¼</strong></p><h2 id="è´§åŸºä¹Ÿè¦æ³¨æ„é˜²ç›—"><a href="#è´§åŸºä¹Ÿè¦æ³¨æ„é˜²ç›—" class="headerlink" title="è´§åŸºä¹Ÿè¦æ³¨æ„é˜²ç›—"></a>è´§åŸºä¹Ÿè¦æ³¨æ„é˜²ç›—</h2><p>å¾ˆå¤šäººä¸æ•¢åœ¨è´§åŸºä¸­å­˜å¤ªå¤šçš„é’±ï¼Œå°±æ˜¯æ‹…å¿ƒç½‘ç»œå®‰å…¨ã€‚</p><p><strong>æ¨è</strong>ï¼šå¯é€‰æ‹©â€œ<strong>é—­ç¯å‹</strong>â€è´§åŸºã€‚ä¸èƒ½è½¬è´¦ï¼Œä¸èƒ½è´­ç‰©ï¼Œä¸èƒ½ç¼´è´¹ã€‚åªèƒ½æç°åˆ°è‡ªå·±ç›¸åŒèº«ä»½è¯çš„é“¶è¡Œå¡ï¼Œåªèƒ½å¯¹è‡ªå·±ç›¸åŒèº«ä»½è¯çš„ä¿¡ç”¨å¡è¿˜æ¬¾</p><h1 id="æŒ‘é€‰è´§å¸åŸºé‡‘å®æ“"><a href="#æŒ‘é€‰è´§å¸åŸºé‡‘å®æ“" class="headerlink" title="æŒ‘é€‰è´§å¸åŸºé‡‘å®æ“"></a>æŒ‘é€‰è´§å¸åŸºé‡‘å®æ“</h1><p>ç¬¬ä¸€æ­¥ï¼šç™¾åº¦æœç´¢å…³é”®å­—:â€åŸºé‡‘å…¬å¸åå•â€</p><p><img src="//haoyongliang.gitee.io/2019/10/10/ç†è´¢/03.è´§å¸åŸºé‡‘çš„æŒ‘é€‰/2.png" alt></p><p>ç¬¬äºŒæ­¥ï¼šæŸ¥çœ‹åŸºé‡‘è§„æ¨¡ï¼ŒæŒ‰ç…§è§„æ¨¡æ’åºï¼Œæœ‰é™é€‰æ‹©è§„æ¨¡å¤§çš„ã€‚</p><p><img src="//haoyongliang.gitee.io/2019/10/10/ç†è´¢/03.è´§å¸åŸºé‡‘çš„æŒ‘é€‰/4.png" alt></p><p>ç¬¬ä¸‰æ­¥ï¼šæ‰“å¼€åŸºé‡‘å…¬å¸å®˜ç½‘ æ‰¾åˆ°è´§å¸åŸºé‡‘</p><p><img src="//haoyongliang.gitee.io/2019/10/10/ç†è´¢/03.è´§å¸åŸºé‡‘çš„æŒ‘é€‰/5.png" alt></p><p>ç¬¬å››æ­¥ï¼šæŸ¥çœ‹å…³æ³¨ç‚¹æ˜¯å¦æ»¡è¶³æ¡ä»¶(é‡ç‚¹å…³æ³¨æµåŠ¨æ€§)ï¼ŒT+0å¿«é€Ÿå–å›ï¼Œæ‰‹æœºç°é‡‘å®ï¼Œä¸€åˆ†é’±èµ·å­˜..</p><p><img src="//haoyongliang.gitee.io/2019/10/10/ç†è´¢/03.è´§å¸åŸºé‡‘çš„æŒ‘é€‰/6.png" alt></p><p>ç¬¬äº”æ­¥ï¼šæŸ¥çœ‹è´§åŸºçš„æ€»è§„æ¨¡ï¼Œæ€»è§„æ¨¡è¶Šå¤§æµåŠ¨æ€§è¶Šå¥½</p><p>ç¬¬å…­æ­¥ï¼šå®Œæ•´æ³¨å†Œå’Œé“¶è¡Œå¡ç»‘å®šï¼Œä¸€æ­¥ä¸€æ­¥ç»‘å®šå³å¯ã€‚</p><p>æç¤ºï¼šæœ€å¥½ç”¨çš„ä¸€èˆ¬æ˜¯åŸºé‡‘å…¬å¸çš„æ——èˆ°äº§å“(å®˜ç½‘æ‰“å¹¿å‘Šçš„)ã€‚å»ºè®®ç›´æ¥ä»åŸºé‡‘å…¬å¸å®˜ç½‘è´­ä¹°ï¼Œçœå»ç¬¬ä¸‰æ–¹æµç¨‹ï¼Œèµ„é‡‘åˆ°è´¦é€Ÿåº¦æ›´å¿«ã€‚</p><h1 id="ä¸¤ä¸ªé‡è¦æ”¶ç›Šç‡"><a href="#ä¸¤ä¸ªé‡è¦æ”¶ç›Šç‡" class="headerlink" title="ä¸¤ä¸ªé‡è¦æ”¶ç›Šç‡"></a>ä¸¤ä¸ªé‡è¦æ”¶ç›Šç‡</h1><p>ä¸‡ä»½æ”¶ç›Šï¼šä¸Šä¸€ä¸ªäº¤æ˜“æ—¥æ¯ä¸€ä¸‡ä»½èƒ½æ‹¿åˆ°å¤šå°‘æ”¶ç›Š</p><p>ä¸ƒæ—¥å¹´åæ”¶ç›Šç‡ï¼šè¿‡å»ä¸ƒå¤©çš„æ”¶ç›ŠåŠ æ€»ï¼Œå†å¹´åŒ–æ‰€å¾—çš„æ”¶ç›Šç‡</p><p><img src="//haoyongliang.gitee.io/2019/10/10/ç†è´¢/03.è´§å¸åŸºé‡‘çš„æŒ‘é€‰/1.png" alt></p><p>å‘¨å››æ”¶ç›Šç‡é«˜ï¼Œå‘¨äº”ã€å‘¨æœ«ä½ï¼Œæ‰€ä»¥å–7å¤©å¹³å‡å€¼ã€‚</p><h1 id="è´§åŸºè¿˜å¯ä¸ä¿¡ç”¨å¡é…åˆä½¿ç”¨"><a href="#è´§åŸºè¿˜å¯ä¸ä¿¡ç”¨å¡é…åˆä½¿ç”¨" class="headerlink" title="è´§åŸºè¿˜å¯ä¸ä¿¡ç”¨å¡é…åˆä½¿ç”¨"></a>è´§åŸºè¿˜å¯ä¸ä¿¡ç”¨å¡é…åˆä½¿ç”¨</h1><p>å¹³æ—¶æŠŠé’±æ”¾åœ¨è´§åŸºé‡Œï¼Œåœ¨æ¶ˆè´¹æ—¶ï¼Œå°½å¯èƒ½å°‘ä½¿ç”¨ç°é‡‘ï¼Œä¼˜å…ˆä½¿ç”¨ä¿¡ç”¨å¡ä»˜æ¬¾</p><p>ä¿¡ç”¨å¡è¿˜æ¬¾æ—¥ä¸´è¿‘ï¼Œå†ä½¿ç”¨è´§åŸºè¿˜æ¬¾ï¼Œæœ€å¿«1ç§’åˆ°å¸ï¼Œéƒ¨åˆ†é“¶è¡Œè¿˜æ”¯æŒç”µå­è´¦å•è‡ªåŠ¨è¿˜æ¬¾</p><p>ç›¸å½“äºï¼š<strong>å¥—å–äº†ä¿¡ç”¨å¡çš„å…æ¯æœŸåˆ©æ¯</strong></p><h1 id="ä¸€å‘¨ä¸­åœ¨å‘¨å‡ ä¹°å…¥åˆé€‚"><a href="#ä¸€å‘¨ä¸­åœ¨å‘¨å‡ ä¹°å…¥åˆé€‚" class="headerlink" title="ä¸€å‘¨ä¸­åœ¨å‘¨å‡ ä¹°å…¥åˆé€‚"></a>ä¸€å‘¨ä¸­åœ¨å‘¨å‡ ä¹°å…¥åˆé€‚</h1><p>å‘¨1åˆ°å‘¨å››ï¼Œæœ€è¿Ÿå‘¨å››ï¼Œå‘¨äº”å¼€å§‹è®¡ç®—æ”¶ç›Šï¼Œè¿˜å¯ä»¥äº«å—å‘¨æœ«çš„æ”¶ç›Šã€‚å¦‚æœå‘¨äº”ä¹°å…¥ä¸‹å‘¨ä¸€æ‰è®¡ç®—æ”¶ç›Šã€‚å‘¨æœ«æœ‰2å¤©ç©ºæ¡£æœŸã€‚</p>]]></content>
      
      
      <categories>
          
          <category> ç†è´¢ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> åŸºé‡‘ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç®€å†-ç²¾ç®€ç‰ˆ</title>
      <link href="/2019/10/08/%E7%AE%80%E5%8E%86/%E7%AE%80%E5%8E%86-%E7%B2%BE%E7%AE%80%E7%89%88/"/>
      <url>/2019/10/08/%E7%AE%80%E5%8E%86/%E7%AE%80%E5%8E%86-%E7%B2%BE%E7%AE%80%E7%89%88/</url>
      
        <content type="html"><![CDATA[<blockquote><h2 id="ä¸ªäººä¿¡æ¯"><a href="#ä¸ªäººä¿¡æ¯" class="headerlink" title="ä¸ªäººä¿¡æ¯"></a>ä¸ªäººä¿¡æ¯</h2></blockquote><p><img src="//haoyongliang.gitee.io/2019/10/08/ç®€å†/ç®€å†-ç²¾ç®€ç‰ˆ/me2.jpg" alt></p><p>å§“å: éƒæ°¸äº®</p><p>å¹´é¾„: 28</p><p>ç±è´¯: å±±è¥¿çœæ™‹ä¸­å¸‚æ¦†æ¬¡åŒº</p><blockquote><h2 id="ä¸“ä¸šæŠ€èƒ½"><a href="#ä¸“ä¸šæŠ€èƒ½" class="headerlink" title="ä¸“ä¸šæŠ€èƒ½"></a>ä¸“ä¸šæŠ€èƒ½</h2></blockquote><p>1.ç†Ÿç»ƒæŒæ¡JavaSEåŸºç¡€çŸ¥è¯†ï¼Œç†Ÿæ‚‰å¤šçº¿ç¨‹ä¸å¹¶å‘ç¼–ç¨‹ï¼Œæ‹¥æœ‰ä¸°å¯Œçš„ç³»ç»Ÿè®¾è®¡åˆ†æèƒ½åŠ›ä»¥åŠé¢å‘å¯¹è±¡åˆ†æå’Œè®¾è®¡èƒ½åŠ›ï¼Œç†Ÿæ‚‰å¸¸ç”¨çš„è®¾è®¡æ¨¡å¼ï¼ˆä»£ç†ã€å•ä¾‹ã€å·¥å‚ã€å»ºé€ è€…ã€è§‚å¯Ÿè€…ã€ç­–ç•¥ç­‰ï¼‰åŠåå°„ã€è‡ªå®šä¹‰æ³¨è§£ã€æ³›å‹ç­‰ã€‚</p><p>2.ç†Ÿç»ƒæŒæ¡Eclipse/IDEã€Svnã€Gitã€Mavenã€Dockerç­‰å¼€å‘åŠç‰ˆæœ¬æ§åˆ¶å·¥å…·ï¼Œç†Ÿç»ƒæŒæ¡JavaåŸºç¡€æŠ€æœ¯Jspã€Servletã€Jdbcï¼Œç†Ÿç»ƒæŒæ¡Webåº”ç”¨ç³»ç»Ÿå¼€å‘å…·å¤‡çš„ç‹¬ç«‹å¼€å‘èƒ½åŠ›ã€‚</p><p>3.ç†Ÿæ‚‰ç½‘ç»œé€šè®¯æŠ€æœ¯Socketã€Http</p><p>4.ç†Ÿæ‚‰JVMå‚æ•°è°ƒä¼˜ã€æ€§èƒ½æ£€æµ‹å·¥å…·ã€ç”Ÿäº§ç¯å¢ƒæœåŠ¡å™¨jvmè°ƒä¼˜é…ç½®ã€å‹åŠ›æµ‹è¯•å·¥å…·JMeterã€‚</p><p>5.ç†Ÿç»ƒä½¿ç”¨Oracleã€MySQLç­‰å…³ç³»å‹æ•°æ®åº“ï¼Œç†Ÿç»ƒä½¿ç”¨Redisã€MongoDBç­‰éå…³ç³»å‹æ•°æ®åº“</p><p>6.ç†Ÿç»ƒä½¿ç”¨TomcatæœåŠ¡å™¨ï¼Œå‘å¸ƒéƒ¨ç½²WEBé¡¹ç›®</p><p>7.ç†Ÿç»ƒä½¿ç”¨Springã€Mybatisã€SpringBoot2.0ç­‰å¼€æºæ¡†æ¶ï¼Œç†Ÿæ‚‰Springçš„IOCã€DIã€AOPè®¾è®¡æ€æƒ³ï¼›</p><p>8.ç†Ÿæ‚‰SOAã€åˆ†å¸ƒå¼ã€å¾®æœåŠ¡ã€å¤§å‹ç½‘ç«™æ¶æ„ï¼Œç†Ÿæ‚‰RPCè¿œç¨‹è°ƒç”¨ã€Dubboã€Dubboxã€SpringCloudç­‰å¾®æœåŠ¡æ¡†</p><p>9ï¼Œæœ‰ä¸°å¯Œçš„GISé¡¹ç›®å’Œé‡‘èé¡¹ç›®å¼€å‘å®æˆ˜ç»éªŒã€‚</p><blockquote><h2 id="é¡¹ç›®ç»éªŒ"><a href="#é¡¹ç›®ç»éªŒ" class="headerlink" title="é¡¹ç›®ç»éªŒ"></a>é¡¹ç›®ç»éªŒ</h2></blockquote><table><thead><tr><th></th><th align="left">é¡¹ç›®</th><th>ç®€ä»‹</th></tr></thead><tbody><tr><td>åŒ—äº¬è¶…å›¾è½¯ä»¶è‚¡ä»½æœ‰é™å…¬å¸</td><td align="left">å±±è¥¿å±±æ´ªç³»ç»Ÿã€æµ·å—ç²¾ç»†åŒ–é¢„æŠ¥ç³»ç»Ÿã€é‡åº†å±±æ´ªé¢„è­¦å¹³å°</td><td>åŸºäºæ°”è±¡è§‚æµ‹æ•°æ®çš„å®å†µç›‘æµ‹ ï¼Œçœå¸‚å¿ä¸‰çº§ç²¾ç»†åŒ–é¢„æŠ¥äº§å“åˆ¶ä½œï¼Œå¤šçº§é¢„æŠ¥ã€é€çº§è®¢æ­£ ï¼Œé›·è¾¾å¤–æ¨åŠæµåŸŸé¢é›¨é‡è®¡ç®—ï¼ŒåŸºäºåœ°å›¾çš„äº§å“åˆ¶ä½œï¼Œä¸€é”®å¼å‘å¸ƒé¢„è­¦</td></tr><tr><td>åŒ—äº¬é“¾å®¶æˆ¿åœ°äº§ç»çºªæœ‰é™å…¬å¸</td><td align="left">é“¾å®¶æ¥¼ç›˜å­—å…¸</td><td>ä¾›é“¾å®¶ç»çºªäººä½¿ç”¨çš„æ¥¼ç›˜ä¿¡æ¯æŸ¥è¯¢ç³»ç»Ÿ</td></tr><tr><td>å¹¿å·å¸Œé…Œä¿¡æ¯ç§‘æŠ€æœ‰é™å…¬å¸</td><td align="left">å¹¿å·å¸Œé…Œå†æ‹…ä¿å¹³å°ã€å¹¿å·èµ›å¯Œå†æ‹…ä¿é‡‘èé¡¹ç›®</td><td>è´Ÿè´£é¡¹ç›®æ¡†æ¶æ­å»ºå’Œé€‰å‹ï¼Œå‰ç«¯ç»„åŒäº‹çš„åŸ¹è®­ï¼Œé€šç”¨ç»„ä»¶çš„å¼€å‘å’Œä½¿ç”¨æ–‡æ¡£çš„ç¼–å†™ã€‚ä¸»è¦ä½¿ç”¨çš„æŠ€æœ¯angularJS1.6ç‰ˆæœ¬åŠç›¸å…³æ’ä»¶ï¼Œgulpè‡ªåŠ¨åŒ–å·¥å…·ã€‚</td></tr></tbody></table><blockquote><h2 id="æˆè¯¾ç»éªŒ"><a href="#æˆè¯¾ç»éªŒ" class="headerlink" title="æˆè¯¾ç»éªŒ"></a>æˆè¯¾ç»éªŒ</h2></blockquote><table><thead><tr><th align="left">æˆè¯¾èŒƒå›´</th></tr></thead><tbody><tr><td align="left">å¤ªåŸæ ¡åŒºjavaå…¬ç›Šç›´æ’­è¯¾</td></tr><tr><td align="left">javaSE(åœ¨å¤ªåŸã€åŒ—äº¬ã€ä¸Šæµ·ã€å¹¿å·ã€æ·±åœ³ã€é•¿æ²™ç­‰åœ°åŒºæˆè¯¾)</td></tr><tr><td align="left">java web(åœ¨å¤ªåŸã€çŸ³å®¶åº„ã€è¥¿å®‰ç­‰åœ°åŒºæˆè¯¾)</td></tr><tr><td align="left">SpringBootã€Dockerã€Vueã€SSM</td></tr></tbody></table>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>01.å·¥ä½œå‰äº”å¹´å†³å®šä½ çš„ä¸€ç”Ÿä¹‹åŸºé‡‘è¯»åæ„Ÿ</title>
      <link href="/2019/10/08/%E7%90%86%E8%B4%A2/01.%E5%B7%A5%E4%BD%9C%E5%89%8D%E4%BA%94%E5%B9%B4%E5%86%B3%E5%AE%9A%E4%BD%A0%E7%9A%84%E4%B8%80%E7%94%9F%E4%B9%8B%E5%9F%BA%E9%87%91%E8%AF%BB%E5%90%8E%E6%84%9F/"/>
      <url>/2019/10/08/%E7%90%86%E8%B4%A2/01.%E5%B7%A5%E4%BD%9C%E5%89%8D%E4%BA%94%E5%B9%B4%E5%86%B3%E5%AE%9A%E4%BD%A0%E7%9A%84%E4%B8%80%E7%94%9F%E4%B9%8B%E5%9F%BA%E9%87%91%E8%AF%BB%E5%90%8E%E6%84%9F/</url>
      
        <content type="html"><![CDATA[<h1 id="åºè¨€"><a href="#åºè¨€" class="headerlink" title="åºè¨€"></a>åºè¨€</h1><p>ä¸‹é¢æˆ‘æ¥ç»™å¤§å®¶åˆ†äº«ä¸€ä¸‹ä¹¦é‡Œå…³äºåŸºé‡‘çš„ä¸€äº›çŸ¥è¯†ã€‚ç„¶è€Œé‚£äº›åŸºé‡‘çš„ç±»åˆ«æˆ‘ä¹Ÿæ˜¯å¾ˆå¤šè¿˜æ˜¯æ²¡ææ‡‚ï¼Œå¸Œæœ›é‚£äº›å·²ç»å­¦å®ŒåŸºé‡‘è¯¾æˆ–è€…å·²ç»çŸ¥é“çš„å°ä¼™ä¼´ä»¬å¸®å¿™è§£ç­”ä¸€ä¸‹ï½</p><h1 id="åŸºé‡‘çš„åˆ†ç±»"><a href="#åŸºé‡‘çš„åˆ†ç±»" class="headerlink" title="åŸºé‡‘çš„åˆ†ç±»"></a>åŸºé‡‘çš„åˆ†ç±»</h1><p>æŒ‰ç…§é€šä¿—çš„è§£é‡Šï¼ŒåŸºé‡‘æœ‰å¾ˆå¤šç±»åˆ«ï¼š</p><p>ï¼ˆ1ï¼‰æŒ‰ç…§ç»„ç»‡å½¢å¼ä¸åŒï¼Œå¯ä»¥åˆ†ä¸ºå¥‘çº¦å‹åŸºé‡‘å’Œå…¬å¸å‹åŸºé‡‘ï¼›</p><p>ï¼ˆ2ï¼‰æŒ‰ç…§è¿ä½œæ–¹å¼ä¸åŒï¼Œå¯ä»¥åˆ†ä¸ºå°é—­å¼åŸºé‡‘å’Œå¼€æ”¾å¼åŸºé‡‘ï¼›</p><p>ï¼ˆ3ï¼‰æŒ‰ç…§æŠ•èµ„ç›®çš„ä¸åŒï¼Œå¯ä»¥åˆ†ä¸ºæˆé•¿å‹åŸºé‡‘ã€æ”¶å…¥å‹åŸºé‡‘å’Œå¹³è¡¡å‹åŸºé‡‘ï¼›</p><p>ï¼ˆ4ï¼‰æŒ‰ç…§æŠ•èµ„å¯¹è±¡ä¸åŒï¼Œå¯ä»¥åˆ†ä¸ºè‚¡ç¥¨å‹åŸºé‡‘ã€å€ºåˆ¸å‹åŸºé‡‘å’Œè´§å¸åŸºé‡‘ï¼›</p><p>ï¼ˆ5ï¼‰æŒ‰ç…§æŠ•èµ„ç†å¿µçš„ä¸åŒï¼Œå¯ä»¥åˆ†ä¸ºä¸»åŠ¨å‹åŸºé‡‘å’Œè¢«åŠ¨ï¼ˆæŒ‡æ•°ï¼‰å‹åŸºé‡‘ï¼›</p><p>ï¼ˆ6ï¼‰æŒ‰ç…§å‹Ÿé›†æ–¹å¼çš„ä¸åŒï¼Œå¯ä»¥åˆ†ä¸ºå…¬å‹ŸåŸºé‡‘å’Œç§å‹ŸåŸºé‡‘ã€‚</p><p>åŸºæœ¬ä¸Šï¼Œä¹°åŸºé‡‘çš„äººæœ€é¢‘ç¹æ¥è§¦çš„åè¯å°±æ˜¯ï¼šå°é—­å¼åŸºé‡‘ã€å¼€æ”¾å¼åŸºé‡‘ã€‚å…¶ä¸­å¼€æ”¾å¼åŸºé‡‘æ˜¯ç»å¤§å¤šæ•°ä»‹å…¥åŸºé‡‘çš„äººéƒ½ä¼šè´­ä¹°çš„ç§ç±»ã€‚</p><h1 id="è´­ä¹°åŸºé‡‘æ˜¯è¦æ”¶è´¹çš„"><a href="#è´­ä¹°åŸºé‡‘æ˜¯è¦æ”¶è´¹çš„" class="headerlink" title="è´­ä¹°åŸºé‡‘æ˜¯è¦æ”¶è´¹çš„"></a>è´­ä¹°åŸºé‡‘æ˜¯è¦æ”¶è´¹çš„</h1><p>åŸºé‡‘æ˜¯è¦æ”¶ä¿ç®¡è´¹ã€‚å½“ç„¶ï¼Œç”¨ä¸“ä¸šæœ¯è¯­æ¥è¯´å°±æ˜¯â€œä½£é‡‘â€ã€‚</p><p>ä½£é‡‘æœ‰ä¸¤ç§ï¼Œä¸€ç§æ˜¯<strong>ç”³è´­è´¹</strong>ï¼Œä¸€ç§æ˜¯<strong>è®¤è´­è´¹</strong>ç”¨ã€‚å‘è¡ŒæœŸé—´è´­ä¹°åŸºé‡‘å«ä½œ<strong>è®¤è´­</strong>ï¼Œæˆç«‹åçš„åŸºé‡‘è´­ä¹°å«ä½œ<strong>ç”³è´­</strong>ã€‚</p><p>åŸºæœ¬ä¸Šï¼Œå¤§å¤šæ•°äººåœ¨ç½‘ç»œä¸Šæˆ–è€…é“¶è¡ŒæŸœé¢è¿›è¡Œæ“ä½œçš„éƒ½æ˜¯â€œç”³è´­â€ï¼Œè´¹ç‡ä¸€èˆ¬åœ¨1ï¼…ï½1.5ï¼…ã€‚</p><p>ç„¶åï¼Œæ”¶å–è´¹ç”¨çš„æ–¹å¼ä¹Ÿåˆ†ä¸ºâ€œäº‹å‰â€å’Œâ€œäº‹åâ€ï¼Œä¹Ÿå°±æ˜¯å‰ç«¯æ”¶è´¹å’Œåç«¯æ”¶è´¹(æ–‡ç« åé¢ä¼šä»‹ç»)ã€‚å½“ç„¶ï¼ŒåŸºé‡‘æ”¶ä¿ç®¡è´¹ä¹Ÿå¯ä»¥ç†è§£ï¼Œæˆ‘ä»¬æŠŠé’±äº¤ç»™åˆ«äººç®¡ç†ï¼Œäººå®¶è‡ªç„¶éœ€è¦æ”¶å–ä¸€å®šçš„åŠ³åŠ¡è´¹ç”¨ã€‚å¥½æ¯”æ‰˜å„¿æ‰€å¸®äººå¸¦å­©å­ï¼Œä¸ç®¡å¸¦å¾—å¥½ä¸å¥½ï¼Œæ€»å½’æ¯å¹´çš„æ‰˜ç®¡è´¹æ˜¯è¦äº¤çš„ã€‚åŸºé‡‘ä¹Ÿæ˜¯å¦‚æ­¤ï¼Œä¸ç®¡åŸºé‡‘ä¸€å¹´çš„æ”¶ç›Šå¦‚ä½•ï¼Œä½£é‡‘æ˜¯ä¸€å®šè¦æ”¯ä»˜çš„ï¼Œè€Œä¸”å¾ˆå¤šè¿˜æ˜¯æå‰æ”¯ä»˜ã€‚</p><h1 id="è´§å¸åŸºé‡‘-è‚¡ç¥¨å‹åŸºé‡‘-å€ºåˆ¸å‹åŸºé‡‘å’Œæ··åˆå‹åŸºé‡‘çš„åŒºåˆ«"><a href="#è´§å¸åŸºé‡‘-è‚¡ç¥¨å‹åŸºé‡‘-å€ºåˆ¸å‹åŸºé‡‘å’Œæ··åˆå‹åŸºé‡‘çš„åŒºåˆ«" class="headerlink" title="è´§å¸åŸºé‡‘\è‚¡ç¥¨å‹åŸºé‡‘\å€ºåˆ¸å‹åŸºé‡‘å’Œæ··åˆå‹åŸºé‡‘çš„åŒºåˆ«"></a>è´§å¸åŸºé‡‘\è‚¡ç¥¨å‹åŸºé‡‘\å€ºåˆ¸å‹åŸºé‡‘å’Œæ··åˆå‹åŸºé‡‘çš„åŒºåˆ«</h1><h2 id="è´§å¸åŸºé‡‘"><a href="#è´§å¸åŸºé‡‘" class="headerlink" title="è´§å¸åŸºé‡‘"></a>è´§å¸åŸºé‡‘</h2><p>æµåŠ¨æ€§éå¸¸å¥½ï¼Œæ²¡æœ‰ç”³è´­èµå›è´¹ç”¨ï¼ŒåŸºé‡‘ä¹Ÿä¸»è¦æŠ•èµ„å€ºåˆ¸ã€å¤®è¡Œç¥¨æ®ã€å›è´­ç­‰å®‰å…¨æ€§æé«˜çš„çŸ­æœŸé‡‘èå“ç§ï¼Œç±»ä¼¼â€œå‚¨è“„äº§å“â€ï¼Œæ¯æœˆåˆ†çº¢ã€‚åŒæ—¶èµå›ä¹Ÿå¾ˆæ–¹ä¾¿ï¼Œç°åœ¨å—æ–¹åŸºé‡‘ã€åå¤åŸºé‡‘ã€æ±‡æ·»å¯ŒåŸºé‡‘ã€æ˜“æ–¹è¾¾åŸºé‡‘ç­‰ä¸€äº›å…¬å¸éƒ½æ¨å‡ºäº†T+0æœåŠ¡ï¼Œä¹Ÿå°±æ˜¯å½“å¤©èµå›ï¼Œå½“å¤©åˆ°è´¦ï¼Œä¹Ÿè®¸æ¯”æ´»æœŸå–é’±ç«‹é©¬å…‘ç°ç¨å¾®æ…¢äº†ç‚¹ï¼Œä½†ç›¸å¯¹å…¶ä»–ä¹Ÿå¾ˆå¿«æ·ã€‚æ ¹æ®å®é™…æ“ä½œæ¥çœ‹ï¼Œè´­ä¹°çš„è´§å¸åŸºé‡‘æ˜¯å—æ–¹ç°é‡‘Aï¼Œæ¯æ¬¡T+0èµå›çš„æ—¶é—´éƒ½åœ¨1åˆ†é’Ÿä¹‹å†…ã€‚</p><p>è¿™é‡Œå†å¤šè¯´ä¸€å¥ï¼Œé˜¿é‡Œå·´å·´æ——ä¸‹çš„ä½™é¢å®å°±æ˜¯è´§å¸åŸºé‡‘çš„ä¸€ç§ï¼Œä½™é¢å®ä¸­çš„èµ„é‡‘å…¶å®æ˜¯ç”±å¤©å¼˜åŸºé‡‘å…¬å¸è¿›è¡Œç®¡ç†çš„ï¼Œä½™é¢å®çš„æ”¶ç›Šä¹Ÿä¸æ˜¯â€œåˆ©æ¯â€ï¼Œè€Œæ˜¯ç”¨æˆ·è´­ä¹°è´§å¸åŸºé‡‘çš„æ”¶ç›Šï¼Œæ·˜å®ç”¨æˆ·ä¸€æ—¦æŠŠé’±ä»æ”¯ä»˜å®è´¦æˆ·è½¬åˆ°â€œä½™é¢å®â€ï¼Œæ”¯ä»˜å®å…¬å¸å°±è‡ªåŠ¨æŠŠé’±æˆåä¸ºâ€œå¤©å¼˜å¢åˆ©å®è´§å¸â€çš„è´§å¸åŸºé‡‘ï¼Œè¿™æ ·ä¸€æ¥ä½ åœ¨â€œä½™é¢å®â€é‡Œçš„é’±å°±å¯ä»¥å¾—åˆ°è´§å¸åŸºé‡‘çš„æ”¶ç›Šã€‚</p><h2 id="å€ºåˆ¸å‹åŸºé‡‘"><a href="#å€ºåˆ¸å‹åŸºé‡‘" class="headerlink" title="å€ºåˆ¸å‹åŸºé‡‘"></a>å€ºåˆ¸å‹åŸºé‡‘</h2><p>æ˜¯æŒ‡ä»¥å›½å€ºã€é‡‘èå€ºç­‰å›ºå®šæ”¶ç›Šç±»é‡‘èå·¥å…·ä¸ºä¸»è¦æŠ•èµ„å¯¹è±¡çš„åŸºé‡‘ï¼Œç›¸å¯¹è€Œè¨€é£é™©æ¯”è¾ƒç¨³å®šï¼Œæ”¶ç›Šä¹Ÿç¨³å®šã€‚å½“ç„¶ï¼Œè¿™é‡Œç¨å¾®æœ‰äº›åŒºåˆ«ï¼Œçº¯å€ºå‹åŸºé‡‘ä¸æŠ•èµ„è‚¡ç¥¨ï¼Œåå€ºå‹åŸºé‡‘å¯ä»¥æŠ•èµ„å°‘é‡çš„è‚¡ç¥¨ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œå€ºåˆ¸å‹åŸºé‡‘ä¸æ”¶å–è®¤è´­æˆ–ç”³è´­çš„è´¹ç”¨ï¼Œèµå›è´¹ç‡ä¹Ÿè¾ƒä½ã€‚</p><h2 id="è‚¡ç¥¨å‹åŸºé‡‘"><a href="#è‚¡ç¥¨å‹åŸºé‡‘" class="headerlink" title="è‚¡ç¥¨å‹åŸºé‡‘"></a>è‚¡ç¥¨å‹åŸºé‡‘</h2><p>æ˜¯åŸºé‡‘ä¸­é£é™©æœ€é«˜çš„ä¸€ç§ï¼Œèµ„äº§æ€»é¢çš„60ï¼…ä»¥ä¸ŠæŠ•èµ„äºè‚¡ç¥¨çš„åŸºé‡‘å°±æ˜¯è‚¡ç¥¨å‹åŸºé‡‘ã€‚ç”³è´­èµå›è´¹ç”¨éƒ½ç›¸å¯¹è¾ƒé«˜ã€‚å½“ç„¶å®ƒçš„æŠ•èµ„å›æŠ¥ç‡ä¹Ÿç›¸å¯¹æ¥è¯´æ¯”è¾ƒé«˜ã€‚å› ä¸ºè‚¡ç¥¨å‹åŸºé‡‘ä¹°å…¥çš„å°±æ˜¯è‚¡ç¥¨ï¼Œè€Œè‚¡ç¥¨æ³¢åŠ¨æ€§è¦æ¯”å€ºåˆ¸å¼ºï¼Œä¼šå› ä¸ºè‚¡å¸‚çš„å˜åŒ–è€Œèµ·èµ·è½è½ã€‚</p><h2 id="æ··åˆå‹åŸºé‡‘"><a href="#æ··åˆå‹åŸºé‡‘" class="headerlink" title="æ··åˆå‹åŸºé‡‘"></a>æ··åˆå‹åŸºé‡‘</h2><p>ä»‹äºå€ºåˆ¸å‹åŸºé‡‘å’Œè‚¡ç¥¨å‹åŸºé‡‘ä¹‹é—´ï¼ŒæŠ•èµ„å€ºå¸‚å’Œè‚¡å¸‚çš„çµæ´»æ€§é«˜ï¼Œè‚¡å¸‚å¥½å°±å¤šæŠ•èµ„è‚¡ç¥¨ï¼Œè‚¡å¸‚ä¸å¥½åˆ™å¤šè´­ä¹°å€ºåˆ¸æ¥åˆ†æ‹…é£é™©ï¼Œå½“ç„¶ï¼Œè¿™å¯¹åŸºé‡‘ç»ç†çš„è¦æ±‚æ¯”è¾ƒé«˜ã€‚</p><h1 id="åŸºé‡‘çš„é£é™©"><a href="#åŸºé‡‘çš„é£é™©" class="headerlink" title="åŸºé‡‘çš„é£é™©"></a>åŸºé‡‘çš„é£é™©</h1><p> åŸºé‡‘æœ‰é£é™©ï¼ŒæŠ•èµ„éœ€è°¨æ…ï¼Œè¿™æ˜¯å¤§å®¶è€³ç†Ÿèƒ½è¯¦çš„å£å·äº†ã€‚é‚£ä¹ˆï¼ŒåŸºé‡‘çš„é£é™©æ˜¯ä¸æ˜¯å¦‚å°é£ä¸€æ ·å‡¶é™©å‘¢ï¼Ÿ</p><p><strong>ä»æœ¬è´¨ä¸Šæ¥è¯´ï¼ŒåŸºé‡‘å°±æ˜¯è‚¡ç¥¨ï¼Œæœ‰é£é™©ï¼Œä½†ä¹Ÿæ²¡æœ‰é£é™©ã€‚æ›´å‡†ç¡®åœ°æ¥è¯´ï¼Œä»çŸ­æœŸæ¥çœ‹ï¼Œé£é™©å·¨å¤§ï¼›ä»ä¸­æœŸæ¥çœ‹ï¼Œé£é™©ä¸å¤§ï¼›ä»é•¿æœŸæ¥çœ‹ï¼Œé£é™©å¾ˆå°ï¼›ä»è¶…é•¿æœŸæ¥çœ‹ï¼Œé£é™©æ²¡æœ‰ã€‚</strong></p><p>æœ€ç®€å•çš„ç”¨æ•°æ®æ¥è¯´è¯ï¼Œçœ‹ç¾å›½è¿™äº›å¹´çš„è‚¡ç¥¨äº¤æ˜“å†å²ï¼Œçœ‹çœ‹ä»1925ï½2002å¹´ç¾å›½77å¹´è‚¡ç¥¨äº¤æ˜“å†å²ã€‚å¦‚æœ1925å¹´æŠ•èµ„1ç¾å…ƒåœ¨å¤§å…¬å¸è‚¡ç¥¨ä¸Šï¼Œåˆ°2002å¹´ï¼Œæ”¶ç›Šæ˜¯1775ç¾å…ƒã€‚åœ¨è¿™77å¹´ä¸­ï¼ŒåŒ…å«äº†å¤šæ¬¡è‚¡å¸‚å´©æºƒï¼Œæœ€ç»ˆçš„æ”¶ç›Šä¾ç„¶æ˜¯1775å€ï¼Œè€ŒåŒæœŸé€šè´§è†¨èƒ€æ˜¯10å€ã€‚å¦‚æœä½ çœŸçš„èƒ½å¤ŸæŠ•èµ„77å¹´ï¼Œæ˜¾ç„¶å¯ä»¥å¤§å¤§åœ°èµšä¸€ç¬”ã€‚å¹³å‡æ¯å¹´çš„æ”¶ç›Šæ˜¯12.2ï¼…ã€‚ä½†æ˜¯è¿™77å¹´ä¸­ï¼Œå¦‚æœä½ ç‹¬ç«‹çš„çœ‹æ¯ä¸€å¹´ï¼Œå´æœ‰23å¹´æ˜¯äºæœ¬çš„ï¼Œæœ€å¤§ä¸€å¹´äºæŸè¾¾åˆ°-43.34ï¼…ã€‚åœ¨å…¶ä½™çš„ç›ˆåˆ©å¹´ä»½ï¼Œæœ€èµšçš„å¹´æ”¶ç›Šæ˜¯53.99ï¼…ï¼Œäºæœ¬å¹´ä»½çš„æ¦‚ç‡æ¥è¿‘30ï¼…ã€‚</p><p>å¦‚æœä½ è¿ç»­ä»»æ„æŠ•èµ„5å¹´ï¼Œæœ€äºçš„å¹´å¹³å‡æ”¶ç›Šä¸º-12ï¼…ï¼Œæœ€èµšçš„ä¸º24ï¼…ã€‚äºæœ¬å¹´ä»½çš„æ¦‚ç‡æ¥è¿‘10ï¼…ã€‚</p><p>å¦‚æœè¿ç»­æŠ•èµ„10å¹´ï¼Œæœ€äºçš„å¹´å¹³å‡æ”¶ç›Šä¸º-0.9ï¼…ï¼Œæœ€èµšçš„ä¸º20ï¼…ï¼Œäºæœ¬å¹´ä»½çš„æ¦‚ç‡æ¥è¿‘3ï¼…ã€‚</p><p>å¦‚æœè¿ç»­æŠ•èµ„20å¹´ï¼Œæœ€äºçš„å¹´å¹³å‡æ”¶ç›Šä¸º3.1ï¼…ï¼Œæœ€èµšçš„ä¸º17.7ï¼…ï¼Œæ²¡æœ‰äºæœ¬å¹´ã€‚</p><p>æ‰€ä»¥ï¼Œè¿™å°±æ˜¯ç»“è®ºï¼ŒæŒ‰ç…§ç¾å›½çš„è‚¡å¸‚å†å²ï¼Œå¦‚æœä½ ä»…ä»…è¿›è¡Œä¸€å¹´çš„æŠ•èµ„ï¼Œä½ äºæŸå¯èƒ½æ€§æ˜¯30ï¼…ï¼Œå¦‚æœåš5å¹´æŠ•èµ„ï¼ŒäºæŸçš„å¯èƒ½æ€§æ˜¯10ï¼…ï¼Œå¦‚æœåš10å¹´çš„æŠ•èµ„ï¼ŒäºæŸçš„å¯èƒ½æ€§æ˜¯3ï¼…ï¼Œåš20å¹´æŠ•èµ„ï¼Œå°±ä¸ä¼šæœ‰äºæŸäº†ã€‚</p><p>è‡³äºåªè¿›è¡Œå°äº1å¹´çš„æŠ•èµ„ï¼Œ3ä¸ªæœˆæˆ–è€…1ä¸ªæœˆçš„å¤±è´¥æ¦‚ç‡æœ‰å¤šå¤§ï¼Œå¥¹è§‰å¾—åº”è¯¥å’ŒæŠ›ç¡¬å¸å·®ä¸å¤šå¤§å§ã€‚</p><p>æ‰€ä»¥ï¼ŒçŸ­æœŸæ¥çœ‹ï¼Œé£é™©å¾ˆå¤§ï¼›é•¿æœŸæ¥çœ‹ï¼Œé£é™©å¾ˆå°ã€‚</p><p>å½“ç„¶ï¼Œè¿™äº›æ¦‚ç‡æ˜¯é’ˆå¯¹è‚¡ç¥¨è€Œè¨€çš„ï¼Œæˆ–è€…è¯´è‚¡ç¥¨åŸºé‡‘ã€‚è‚¡ç¥¨æ—¢æ˜¯æ”¶ç›Šæœ€å¤§çš„ï¼Œä¹Ÿæ˜¯é£é™©æœ€å¤§çš„ï¼Œè¦é™ä½é£é™©ï¼Œåªæœ‰å¢åŠ æŠ•èµ„å¹´é™ã€‚å½“ç„¶ä½ ä¹Ÿå¯ä»¥æŠ•èµ„å€ºåˆ¸ï¼Œå¦‚æœæŠ•èµ„å€ºåˆ¸ï¼ŒæŒ‰ç…§ç¾å›½çš„é‡‘èå†å²ï¼ŒæŠ•èµ„æœŸä¸º5å¹´çš„æ—¶é—´ï¼ŒäºæŸçš„æ¦‚ç‡å°±ä¸åˆ°5ï¼…ï¼Œå½“ç„¶æ”¾åˆ°77å¹´çš„å†å²ä¸­çœ‹ï¼Œç¾å›½å¤§å…¬å¸çš„å€ºåˆ¸å¹´å¹³å‡æ”¶ç›Šåªæœ‰6.2ï¼…ã€‚ç»è¿‡77å¹´åï¼Œ1ç¾å…ƒå˜ä¸º60ç¾å…ƒã€‚ç›¸æ¯”è‚¡ç¥¨çš„1775ç¾å…ƒï¼Œå¤©å·®åœ°åˆ«ï¼Œç„¶è€Œå¥½å¤„å°±æ˜¯é£é™©å°å¾ˆå¤šï¼Œå¿ƒæƒ…æ³¢åŠ¨ä¹Ÿä¼šå°å¾ˆå¤šã€‚</p><p>å½“ç„¶ï¼Œé£é™©æœ€ä½çš„æ˜¯è´§å¸åŸºé‡‘ï¼Œä½†2ï¼…å·¦å³çš„æ”¶ç›Šã€‚ç»è¿‡77å¹´åï¼Œ1ç¾å…ƒåªä¸è¿‡æ˜¯4.5ç¾å…ƒï¼Œè¿œè¿œè·‘ä¸è¿‡é€šè´§è†¨èƒ€ã€‚</p><p><strong>å¦‚æœè¦æ”¶ç›Šå¤§ï¼Œä¹°è‚¡ç¥¨å‹åŸºé‡‘ï¼›å¦‚æœè¦ç¨³å¥ï¼Œä¹°å€ºåˆ¸å‹åŸºé‡‘æˆ–è€…æ··åˆå‹åŸºé‡‘ï¼›å¦‚æœè¦å®‰å…¨ï¼Œä¹°è´§å¸åŸºé‡‘ã€‚ä¸–ç•Œä¸Šæ²¡æœ‰ä½é£é™©é«˜æ”¶ç›Šçš„äº‹æƒ…</strong>ï¼ˆå½“ç„¶ï¼Œå³ä¾¿æœ‰ï¼Œä¹Ÿä¸æ˜¯åŸºé‡‘å¯ä»¥è§£å†³çš„ï¼‰ã€‚</p><p>å¦‚æœæœ‰äººè¯´ï¼Œæˆ‘æƒ³è¦é«˜æ”¶ç›Šï¼Œè¿˜ä¸æƒ³æ‰¿æ‹…é«˜é£é™©ï¼Œé‚£å°±å¢åŠ æŠ•èµ„çš„æ—¶é—´ï¼Œç”¨æ—¶é—´æ¥å¹³æ»‘æ‰é‚£äº›å¯æ€•çš„æ³¢åŠ¨ã€‚ä»çŸ­æœŸæ¥çœ‹ï¼Œè‚¡ç¥¨å‹åŸºé‡‘ä¸Šä¸‹æ³¢åŠ¨æ˜¾å¾—é‚£ä¹ˆæƒŠå¿ƒåŠ¨é­„ï¼Œè®©äººèƒ†æˆ˜å¿ƒæƒŠï¼Œè€Œä»é•¿ä¹…æ¥çœ‹ï¼Œè¿™äº›æ³¢åŠ¨ä¸è¿‡æ˜¯å¤§æµ·ä¸­çš„ä¸€ç‚¹å°å°æ¶Ÿæ¼ªï¼Œç”šè‡³éƒ½å¯ä»¥å¿½ç•¥ä¸è®¡ã€‚æ‰€ä»¥ï¼Œä¹°å–æœ‰æ—¶å€™ä¹°çš„ä¸æ˜¯å¿ƒè·³ï¼Œè€Œæ˜¯æ—¶é—´ã€‚</p><p>æ‰€ä»¥ï¼Œ<strong>å¦‚æœæƒ³æ‹¥æœ‰é«˜æ”¶ç›Šï¼Œé‚£ä¹ˆå°±è¦æƒ³åŠæ³•å¢åŠ æŠ•èµ„å¹´é™ã€‚ç›®çš„æ˜¯å…»è€æˆ–è€…æŠšå…»å„¿å¥³çš„è¯ï¼Œé€‚åˆä¹°è‚¡ç¥¨åŸºé‡‘ï¼Œç›®çš„æ˜¯3åˆ°5å¹´ä¹‹é—´ä¹°æˆ¿ç»“å©šï¼Œé‚£ä¹ˆå€ºåˆ¸åŸºé‡‘ä¼šæ›´åŠ åˆé€‚ï¼Œè‡³äºåŠå¹´å·¦å³å°±è¦èµå›èµ„é‡‘çš„è¯ï¼Œé‚£ä¹ˆè´§å¸åŸºé‡‘ä¼šæ›´åŠ åˆé€‚ã€‚</strong></p><h1 id="æ—¶é—´çš„é¦ˆèµ â€”â€”å¤åˆ©"><a href="#æ—¶é—´çš„é¦ˆèµ â€”â€”å¤åˆ©" class="headerlink" title="æ—¶é—´çš„é¦ˆèµ â€”â€”å¤åˆ©"></a>æ—¶é—´çš„é¦ˆèµ â€”â€”å¤åˆ©</h1><p>è¯»ç†è´¢å…¥é—¨ä¹¦çš„æ—¶å€™ï¼Œå¸¸å¸¸ä¼šçœ‹åˆ°ä¸€ä¸ªè¯´æ³•ï¼ŒæŠ•èµ„å¼€å§‹çš„è¶Šæ—©ï¼Œå°±å¯ä»¥æ‰¿æ‹…æ›´å¤šçš„é£é™©ï¼Œä¹Ÿå¯ä»¥è·å¾—æ›´å¤§çš„æ”¶ç›Šã€‚ç©¶å…¶åŸå› éå¸¸ç®€å•ï¼ŒæŠ•èµ„è¶Šæ—©ï¼Œæ—¶é—´è¶Šé•¿ï¼Œå¤åˆ©çš„å¨åŠ›å°±è¶Šå¤§ã€‚</p><p>åšä¸ªç®€å•çš„ç®—æœ¯é¢˜ï¼Œä¸€ä¸ª25å²çš„å¹´è½»äººï¼Œæ‰“ç®—åœ¨60å²é€€ä¼‘çš„æ—¶å€™æœ‰100ä¸‡å…ƒå­˜æ¬¾ï¼Œä»–åªéœ€è¦ä¸€ä¸ªéå¸¸ç®€å•çš„åŠæ³•ï¼ŒæŒ‰ç…§å¹³å‡å¹´æ”¶ç›Š12ï¼…æ¥è®¡ç®—ï¼Œæ¯æœˆåªéœ€è¦æŠ•èµ„175å…ƒï¼Œé‚£ä¹ˆåœ¨60å²çš„æ—¶å€™ï¼Œè´¦æˆ·ä¸­å°±ä¼šæœ‰101ä¸‡å…ƒï¼Œè€Œå®é™…æŠ•å…¥çš„æœ¬é‡‘åªæœ‰73500å…ƒã€‚</p><p>ä½†å¯¹äºä¸€ä¸ª40å²çš„äººè€Œè¨€ï¼Œéœ€è¦æ¯æœˆæŠ•å…¥1000å…ƒï¼Œåœ¨åŒæ ·çš„æ”¶ç›Šç‡ä¸‹ï¼Œ60å²æ‰èƒ½æœ‰97ä¸‡å…ƒçš„å­˜æ¬¾ï¼Œä¸æ­¤åŒæ—¶ä»–æŠ•å…¥çš„æœ¬é‡‘å·²ç»è¾¾åˆ°24ä¸‡å…ƒã€‚ä¸ºäº†è¾¾åˆ°åŒæ ·çš„ç›®çš„ï¼Œå°±è¦å¤šæ‹¿å‡º17ä¸‡å…ƒï¼Œä»…ä»…æ˜¯å› ä¸ºæŠ•èµ„æ™šäº†15å¹´ã€‚</p><p>å¦‚æœè¿›è¡Œä¸€æ¬¡æ€§çš„æŠ•èµ„ï¼Œå·®è·ä¼šæ›´åŠ å¯æ€•ã€‚25å²çš„æ—¶å€™ï¼Œæ‹¿å‡º2ä¸‡å…ƒï¼ŒæŒ‰ç…§å¹´æ”¶ç›Š12ï¼…å¤åˆ©å¢é•¿ï¼Œ60å²çš„æ—¶å€™ä¼šæœ‰105ä¸‡å…ƒï¼›å¦‚æœ40å²çš„æ—¶å€™æ‹¿å‡º2ä¸‡å…ƒæŠ•èµ„ï¼ŒæŒ‰ç…§åŒæ ·çš„æ”¶ç›Šç‡å¤åˆ©å¢é•¿ï¼Œ60å²æ—¶åªæœ‰19ä¸‡å…ƒï¼Œå·®è·æœ‰4å€ä¹‹å¤šã€‚</p><p>åŸºé‡‘å…¬å¸çš„å®£ä¼ å†Œä¸Šå¸¸å¸¸èƒ½å¤Ÿçœ‹åˆ°ç±»ä¼¼çš„å°æ•…äº‹ï¼Œæ¯”å¦‚ç‹å¥³å£«20å²çš„æ—¶å€™æ¯æœˆæŠ•èµ„500å…ƒä¹°åŸºé‡‘ï¼Œå‡è®¾å¹´å‡æ”¶ç›Šç‡ä¸º10ï¼…ï¼Œå¥¹æŠ•èµ„7å¹´å°±ä¸å†æ‰£æ¬¾ï¼Œç„¶åè®©æœ¬é‡‘å’Œè·åˆ©ä¸€èµ·æˆé•¿ï¼Œåˆ°60å²é€€ä¼‘çš„æ—¶å€™ï¼Œæœ¬åˆ©å·²ç»è¾¾åˆ°äº†162ä¸‡å…ƒï¼›è€Œå¼ å¥³å£«åˆ™æ˜¯åœ¨26å²çš„æ—¶å€™å¼€å§‹æŠ•èµ„åŸºé‡‘ï¼ŒåŒæ ·æ˜¯æ¯æœˆ500å…ƒï¼Œ10ï¼…çš„å¹´å‡æ”¶ç›Šç‡ï¼Œå¥¹éœ€è¦èŠ±33å¹´çš„æ—¶é—´æŒç»­æ‰£æ¬¾ï¼Œåˆ°60å²æ‰ç´¯è®¡154ä¸‡å…ƒã€‚å¼ å¥³å£«ä¸è¿‡æ¯”ç‹å¥³å£«æ™šæŠ•èµ„äº†7å¹´ï¼Œå´è¦å¤šèŠ±25å¹´æ¥è¿½èµ¶ã€‚</p><p>è®¡ç®—é•¿æœŸæ”¶ç›Šæœ‰ä¸€ä¸ªéå¸¸å¥½ç”¨çš„å…¬å¼â€œ<strong>72æ³•åˆ™</strong>â€ï¼Œæ¯”å¦‚å¹´æ”¶ç›Šç‡æ˜¯8ï¼…ï¼Œé‚£ä¹ˆ72Ã·8=9ï¼Œä¹Ÿå°±æ˜¯è¯´9å¹´èµ„äº§å¯ä»¥ç¿»ä¸€å€ï¼›å¦‚æœå¹´æ”¶ç›Šç‡æ˜¯12ï¼…ï¼Œé‚£ä¹ˆ72Ã·12=6ï¼Œä¹Ÿå°±æ˜¯è¯´6å¹´æ”¶ç›Šç‡ç¿»ä¸€å€ã€‚åœ¨30å¹´çš„æ—¶é—´é‡Œï¼Œå¦‚æœå¹´æ”¶ç›Šç‡è¾¾åˆ°12ï¼…ï¼Œæœ¬é‡‘å¯ä»¥ç¿»5ç•ªï¼Œå³32å€ï¼›å¦‚æœå¹´æ”¶ç›Šç‡æ˜¯8ï¼…ï¼Œæœ¬é‡‘å¯ä»¥ç¿»3ç•ªï¼Œå³10å€å·¦å³ã€‚</p><p>ç”±æ­¤å¯ä»¥çœ‹å‡ºï¼Œæƒ³è·å¾—å·¨å¤§çš„æ”¶ç›Šï¼Œæœ‰ä¸¤ç‚¹å¾ˆé‡è¦ï¼š<strong>æ—¶é—´é•¿çŸ­å’Œå¹´æ”¶ç›Šç‡</strong>ã€‚å¦‚æœä¸€ä¸ªäººæ— æ³•è·å¾—10ï¼…ä»¥ä¸Šçš„é«˜æ”¶ç›Šç‡ï¼Œé‚£ä¹ˆåœ¨å¯»æ±‚ç¨³å¥çš„å‰æä¸‹ï¼Œå°½å¯èƒ½å»¶é•¿æŠ•èµ„çš„æ—¶é—´ï¼Œææ—©å¼€å§‹è¿›è¡ŒæŠ•èµ„ã€‚å¦‚æœä¸€ä¸ªäººæ²¡æœ‰ææ—©å¼€å§‹æŠ•èµ„ï¼Œå¤±å»äº†æ—¶é—´çš„ä¼˜åŠ¿ï¼Œé‚£ä¹ˆå°±éœ€è¦æ‰¿æ‹…å¾ˆå¤šçš„é£é™©å»è°‹æ±‚é«˜æ”¶ç›Šç‡ã€‚ä¸¤è€…ç›¸æ¯”ï¼Œè°æ›´å®¹æ˜“æˆåŠŸï¼Œä¸€ç›®äº†ç„¶ã€‚</p><h1 id="å®šæŠ•è¿˜æ˜¯ä¸€æ¬¡æ€§æŠ•å…¥"><a href="#å®šæŠ•è¿˜æ˜¯ä¸€æ¬¡æ€§æŠ•å…¥" class="headerlink" title="å®šæŠ•è¿˜æ˜¯ä¸€æ¬¡æ€§æŠ•å…¥"></a>å®šæŠ•è¿˜æ˜¯ä¸€æ¬¡æ€§æŠ•å…¥</h1><p>å®šæŠ•å¾ˆç®€å•ï¼Œä¸é“¶è¡Œç­¾è®¢ä¸€ä¸ªåˆåŒï¼Œæ¯æœˆå›ºå®šæŸä¸€æ—¥ï¼Œæˆ–è€…æ¯ä¸¤å‘¨å›ºå®šæŸä¸€æ—¥ï¼Œæˆ–è€…æ¯å‘¨å›ºå®šæŸä¸€æ—¥è¿›è¡Œæ‰£æ¬¾ï¼Œä¸€èˆ¬é“¶è¡Œæˆ–è€…åŸºé‡‘å…¬å¸ä¼šæå‰ä¸¤æ—¥è¿›è¡Œæé†’ï¼Œè¦æ±‚åœ¨æ‰£æ¬¾è´¦æˆ·ä¸­ä¿è¯ä½™é¢å……è¶³ã€‚å¦‚æœä¸€æ¬¡æ‰£æ¬¾ä¸æˆåŠŸï¼Œé‚£ä¹ˆå°±ä¼šé¡ºå»¶åˆ°ä¸‹ä¸€æ¬¡æ‰£æ¬¾æ—¥è¿›è¡Œæ‰£æ¬¾ã€‚</p><p>ä¸€æ¬¡æ€§æŠ•å…¥å°±æ›´å®¹æ˜“ç†è§£ï¼Œå°±æ˜¯è‡ªå·±å†³å®šæŸä¸€æ—¥åœ¨æŸä¸€åªæˆ–æŸå‡ åªåŸºé‡‘äº§å“ä¸­æŠ•å…¥ä¸€å®šæ•°é¢çš„èµ„é‡‘ï¼Œè·Ÿå®šæœŸå­˜æ¬¾ä¸€æ ·ï¼Œä¹°å…¥å°±æŒåŸºé‡‘ä¸åŠ¨ï¼Œä»»ç”±å…¶å‡€å€¼çš„æ¶¨è·Œã€‚</p><h1 id="å®šæŠ•çš„å¥½å¤„"><a href="#å®šæŠ•çš„å¥½å¤„" class="headerlink" title="å®šæŠ•çš„å¥½å¤„"></a>å®šæŠ•çš„å¥½å¤„</h1><h2 id="å¯¹å¤§è„‘æ¯”è¾ƒå¥½"><a href="#å¯¹å¤§è„‘æ¯”è¾ƒå¥½" class="headerlink" title="å¯¹å¤§è„‘æ¯”è¾ƒå¥½"></a>å¯¹å¤§è„‘æ¯”è¾ƒå¥½</h2><p>å› ä¸ºå®šæŠ•ä¸éœ€è¦è¿‡åº¦é¢„æµ‹å¸‚åœºï¼Œè‡ªå·±è´¦æˆ·ä¸­è®¾ç½®çš„æ˜¯æ¯å‘¨ä¸€æ¬¡å®šæ—¶æ‰£æ¬¾ï¼Œæ‰£æ¬¾é‡‘é¢é€‰æ‹©å°ä¸€ç‚¹ï¼Œè¿™æ ·ä¸€æ¥æ¯æœˆæŠ•å…¥é‡‘é¢ä¸ä¼šä¼¤ç­‹åŠ¨éª¨ï¼Œç»æµå‹åŠ›å°ï¼›äºŒæ¥é£é™©è¢«æ—¶é—´å¹³æ»‘ï¼Œç²¾ç¥å‹åŠ›å°ã€‚åªè¦ç»æµå¤§ä½“å‘ä¸Šï¼ŒçŸ­æœŸå†…æŒ‘é€‰çš„åŸºé‡‘æ¶¨ä¸ä¸Šå»ä¼šæ˜¯ä»¶å¥½äº‹ï¼Œæˆ‘å¯ä»¥å¤šä¹°ç‚¹ä»½é¢ã€‚å¦‚æœçŸ­æœŸå†…æ¶¨ä¸Šå»äº†ï¼Œé‚£ä¹Ÿä¸è¿½åŠ ï¼Œå°±å½“çŸ­æœŸå‘ç‚¹å°è´¢ï¼Œå¿ƒé‡Œä¹ä¸€ä¹ä¹Ÿå°±ç½¢äº†ã€‚</p><h2 id="å¯¹å¿ƒè„æ¯”è¾ƒå¥½"><a href="#å¯¹å¿ƒè„æ¯”è¾ƒå¥½" class="headerlink" title="å¯¹å¿ƒè„æ¯”è¾ƒå¥½"></a>å¯¹å¿ƒè„æ¯”è¾ƒå¥½</h2><p>æŠ•èµ„ä¸­æœ€æ€•çš„å°±æ˜¯â€œè´ªå¿ƒâ€ï¼Œå¤šå°‘äººåœ¨è‚¡å¸‚é‡Œæ ½è·Ÿå¤´å°±æ˜¯å› ä¸ºâ€œå¤ªè´ªå¿ƒâ€ã€‚ç„¶è€Œï¼Œå¤§å¤šæ•°äººéƒ½å…‹æœä¸äº†è´ªå©ªï¼Œéƒ½è®¤ä¸ºè‡ªå·±å¯ä»¥çŒœåˆ°è‚¡å¸‚çš„æ¶¨è·Œï¼Œå¯ä»¥åœ¨è¿™ç§æ³¢åŠ¨ä¸­æ”¶è·é¢å¤–çš„è´¢å¯Œï¼Œç„¶è€Œç»“æœå¾€å¾€æ˜¯æŠŠå®¶ä¸­è€åº•éƒ½èµ”äº†è¿›å»ã€‚</p><p>è¿™æ—¶å®šæŠ•å°±å¯ä»¥å¸®åŠ©ä½ å…‹æœè‡ªå·±çš„è´ªå©ªï¼Œå› ä¸ºå®šæŠ•æ˜¯ä¸€ç§å¼ºåˆ¶æ€§çš„éå¸¸æœ‰çºªå¾‹æ€§çš„æŠ•èµ„æ–¹æ³•ï¼Œä¸ç”¨å»è€ƒè™‘è‚¡å¸‚çš„æ¶¨è·Œï¼Œä¸ç”¨å»çŒœæµ‹æ˜å¤©çš„èµ·ä¼ã€‚</p><h1 id="å‰ç«¯æ”¶è´¹è¿˜æ˜¯åç«¯æ”¶è´¹"><a href="#å‰ç«¯æ”¶è´¹è¿˜æ˜¯åç«¯æ”¶è´¹" class="headerlink" title="å‰ç«¯æ”¶è´¹è¿˜æ˜¯åç«¯æ”¶è´¹"></a>å‰ç«¯æ”¶è´¹è¿˜æ˜¯åç«¯æ”¶è´¹</h1><h2 id="å‰ç«¯æ”¶è´¹"><a href="#å‰ç«¯æ”¶è´¹" class="headerlink" title="å‰ç«¯æ”¶è´¹"></a>å‰ç«¯æ”¶è´¹</h2><p>æ˜¯æŒ‡åœ¨ç”³è´­åŸºé‡‘æ—¶è¿›è¡Œçš„æ”¶è´¹ï¼Œæ¯”å¦‚æˆ‘20æ—¥ç”³è´­æ²ªæ·±300æŒ‡æ•°åŸºé‡‘500å…ƒï¼Œé‚£ä¹ˆåŒæ—¶ä¹Ÿè¦æ”¯ä»˜1.5ï¼…ç”³è´­è´¹ç”¨ã€‚ç­‰ä¸‹ä¸ªæœˆ20æ—¥æˆ‘å†æ¬¡ç”³è´­æ²ªæ·±300æŒ‡æ•°åŸºé‡‘500å…ƒæ—¶ï¼Œä¾æ—§ä¹Ÿè¦æ”¯ä»˜è¿™ç¬”è´¹ç”¨ï¼Œä¾æ­¤ç±»æ¨ã€‚</p><h2 id="åç«¯æ”¶è´¹"><a href="#åç«¯æ”¶è´¹" class="headerlink" title="åç«¯æ”¶è´¹"></a>åç«¯æ”¶è´¹</h2><p>æ˜¯æŒ‡åœ¨ç”³è´­åŸºé‡‘æ—¶ä¸æ”¶è´¹ç”¨ï¼Œä½†æ˜¯åœ¨èµå›åŸºé‡‘çš„æ—¶å€™æ”¶å–è´¹ç”¨ã€‚ä½†åç«¯æ”¶è´¹çš„ä¼˜ç‚¹åœ¨äºï¼Œå¦‚æœæŒæœ‰åŸºé‡‘äº§å“è¶…è¿‡ä¸€å®šçš„å¹´é™ï¼Œæ¯”å¦‚5å¹´ï¼Œèµå›æ˜¯ä¸éœ€è¦æ”¯ä»˜è´¹ç”¨çš„ã€‚</p><p>å› æ­¤ï¼Œå‰æ®µæ”¶è´¹è¿˜æ˜¯åç«¯æ”¶è´¹ï¼Œéœ€è¦çœ‹ä¸ªäººæƒ…å†µã€‚å¦‚æœåªæ˜¯æ‰“ç®—å®šæŠ•ä¸‰å¹´å·¦å³ï¼Œå¹´é™å¹¶ä¸é•¿ï¼Œæˆ–è€…è‡ªå·±å¯¹é€‰æ‹©çš„åŸºé‡‘æ²¡æœ‰å¤ªå¤šçš„æŠŠæ¡ï¼Œå¯èƒ½åœ¨å‡ ä¸ªæœˆåæˆ–è€…ä¸€å¹´åè¿›è¡Œè°ƒæ•´ï¼Œé‚£ä¹ˆé€‰æ‹©å‰ç«¯æ”¶è´¹å°±èƒœè¿‡åç«¯æ”¶è´¹ã€‚åŒç†ï¼Œå¦‚æœå¯¹åŸºé‡‘æœ¬èº«æŒç»­çœ‹å¥½ï¼ŒåŒæ—¶ä¹Ÿæ‰“ç®—é•¿ä¹…æŒæœ‰ï¼Œé‚£ä¹ˆå¯ä»¥é€‰æ‹©åç«¯æ”¶è´¹ï¼Œæ¯•ç«Ÿ1.5ï¼…ï½3ï¼…çš„è´¹ç”¨è¿˜æ˜¯æŒºé«˜çš„ã€‚</p><h1 id="ä¹°å…¥å’Œå–å‡ºæ—¶æœºçš„æŠŠæ¡"><a href="#ä¹°å…¥å’Œå–å‡ºæ—¶æœºçš„æŠŠæ¡" class="headerlink" title="ä¹°å…¥å’Œå–å‡ºæ—¶æœºçš„æŠŠæ¡"></a>ä¹°å…¥å’Œå–å‡ºæ—¶æœºçš„æŠŠæ¡</h1><p><strong>ä¹°å…¥å’Œå–å‡ºæ—¶æœºçš„æŠŠæ¡</strong>é¢„æµ‹æ—¶æœºæ°¸è¿œä¸æ˜¯äººç±»èƒ½å¹²çš„äº‹æƒ…ï¼Œæˆ‘ä»¬åªçŸ¥é“2000ç‚¹çš„æ—¶å€™è¿›åœºï¼Œé£é™©ä¸€å®šå°äº5000ç‚¹çš„æ—¶å€™è¿›åœºã€‚</p><p>æˆ‘ä»¬éƒ½æ²¡æœ‰ä¸Šå¸ä¹‹çœ¼èƒ½å¤Ÿçœ‹åˆ°å¤§ç›˜çš„ç²¾å‡†åº•éƒ¨ï¼Œåªèƒ½çŸ¥é“ç»æµä¸æ™¯æ°”å°±åæ˜ äº†å¤§ç›˜å¤„åœ¨å†å²ä½ä½ï¼Œå°±è¿™ä¹ˆç®€å•ã€‚é‚£ä¹ˆï¼Œç°åœ¨ä¹°å°±å¾ˆå¥½ï¼Œå³ä¾¿å¤§ç›˜å†è·Œï¼Œå¯¹æˆ‘è€Œè¨€ï¼Œæ— éå°±æ˜¯ç”¨ç›¸åŒçš„èµ„é‡‘ä¹°å…¥æ›´å¤šçš„ç­¹ç ï¼Œæˆ‘ä¸éœ€è¦ä¸€å¤œè‡´å¯Œï¼Œæœ‰æ—¶é—´è€å¿ƒç­‰å¾…ã€‚</p><p>é‚£ä¹ˆå–å‡ºå‘¢ï¼Ÿæœ‰æœ‹å‹å»ºè®®å¦‚æœåŸºé‡‘æµ®ç›ˆäº†25ï¼…ï¼Œç»´æŒå®šæŠ•ï¼Œå°±å°†è·åˆ©çš„éƒ¨åˆ†äº†ç»“ï¼Œè½è¢‹ä¸ºå®‰ï¼Œå¦‚æœåŸºé‡‘æµ®äºäº†25ï¼…ï¼Œé‚£ä¹ˆå°±å¯ä»¥è€ƒè™‘æ­¢æŸç¦»åœºã€‚æˆ‘ä¸ªäººä¸ä¼šåšè¿™èˆ¬æœºæ¢°çš„æ“ä½œã€‚</p><p>åœ¨æˆ‘çœ‹æ¥ï¼Œä¹°å…¥å’Œå–å‡ºçš„é€»è¾‘å¾ˆç®€å•ï¼Œä¹°å…¥æ˜¯å› ä¸ºå¸‚åœºé£é™©å……åˆ†é‡Šæ”¾äº†ï¼Œå¤§ç›˜ç‚¹ä½å¾ˆä½ï¼Œä¹°å…¥å¾ˆåˆ’ç®—ã€‚ç­‰åˆ°å¤§ç›˜ä¸Šæ¶¨åˆ°ä¸åˆç†çš„çŠ¶æ€ï¼Œå¸‚åœºä¸Šå¼€å§‹é¢‘ç¹å‡ºæ¥å„ç§â€œå¸‚æ¢¦ç‡â€å…ˆç”Ÿæ—¶ï¼Œé‚£ä¹ˆæˆ‘å°±è·åˆ©ç¦»åœºï¼Œç»“æŸè¿™åœºæ„‰å¿«çš„æŠ•èµ„æ—…ç¨‹ã€‚æˆ‘æ— é¡»ä¸ºäº†è¿™25ï¼…çš„ä¸Šä¸‹æµ®åŠ¨è€Œçº ç»“ä¸å·²ï¼Œä¹Ÿæ— é¡»ä¸ºäº†çŒœæµ‹å¸‚åœºè¿‘ä¸‰ä¸ªæœˆï¼Œåä¸‰ä¸ªæœˆçš„è¡¨ç°è€Œæ•´æ—¥åŠ³å¿ƒåŠ³åŠ›ã€‚</p><h1 id="åˆ†æ•£æŠ•èµ„å’Œå†å¹³è¡¡"><a href="#åˆ†æ•£æŠ•èµ„å’Œå†å¹³è¡¡" class="headerlink" title="åˆ†æ•£æŠ•èµ„å’Œå†å¹³è¡¡"></a>åˆ†æ•£æŠ•èµ„å’Œå†å¹³è¡¡</h1><p>åˆ†æ•£æŠ•èµ„ï¼Œå¹¶ä¸ç­‰äºå»ä¹°ä¸€å †ä¹±ä¸ƒå…«ç³Ÿçš„åŸºé‡‘å°±æ˜¯åˆ†æ•£æŠ•èµ„ã€‚</p><p><strong>æœ€åˆç†çš„åˆ†æ•£æŠ•èµ„åº”è¯¥æ˜¯æŠ•èµ„åœ¨äº’ç›¸ä¸ç›¸å¹²çš„æŠ•èµ„å“ç§ä¸Šï¼Œæ¯”å¦‚è‚¡å¸‚ã€æˆ¿åœ°äº§ã€é»„é‡‘ç”šè‡³å¤è‘£ç­‰ã€‚</strong>å¯¹äºåŸºé‡‘é¢†åŸŸï¼Œæˆ‘ä»¬éœ€è¦å¯»æ‰¾é‚£äº›ç›¸äº’å…³è”ä¸æ˜¯ç‰¹åˆ«å¤§çš„è¯åˆ¸å“ç§ã€‚æ¯”å¦‚è‚¡ç¥¨å’Œå€ºåˆ¸æ˜¯ç‹¬ç«‹çš„ï¼Œæ¯”å¦‚å¤§ç›˜è‚¡å’Œå°ç›˜è‚¡å…³è”æ€§ä¹Ÿä¸å¤§ï¼Œä»·å€¼è‚¡å’Œæˆé•¿è‚¡å…³è”æ€§ä¹Ÿè¾ƒå°ã€‚æ‰€ä»¥é¦–å…ˆè¦ç¡®å®šè‚¡ç¥¨å’Œå€ºåˆ¸çš„æ¯”ä¾‹ï¼Œå…¶æ¬¡è‚¡ç¥¨åº”è¯¥å°½é‡åŒ…å«æˆé•¿è‚¡ã€ä»·å€¼è‚¡ã€å¤§ç›˜è‚¡å’Œå°ç›˜è‚¡ã€‚</p><p>æŒ‰ç…§è‡ªå·±çš„æŠ•èµ„å¹´é™å’Œé£é™©æŠ•èµ„èƒ½åŠ›ï¼Œåˆ¶å®šä¸€ä¸ªè‚¡ç¥¨å’Œå€ºåˆ¸çš„é…ç½®æ¯”ä¾‹ã€‚ä¸¾ä¸ªæ —å­ï¼Œæœ€å¼€å§‹çš„æ¯”ä¾‹ä¸º7ï¼š3ï¼Œä¸€å¹´ä»¥åï¼Œè‚¡ç¥¨æ¶¨å¾—å¿«äº†ï¼Œå€ºåˆ¸æ¶¨å¾—æ…¢äº†ï¼Œæ¯”ä¾‹å˜ä¸º8ï¼š2ï¼Œæ€ä¹ˆåŠï¼Ÿè¿™æ—¶å€™è¦å–æ‰è‚¡ç¥¨ï¼Œä¹°å…¥å€ºåˆ¸ã€‚å¦‚æœå†è¿‡ä¸€å¹´ï¼Œé‡åˆ°ç†Šå¸‚äº†ï¼Œè‚¡ç¥¨å¤§è·Œï¼Œæ¯”ä¾‹å˜æˆäº†6ï¼š4ï¼Œè¿™æ—¶å€™å°±è¦å–æ‰å€ºåˆ¸ï¼Œä¹°å…¥è‚¡ç¥¨ï¼Œä½¿æ¯”ä¾‹å›åˆ°7ï¼š3ï¼Œè¿™å°±æ˜¯å†å¹³è¡¡ã€‚</p><p><strong>å†å¹³è¡¡æ˜¯å¾ˆå¾®å¦™çš„äº‹æƒ…ã€‚ä»è¡¨é¢æ¥çœ‹ï¼Œä½ æ˜¯å–æ‰ä¸€ä¸ªä¸Šæ¶¨å¿«çš„ä¼˜è‰¯èµ„äº§ï¼Œä¹°å…¥ä¸€ä¸ªä¸‹è·Œæˆ–è€…è·‘å¾—æ…¢çš„ä¸è‰¯èµ„äº§ï¼Œä½†å®é™…ä¸Šè¿™æ˜¯ä¸€ä¸ªé«˜æŠ›ä½å¸çš„è¿‡ç¨‹ï¼Œæ˜¯ä¸€ç§é€šè¿‡çºªå¾‹æ€§æŠ•èµ„æ¥è¿›è¡Œå–é«˜ä¹°ä½çš„è¿‡ç¨‹ã€‚å¦å¤–ï¼Œå†å¹³è¡¡ä¹Ÿæ˜¯ä¿æŒé£é™©ç­‰çº§çš„ä¸€ä¸ªé‡è¦è¿‡ç¨‹ï¼Œæœ‰äººç”¨å†å²æ•°æ®åšè¿‡è®¡ç®—ï¼Œå†å¹³è¡¡çš„ç»¼åˆæ•ˆç›Šè¦è¿œè¿œé«˜äºä¸åšå†å¹³è¡¡çš„æ”¶ç›Šã€‚</strong></p>]]></content>
      
      
      <categories>
          
          <category> ç†è´¢ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> åŸºé‡‘ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JQueryåˆ†é¡µæ’ä»¶çš„ä½¿ç”¨</title>
      <link href="/2019/08/28/%E5%89%8D%E7%AB%AF/Jquery%E5%88%86%E9%A1%B5%E6%8F%92%E4%BB%B6%E7%9A%84%E4%BD%BF%E7%94%A8/"/>
      <url>/2019/08/28/%E5%89%8D%E7%AB%AF/Jquery%E5%88%86%E9%A1%B5%E6%8F%92%E4%BB%B6%E7%9A%84%E4%BD%BF%E7%94%A8/</url>
      
        <content type="html"><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>ç°åœ¨ç½‘ä¸Šå„ç§å„æ ·çš„åˆ†é¡µç»„ä»¶å¾ˆå¤šï¼Œä½†æ˜¯å¾ˆéš¾æ‰¾åˆ°ååˆ†â€œç§°å¿ƒå¦‚æ„â€çš„ï¼Œäºæ˜¯jqPaginatorè¯ç”Ÿäº†ã€‚</p><p>æˆ‘å¿ƒä¸­ç†æƒ³çš„åˆ†é¡µç»„ä»¶ï¼Œè¦ä¸å—CSSæ¡†æ¶é™åˆ¶ï¼Œå¯ä»¥ä½¿ç”¨åœ¨å„ç§ä¸åŒé£æ ¼ä¸­çš„ç½‘é¡µä¸­ã€‚ä»¥æˆ‘æµ…æ˜¾çš„ç»éªŒæ¥çœ‹ï¼Œè¦è¾¾åˆ°è¿™ä¸ªç›®æ ‡ï¼Œå…³é”®çš„ä¸€ç‚¹å°±æ˜¯é«˜åº¦è‡ªå®šä¹‰çš„Htmlç»“æ„ã€‚æ‰€ä»¥jqPaginatoråŠªåŠ›åšåˆ°åˆç†èŒƒå›´å†…çš„è‡ªå®šä¹‰ï¼Œä½¿å…¶çµæ´»çš„ä½¿ç”¨äº†å„ç§ä¸åŒçš„åœºæ™¯ã€‚</p><p>å®˜ç½‘<code>&lt;http://jqpaginator.keenwon.com/&gt;</code></p><h1 id="å‡†å¤‡"><a href="#å‡†å¤‡" class="headerlink" title="å‡†å¤‡"></a>å‡†å¤‡</h1><h2 id="ä¸‹è½½"><a href="#ä¸‹è½½" class="headerlink" title="ä¸‹è½½"></a>ä¸‹è½½</h2><p>ä¸‹è½½jquery,ä¸‹è½½æ’ä»¶jqpaginator,ä¸‹è½½bootstrap</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://haoyongliang.gitee.io/2019/08/28/%E5%89%8D%E7%AB%AF/Jquery%E5%88%86%E9%A1%B5%E6%8F%92%E4%BB%B6%E7%9A%84%E4%BD%BF%E7%94%A8/fenye.rar</span><br></pre></td></tr></table></figure><h2 id="å¼•å…¥JQueryã€BootStrapã€jqpaginator"><a href="#å¼•å…¥JQueryã€BootStrapã€jqpaginator" class="headerlink" title="å¼•å…¥JQueryã€BootStrapã€jqpaginator"></a>å¼•å…¥JQueryã€BootStrapã€jqpaginator</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;script src="js/jquery-3.3.1.js"&gt;&lt;/script&gt;</span><br><span class="line">&lt;script src="js/jqpaginator.min.js"&gt;&lt;/script&gt;</span><br><span class="line">&lt;link rel=<span class="string">"stylesheet"</span> href=<span class="string">"css/bootstrap.min.css"</span>&gt;</span><br></pre></td></tr></table></figure><h1 id="ç¬¬ä¸€æ­¥ã€å®šä¹‰æ˜¾ç¤ºåˆ†é¡µæ¡çš„å®¹å™¨"><a href="#ç¬¬ä¸€æ­¥ã€å®šä¹‰æ˜¾ç¤ºåˆ†é¡µæ¡çš„å®¹å™¨" class="headerlink" title="ç¬¬ä¸€æ­¥ã€å®šä¹‰æ˜¾ç¤ºåˆ†é¡µæ¡çš„å®¹å™¨"></a>ç¬¬ä¸€æ­¥ã€å®šä¹‰æ˜¾ç¤ºåˆ†é¡µæ¡çš„å®¹å™¨</h1><p>åœ¨é¡µé¢å®šä¹‰ä¸€ä¸ªæ ‡ç­¾å®¹å™¨ï¼Œè¿™ä¸ªå®¹å™¨é‡Œå°±æ˜¯æˆ‘ä»¬æœªæ¥è¦æ˜¾ç¤ºçš„åˆ†é¡µæ¡</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- åˆ†é¡µæŒ‰é’® --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"footer"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"pagination"</span> <span class="attr">id</span>=<span class="string">"pagination0"</span>&gt;</span><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><h1 id="ç¬¬äºŒæ­¥ã€åˆå§‹åŒ–åˆ†é¡µæ¡"><a href="#ç¬¬äºŒæ­¥ã€åˆå§‹åŒ–åˆ†é¡µæ¡" class="headerlink" title="ç¬¬äºŒæ­¥ã€åˆå§‹åŒ–åˆ†é¡µæ¡"></a>ç¬¬äºŒæ­¥ã€åˆå§‹åŒ–åˆ†é¡µæ¡</h1><p>åˆå§‹åŒ–åˆ†é¡µæ¡</p><p>æ€»é¡µæ•°æ’ä»¶è‡ªå·±ç®—ï¼Œä¸ç”¨ç®¡</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">$.jqPaginator(<span class="string">'#pagination0'</span>, &#123;<span class="comment">//è¿™ä¸ªé€‰æ‹©å™¨æ˜¯å®¹å™¨çš„IDï¼Œå¿…é¡»å’Œç¬¬ä¸€æ­¥çš„IDå¯¹åº”</span></span><br><span class="line">    totalCounts:<span class="number">1</span>, <span class="comment">//æ€»è®°å½•æ•°æ˜¯1,å…ˆå†™æ­»</span></span><br><span class="line">    pageSize:<span class="number">10</span>,<span class="comment">//æ¯é¡µæ˜¾ç¤º10æ¡è®°å½•</span></span><br><span class="line">    visiblePages: <span class="number">10</span>,<span class="comment">//åˆ†é¡µæ¡æ˜¾ç¤º10ä¸ªé¡µç </span></span><br><span class="line">    currentPage: <span class="number">1</span>,<span class="comment">//é»˜è®¤æ˜¯ç¬¬ä¸€é¡µ</span></span><br><span class="line">    first:<span class="string">'&lt;li class="first"&gt;&lt;a href="javascript:;"&gt;é¦–é¡µ&lt;/a&gt;&lt;/li&gt;'</span>,</span><br><span class="line">    last:<span class="string">'&lt;li class="first"&gt;&lt;a href="javascript:;"&gt;å°¾é¡µ&lt;/a&gt;&lt;/li&gt;'</span>,</span><br><span class="line">    prev : <span class="string">'&lt;li class="prev"&gt;&lt;a href="javascript:;"&gt;ä¸Šé¡µ&lt;/a&gt;&lt;/li&gt;'</span>,</span><br><span class="line">    next : <span class="string">'&lt;li class="next"&gt;&lt;a href="javascript:;"&gt;ä¸‹é¡µ&lt;/a&gt;&lt;/li&gt;'</span>,</span><br><span class="line">    page : <span class="string">'&lt;li class="page"&gt;&lt;a href="javascript:;"&gt;&#123;&#123;page&#125;&#125;&lt;/a&gt;&lt;/li&gt;'</span>,</span><br><span class="line">    onPageChange: <span class="function"><span class="keyword">function</span> (<span class="params">num, type</span>) </span>&#123;<span class="comment">//numè¡¨ç¤ºè¢«ç‚¹å‡»çš„é‚£ä¸ªé¡µç </span></span><br><span class="line">        <span class="built_in">console</span>.log(num);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h1 id="ç¬¬ä¸‰æ­¥ã€ç¼–å†™onPageChangeå‡½æ•°"><a href="#ç¬¬ä¸‰æ­¥ã€ç¼–å†™onPageChangeå‡½æ•°" class="headerlink" title="ç¬¬ä¸‰æ­¥ã€ç¼–å†™onPageChangeå‡½æ•°"></a>ç¬¬ä¸‰æ­¥ã€ç¼–å†™onPageChangeå‡½æ•°</h1><p>è¯¥å‡½æ•°åœ¨åˆ†é¡µæ¡åˆå§‹åŒ–å®Œæ¯•åä¼šè¢«æ‰§è¡Œä¸€æ¬¡ï¼Œå¹¶ä¸”num=1</p><p>ä¹‹ååœ¨æ¯æ¬¡ç‚¹å‡»é¡µç çš„æ—¶å€™éƒ½ä¼šè§¦å‘ä¸€æ¬¡</p><p>åˆ†æåå‘ç°ï¼šè¿™ä¸ªå‡½æ•°ä¸­æˆ‘ä»¬å¯ä»¥å¹²ä¸¤ä»¶äº‹</p><p>1.æŠŠå½“å‰é¡µç å’Œæ¯é¡µæ˜¾ç¤ºçš„è®°å½•ä¹¦ä»¥ajaxå½¢å¼å‘é€ç»™æœåŠ¡å™¨</p><p>2.å°†å†™æ­»çš„totalCountsé…ç½®æ›´æ–°ä¸ºçœŸå®æ•°æ®</p><p>ä»£ç å¦‚ä¸‹</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">onPageChange: <span class="function"><span class="keyword">function</span> (<span class="params">num, type</span>) </span>&#123;<span class="comment">//numè¡¨ç¤ºè¢«ç‚¹å‡»çš„é‚£ä¸ªé¡µç </span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"å½“å‰è¢«ç‚¹å‡»çš„æ˜¯ç¬¬"</span>+num+<span class="string">"é¡µ"</span>);</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">       åšä¸¤ä»¶äº‹</span></span><br><span class="line"><span class="comment">         1.æƒ³servletå‘é€è¯·æ±‚ï¼Œè¯·æ±‚å½“å‰é¡µçš„æ•°æ®</span></span><br><span class="line"><span class="comment">         2.å°†å†™æ­»çš„totalCountsä¿®æ”¹ä¸ºçœŸå®çš„æ€»è®°å½•æ•°</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">    $.<span class="keyword">get</span>("route/pageQuery",</span><br><span class="line">          &#123;</span><br><span class="line">        cid:location.search.split(<span class="string">"="</span>)[<span class="number">1</span>],</span><br><span class="line">           currentPage:num,</span><br><span class="line">           pageSize:<span class="number">10</span></span><br><span class="line">      &#125;,<span class="function"><span class="keyword">function</span> (<span class="params">pageBean</span>) </span>&#123;</span><br><span class="line">        <span class="comment">//ç”¨çœŸå®è®°å½•æ•°æ›¿æ¢åŸæœ‰å†™æ­»çš„è®°å½•æ•°</span></span><br><span class="line">        $(<span class="string">'#pagination0'</span>).jqPaginator(<span class="string">'option'</span>, &#123;</span><br><span class="line">            totalCounts: pageBean.totalCount</span><br><span class="line">           &#125;</span><br><span class="line"> );</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="å®Œæ•´ä»£ç "><a href="#å®Œæ•´ä»£ç " class="headerlink" title="å®Œæ•´ä»£ç "></a>å®Œæ•´ä»£ç </h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            $.jqPaginator(<span class="string">'#pagination0'</span>, &#123;<span class="comment">//è¿™ä¸ªé€‰æ‹©å™¨æ˜¯å®¹å™¨çš„ID</span></span><br><span class="line">                totalCounts:<span class="number">100</span>, <span class="comment">//æ€»è®°å½•æ•°æ˜¯1</span></span><br><span class="line">                pageSize:<span class="number">10</span>,<span class="comment">//æ¯é¡µæ˜¾ç¤º10æ¡è®°å½•</span></span><br><span class="line">                visiblePages: <span class="number">10</span>,<span class="comment">//åˆ†é¡µæ¡æ˜¾ç¤º10ä¸ªé¡µç </span></span><br><span class="line">                currentPage: <span class="number">1</span>,<span class="comment">//é»˜è®¤æ˜¯ç¬¬ä¸€é¡µ</span></span><br><span class="line">                first:<span class="string">'&lt;li class="first"&gt;&lt;a href="javascript:;"&gt;é¦–é¡µ&lt;/a&gt;&lt;/li&gt;'</span>,</span><br><span class="line">                last:<span class="string">'&lt;li class="first"&gt;&lt;a href="javascript:;"&gt;å°¾é¡µ&lt;/a&gt;&lt;/li&gt;'</span>,</span><br><span class="line">                prev : <span class="string">'&lt;li class="prev"&gt;&lt;a href="javascript:;"&gt;ä¸Šé¡µ&lt;/a&gt;&lt;/li&gt;'</span>,</span><br><span class="line">                next : <span class="string">'&lt;li class="next"&gt;&lt;a href="javascript:;"&gt;ä¸‹é¡µ&lt;/a&gt;&lt;/li&gt;'</span>,</span><br><span class="line">                page : <span class="string">'&lt;li class="page"&gt;&lt;a href="javascript:;"&gt;&#123;&#123;page&#125;&#125;&lt;/a&gt;&lt;/li&gt;'</span>,</span><br><span class="line">                onPageChange: <span class="function"><span class="keyword">function</span> (<span class="params">num, type</span>) </span>&#123;<span class="comment">//numè¡¨ç¤ºè¢«ç‚¹å‡»çš„é‚£ä¸ªé¡µç </span></span><br><span class="line">                    <span class="built_in">console</span>.log(<span class="string">"å½“å‰è¢«ç‚¹å‡»çš„æ˜¯ç¬¬"</span>+num+<span class="string">"é¡µ"</span>);</span><br><span class="line">                    search(num);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;);</span><br><span class="line"></span><br><span class="line">            <span class="comment">/**</span></span><br><span class="line"><span class="comment">             * åšä¸¤ä»¶äº‹</span></span><br><span class="line"><span class="comment">             *  1.æƒ³servletå‘é€è¯·æ±‚ï¼Œè¯·æ±‚å½“å‰é¡µçš„æ•°æ®</span></span><br><span class="line"><span class="comment">             *  2.å°†å†™æ­»çš„totalCountsä¿®æ”¹ä¸ºçœŸå®çš„æ€»è®°å½•æ•°</span></span><br><span class="line"><span class="comment">             * @param num å½“å‰æ­£åœ¨è¢«ç‚¹å‡»çš„é¡µç </span></span><br><span class="line"><span class="comment">             */</span></span><br><span class="line">            <span class="function"><span class="keyword">function</span> <span class="title">search</span>(<span class="params">num</span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">                $.<span class="keyword">get</span>("route/pageQuery",</span><br><span class="line">                    &#123;</span><br><span class="line">                        cid:location.search.split(<span class="string">"="</span>)[<span class="number">1</span>],</span><br><span class="line">                        currentPage:num,</span><br><span class="line">                        pageSize:<span class="number">10</span></span><br><span class="line">                    &#125;,<span class="function"><span class="keyword">function</span> (<span class="params">pageBean</span>) </span>&#123;</span><br><span class="line">                    $(<span class="string">'#pagination0'</span>).jqPaginator(<span class="string">'option'</span>, &#123;</span><br><span class="line">                        totalCounts: pageBean.totalCount</span><br><span class="line">                    &#125;);</span><br><span class="line">                &#125;);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;)</span><br></pre></td></tr></table></figure><h1 id="åç«¯"><a href="#åç«¯" class="headerlink" title="åç«¯"></a>åç«¯</h1><p>åç«¯åªéœ€è¦è¿”å›æ€»è®°å½•æ•°countså’ŒæŸ¥è¯¢ç»“æœlistså³å¯</p><p>åç«¯éœ€è¦æ¥å—çš„æ•°æ®:currentPage,pageSize,æŸ¥è¯¢æ¡ä»¶</p>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> jquery </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åˆå§‹åŒ–Centoséƒ¨ç½²ç¯å¢ƒ</title>
      <link href="/2019/08/28/linux/%E5%88%9D%E5%A7%8B%E5%8C%96Centos%E9%83%A8%E7%BD%B2%E7%8E%AF%E5%A2%83/"/>
      <url>/2019/08/28/linux/%E5%88%9D%E5%A7%8B%E5%8C%96Centos%E9%83%A8%E7%BD%B2%E7%8E%AF%E5%A2%83/</url>
      
        <content type="html"><![CDATA[<h1 id="åºè¨€"><a href="#åºè¨€" class="headerlink" title="åºè¨€"></a>åºè¨€</h1><p>ä¸ºäº†å‡å°‘åœ¨æœåŠ¡å™¨ä¸Šå®‰è£…è½¯ä»¶å‡ºç°æ›´å¤šçš„é—®é¢˜ï¼Œå»ºè®®æŒ‰ç…§ä¸‹é¢æ­¥éª¤åˆå§‹åŒ–æœåŠ¡å™¨ç¯å¢ƒ</p><h1 id="å®‰è£…gcc-gcc-c"><a href="#å®‰è£…gcc-gcc-c" class="headerlink" title="å®‰è£…gcc gcc-c++"></a>å®‰è£…gcc gcc-c++</h1><blockquote><p>å¦‚æ–°ç¯å¢ƒ,æœªå®‰è£…è¯·å…ˆå®‰è£…</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> yum install -y gcc gcc-c++</span><br></pre></td></tr></table></figure><h1 id="å®‰è£…wget"><a href="#å®‰è£…wget" class="headerlink" title="å®‰è£…wget"></a>å®‰è£…wget</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> yum -y install wget</span><br></pre></td></tr></table></figure><h1 id="å®‰è£…PCREåº“"><a href="#å®‰è£…PCREåº“" class="headerlink" title="å®‰è£…PCREåº“"></a>å®‰è£…PCREåº“</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> cd /usr/local/</span><br><span class="line"><span class="meta">$</span> wget http://jaist.dl.sourceforge.net/project/pcre/pcre/8.33/pcre-8.33.tar.gz</span><br><span class="line"><span class="meta">$</span> tar -zxvf pcre-8.33.tar.gz</span><br><span class="line"><span class="meta">$</span> cd pcre-8.33</span><br><span class="line"><span class="meta">$</span> ./configure</span><br><span class="line"><span class="meta">$</span> make &amp;&amp; make install</span><br></pre></td></tr></table></figure><h1 id="å®‰è£…SSLåº“"><a href="#å®‰è£…SSLåº“" class="headerlink" title="å®‰è£…SSLåº“"></a>å®‰è£…SSLåº“</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> cd /usr/local/</span><br><span class="line"><span class="meta">$</span> wget http://www.openssl.org/source/openssl-1.0.1j.tar.gz</span><br><span class="line"><span class="meta">$</span> tar -zxvf openssl-1.0.1j.tar.gz</span><br><span class="line"><span class="meta">$</span> cd openssl-1.0.1j</span><br><span class="line"><span class="meta">$</span> ./config</span><br><span class="line"><span class="meta">$</span> make &amp;&amp; make install</span><br></pre></td></tr></table></figure><h1 id="å®‰è£…zlibåº“å­˜"><a href="#å®‰è£…zlibåº“å­˜" class="headerlink" title="å®‰è£…zlibåº“å­˜"></a>å®‰è£…zlibåº“å­˜</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> cd /usr/local/</span><br><span class="line"><span class="meta">$</span> wget http://zlib.net/zlib-1.2.11.tar.gz</span><br><span class="line"><span class="meta">$</span> tar -zxvf zlib-1.2.11.tar.gz</span><br><span class="line"><span class="meta">$</span> ./configure</span><br><span class="line"><span class="meta">$</span> make &amp;&amp; make install</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Centos7 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å…³é—­Centos7çš„é˜²ç«å¢™</title>
      <link href="/2019/08/28/linux/%E5%85%B3%E9%97%ADCentos7%E7%9A%84%E9%98%B2%E7%81%AB%E5%A2%99/"/>
      <url>/2019/08/28/linux/%E5%85%B3%E9%97%ADCentos7%E7%9A%84%E9%98%B2%E7%81%AB%E5%A2%99/</url>
      
        <content type="html"><![CDATA[<h1 id="ä¸´æ—¶å…³é—­"><a href="#ä¸´æ—¶å…³é—­" class="headerlink" title="ä¸´æ—¶å…³é—­"></a>ä¸´æ—¶å…³é—­</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl stop firewalld</span><br></pre></td></tr></table></figure><h1 id="æ°¸ä¹…å…³é—­-ç¦æ­¢å¼€æœºå¯åŠ¨"><a href="#æ°¸ä¹…å…³é—­-ç¦æ­¢å¼€æœºå¯åŠ¨" class="headerlink" title="æ°¸ä¹…å…³é—­[ç¦æ­¢å¼€æœºå¯åŠ¨]"></a>æ°¸ä¹…å…³é—­[ç¦æ­¢å¼€æœºå¯åŠ¨]</h1><p>ä¸´æ—¶å…³é—­é˜²ç«å¢™ååœ¨é‡å¯ç³»ç»Ÿåå°±åˆä¼šå¯åŠ¨é˜²ç«å¢™ï¼Œä¸‹é¢æ˜¯æ°¸ä¹…å…³é—­é˜²ç«å¢™çš„å‘½ä»¤</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">systemctl disable firewalld</span><br><span class="line"></span><br><span class="line">Removed symlink /etc/systemd/system/multi-user.target.wants/firewalld.service.</span><br><span class="line"></span><br><span class="line">Removed symlink /etc/systemd/system/dbus-org.fedoraproject.FirewallD1.service.</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Centos7 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>mavenä¾èµ–æŠ¥é”™è§£å†³æ–¹æ¡ˆ</title>
      <link href="/2019/08/27/%E9%97%AE%E9%A2%98/maven%E4%BE%9D%E8%B5%96%E6%8A%A5%E9%94%99%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/"/>
      <url>/2019/08/27/%E9%97%AE%E9%A2%98/maven%E4%BE%9D%E8%B5%96%E6%8A%A5%E9%94%99%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/</url>
      
        <content type="html"><![CDATA[<h1 id="é—®é¢˜æè¿°"><a href="#é—®é¢˜æè¿°" class="headerlink" title="é—®é¢˜æè¿°"></a>é—®é¢˜æè¿°</h1><p>å¼€å‘ä¸­ç»å¸¸é‡åˆ°pomæ–‡ä»¶ä¾èµ–æŠ¥çº¢çš„é—®é¢˜ï¼Œä¸‹é¢æä¾›äº†å‡ ç§è§£å†³æ–¹æ¡ˆ</p><p><img src="//haoyongliang.gitee.io/2019/08/27/é—®é¢˜/mavenä¾èµ–æŠ¥é”™è§£å†³æ–¹æ¡ˆ/1.png" alt></p><h1 id="è§£å†³æ–¹æ¡ˆ"><a href="#è§£å†³æ–¹æ¡ˆ" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h1><p>1.æ£€æŸ¥ä¾èµ–æ˜¯å¦å•è¯æ‹¼å†™é”™è¯¯</p><p>2.å…ˆåˆ é™¤å…¨éƒ¨pomä¸­çˆ†çº¢çš„ä¾èµ–ï¼Œç„¶åå†ä¸€ä¸ªä¸€ä¸ªç²˜è´´è¿›å»ï¼Œå®šä½çœŸæ­£äº§ç”Ÿé—®é¢˜çš„ä¾èµ–</p><p>3.æ‰¾åˆ°æœ¬åœ°mavenä»“åº“ï¼Œä»mavenä»“åº“ä¸­åˆ é™¤å¯¹åº”çš„jaråŒ…å’Œç›®å½•ï¼Œé‡æ–°ä¸‹è½½</p><p>4.å¦‚æœä¸‹è½½ä¸å›æ¥ï¼Œæ£€æŸ¥è¿œç¨‹ä»“åº“æ˜¯å¦æœ‰å¯¹åº”çš„ä¾èµ–ï¼Œæ‰“å¼€mavenå®‰è£…ç›®å½•ä¸‹çš„settings.xmlæ–‡ä»¶ï¼Œæ‰¾åˆ°mirrorsæ ‡ç­¾ï¼ŒæŸ¥çœ‹ç”¨åˆ°äº†è¿œç¨‹ä»“åº“åœ°å€ï¼Œæ‰“å¼€ä»“åº“ï¼ŒæŸ¥è¯¢æ˜¯å¦æœ‰å¯¹åº”çš„ä¾èµ–ï¼Œå¦‚æœæ²¡æœ‰æ¢ä¸ªä¾èµ–ç‰ˆæœ¬å³å¯ã€‚</p><p>5.å¦‚æœç»å¸¸å‡ºç°è¿™é—®é¢˜æ›´æ¢mavenï¼Œé‡æ–°å®‰è£…mavenï¼Œå¹¶ä¸”å°†ä¹‹å‰å·²æœ‰çš„ä»“åº“åˆ æ‰ï¼Œé‡æ–°ä¸‹è½½ä¾èµ–</p><h1 id="å…¶ä»–é—®é¢˜"><a href="#å…¶ä»–é—®é¢˜" class="headerlink" title="å…¶ä»–é—®é¢˜"></a>å…¶ä»–é—®é¢˜</h1><p><img src="//haoyongliang.gitee.io/2019/08/27/é—®é¢˜/mavenä¾èµ–æŠ¥é”™è§£å†³æ–¹æ¡ˆ/2.png" alt></p><p><img src="//haoyongliang.gitee.io/2019/08/27/é—®é¢˜/mavenä¾èµ–æŠ¥é”™è§£å†³æ–¹æ¡ˆ/3.png" alt></p>]]></content>
      
      
      <categories>
          
          <category> maven </category>
          
      </categories>
      
      
        <tags>
            
            <tag> maven </tag>
            
            <tag> å¼€å‘ä¸­é‡åˆ°çš„é—®é¢˜ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¸¸è§çš„MAVENä¾èµ–</title>
      <link href="/2019/08/27/maven/%E5%B8%B8%E8%A7%81%E7%9A%84maven%E4%BE%9D%E8%B5%96/"/>
      <url>/2019/08/27/maven/%E5%B8%B8%E8%A7%81%E7%9A%84maven%E4%BE%9D%E8%B5%96/</url>
      
        <content type="html"><![CDATA[<h1 id="æ’ä»¶"><a href="#æ’ä»¶" class="headerlink" title="æ’ä»¶"></a>æ’ä»¶</h1><h2 id="JDKç¼–è¯‘æ’ä»¶"><a href="#JDKç¼–è¯‘æ’ä»¶" class="headerlink" title="JDKç¼–è¯‘æ’ä»¶"></a>JDKç¼–è¯‘æ’ä»¶</h2><p>å¦‚æœä¸é…ç½®è¯¥æ’ä»¶ï¼Œé‚£ä¹ˆIDEAåœ¨è¿›è¡Œé¡¹ç›®ç¼–è¯‘çš„æ—¶å€™ä¼šè‡ªåŠ¨å°†ç¼–è¯‘è¯­æ³•é™åˆ°1.5</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--jdkç¼–è¯‘æ’ä»¶--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-compiler-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">source</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">source</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">target</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">target</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">encoding</span>&gt;</span>utf-8<span class="tag">&lt;/<span class="name">encoding</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="Tomcat"><a href="#Tomcat" class="headerlink" title="Tomcat"></a>Tomcat</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--tomcatæ’ä»¶--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.tomcat.maven<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- tomcat7çš„æ’ä»¶ï¼Œ ä¸åŒtomcatç‰ˆæœ¬è¿™ä¸ªä¹Ÿä¸ä¸€æ · --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>tomcat7-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- é€šè¿‡maven tomcat7:runè¿è¡Œé¡¹ç›®æ—¶ï¼Œè®¿é—®é¡¹ç›®çš„ç«¯å£å· --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">port</span>&gt;</span>80<span class="tag">&lt;/<span class="name">port</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- é¡¹ç›®è™šæ‹Ÿè·¯å¾„  å¦‚æœé…ç½®çš„aaï¼Œ åˆ™è®¿é—®è·¯å¾„ä¸ºlocalhost:8080/aa--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">path</span>&gt;</span>/aa<span class="tag">&lt;/<span class="name">path</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br></pre></td></tr></table></figure><h1 id="ä¾èµ–"><a href="#ä¾èµ–" class="headerlink" title="ä¾èµ–"></a>ä¾èµ–</h1><h2 id="Junit"><a href="#Junit" class="headerlink" title="Junit"></a>Junit</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--junit--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.12<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="Servlet"><a href="#Servlet" class="headerlink" title="Servlet"></a>Servlet</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--servlet--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.servlet<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>javax.servlet-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.0.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>provided<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.servlet.jsp<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>javax.servlet.jsp-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.2.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>provided<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>jstl<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jstl<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="MySql"><a href="#MySql" class="headerlink" title="MySql"></a>MySql</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--mysqlé©±åŠ¨--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.1.26<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>compile<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="Druidè¿æ¥æ± "><a href="#Druidè¿æ¥æ± " class="headerlink" title="Druidè¿æ¥æ± "></a>Druidè¿æ¥æ± </h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--druidè¿æ¥æ± --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>druid<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0.9<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="C3P0è¿æ¥æ± "><a href="#C3P0è¿æ¥æ± " class="headerlink" title="C3P0è¿æ¥æ± "></a>C3P0è¿æ¥æ± </h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--c3p0è¿æ¥æ± --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>c3p0<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>c3p0<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>0.9.1.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="Druidè¿æ¥æ± -1"><a href="#Druidè¿æ¥æ± -1" class="headerlink" title="Druidè¿æ¥æ± "></a>Druidè¿æ¥æ± </h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--druidè¿æ¥æ± --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>druid<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.1.10<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="JdbcTemplate"><a href="#JdbcTemplate" class="headerlink" title="JdbcTemplate"></a>JdbcTemplate</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--jdbcTemplate--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-jdbc<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.1.2.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>compile<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="BeanUtils"><a href="#BeanUtils" class="headerlink" title="BeanUtils"></a>BeanUtils</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--beanUtils--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>commons-beanutils<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>commons-beanutils<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.9.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">scope</span>&gt;</span>compile<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="Jackson"><a href="#Jackson" class="headerlink" title="Jackson"></a>Jackson</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--jackson--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.fasterxml.jackson.core<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jackson-core<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.9.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.fasterxml.jackson.core<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jackson-databind<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.9.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.fasterxml.jackson.core<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jackson-annotations<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.9.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="Javamail"><a href="#Javamail" class="headerlink" title="Javamail"></a>Javamail</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--Javamail--&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.mail<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>javax.mail-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.5.6<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.sun.mail<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>javax.mail<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.5.3<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="Jedis"><a href="#Jedis" class="headerlink" title="Jedis"></a>Jedis</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--Jedis--&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>redis.clients<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jedis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.7.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="æ–‡ä»¶ä¸Šä¼ "><a href="#æ–‡ä»¶ä¸Šä¼ " class="headerlink" title="æ–‡ä»¶ä¸Šä¼ "></a>æ–‡ä»¶ä¸Šä¼ </h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--æ–‡ä»¶ä¸Šä¼ --&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>commons-fileupload<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>commons-fileupload<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.3.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>commons-io<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>commons-io<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.3<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="æ—¥å¿—"><a href="#æ—¥å¿—" class="headerlink" title="æ—¥å¿—"></a>æ—¥å¿—</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--æ—¥å¿—--&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>commons-logging<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>commons-logging<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.slf4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>slf4j-log4j12<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.7.7<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>log4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>log4j<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2.17<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="Lombok"><a href="#Lombok" class="headerlink" title="Lombok"></a>Lombok</h2><p>å¯èƒ½1.18.4å¯èƒ½ä¼šæœ‰å‘ï¼Œéœ€è¦é™çº§æˆ–è€…å‡çº§,å¯ä»¥ä½¿ç”¨1.16.6</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--Lombok--&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.projectlombok<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>lombok<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.18.4<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="Springæ ¸å¿ƒ"><a href="#Springæ ¸å¿ƒ" class="headerlink" title="Springæ ¸å¿ƒ"></a>Springæ ¸å¿ƒ</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--Springæ ¸å¿ƒ--&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-context<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.0.5.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="Springé›†æˆJunitæµ‹è¯•"><a href="#Springé›†æˆJunitæµ‹è¯•" class="headerlink" title="Springé›†æˆJunitæµ‹è¯•"></a>Springé›†æˆJunitæµ‹è¯•</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--Springé›†æˆJunitæµ‹è¯•--&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-test<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.0.5.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="Springåˆ‡é¢"><a href="#Springåˆ‡é¢" class="headerlink" title="Springåˆ‡é¢"></a>Springåˆ‡é¢</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--Springé›†æˆAspectåˆ‡é¢--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.aspectj<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>aspectjweaver<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.8.4<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="Springäº‹ç‰©"><a href="#Springäº‹ç‰©" class="headerlink" title="Springäº‹ç‰©"></a>Springäº‹ç‰©</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-tx<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.0.5.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="SpringMVCæ ¸å¿ƒ"><a href="#SpringMVCæ ¸å¿ƒ" class="headerlink" title="SpringMVCæ ¸å¿ƒ"></a>SpringMVCæ ¸å¿ƒ</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.0.5.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-webmvc<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.0.5.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> maven </category>
          
      </categories>
      
      
        <tags>
            
            <tag> maven </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>springMVCæ‹¦æˆªå™¨æ‹¦æˆªé™æ€èµ„æºé—®é¢˜</title>
      <link href="/2019/08/27/%E9%97%AE%E9%A2%98/springMVC%E6%8B%A6%E6%88%AA%E5%99%A8%E6%8B%A6%E6%88%AA%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90%E9%97%AE%E9%A2%98/"/>
      <url>/2019/08/27/%E9%97%AE%E9%A2%98/springMVC%E6%8B%A6%E6%88%AA%E5%99%A8%E6%8B%A6%E6%88%AA%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90%E9%97%AE%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<h1 id="é—®é¢˜æè¿°"><a href="#é—®é¢˜æè¿°" class="headerlink" title="é—®é¢˜æè¿°"></a>é—®é¢˜æè¿°</h1><p>1.åœ¨springmvcæ¡†æ¶ä¸­å¼€æ”¾äº†é™æ€èµ„æºè®¿é—®æƒé™,å¦‚ä¸‹å›¾</p><p><img src="//haoyongliang.gitee.io/2019/08/27/é—®é¢˜/springMVCæ‹¦æˆªå™¨æ‹¦æˆªé™æ€èµ„æºé—®é¢˜/4.png" alt></p><p>2.é…ç½®äº†æ‹¦æˆªå™¨ï¼Œå¦‚ä¸‹å›¾</p><p><img src="//haoyongliang.gitee.io/2019/08/27/é—®é¢˜/springMVCæ‹¦æˆªå™¨æ‹¦æˆªé™æ€èµ„æºé—®é¢˜/5.png" alt></p><p>3.é¡¹ç›®ä¸­çš„DispatcherServletçš„url-patternçš„å€¼æ˜¯/</p><p><img src="//haoyongliang.gitee.io/2019/08/27/é—®é¢˜/springMVCæ‹¦æˆªå™¨æ‹¦æˆªé™æ€èµ„æºé—®é¢˜/3.png" alt></p><p>ä»¥ä¸Š3ç‚¹éƒ½æ»¡è¶³å¯èƒ½ä¼šé€ æˆé™æ€èµ„æºè¢«æ‹¦æˆªæ— æ³•è®¿é—®çš„æƒ…å†µ</p><h1 id="è§£å†³åŠæ³•"><a href="#è§£å†³åŠæ³•" class="headerlink" title="è§£å†³åŠæ³•"></a>è§£å†³åŠæ³•</h1><p>è®©tomcaté»˜è®¤çš„servletå¤„ç†é™æ€èµ„æº(é»˜è®¤servletåœ¨tomcat/config/web.xmlä¸­ï¼Œå¦‚ä¸‹å›¾)</p><p><img src="//haoyongliang.gitee.io/2019/08/27/é—®é¢˜/springMVCæ‹¦æˆªå™¨æ‹¦æˆªé™æ€èµ„æºé—®é¢˜/1.png" alt></p><p>åªéœ€è¦åœ¨é¡¹ç›®çš„web.xmlä¸­ä¸ºdefault è¿™ä¸ªservletæŒ‡å®šæ˜ å°„åœ°å€å°±å¯ä»¥,ä¸‹é¢çš„é…ç½®çš„æ„æ€æ˜¯å¦‚æœè¯·æ±‚åç¼€æ˜¯.jsæˆ–è€…ä»¥/assests/å¼€å¤´çš„èµ„æºå°±ä¼šäº¤ç»™tomcaté»˜è®¤servletå¤„ç†</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>default<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>*.js<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>*.css<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/assets/*"<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/images/*<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure><h1 id="æ³¨æ„äº‹é¡¹"><a href="#æ³¨æ„äº‹é¡¹" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h1><p>ä»¥ä¸Šé…ç½®è¦é…ç½®åœ¨springMVCçš„servletçš„ä¸Šé¢</p><p><img src="//haoyongliang.gitee.io/2019/08/27/é—®é¢˜/springMVCæ‹¦æˆªå™¨æ‹¦æˆªé™æ€èµ„æºé—®é¢˜/2.png" alt></p><p>å…¶å®è¿˜æœ‰å…¶ä»–è§£å†³åŠæ³•ï¼Œä½†æ˜¯æ¨èè¿™ä¸€ç§ï¼Œå…¶ä»–çš„æœ¬æ–‡ä¸åšè¯¦è§£ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> å¼€å‘ä¸­é‡åˆ°çš„é—®é¢˜ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> springmvc </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä¿®æ”¹mavené»˜è®¤ä»“åº“</title>
      <link href="/2019/08/26/maven/%E4%BF%AE%E6%94%B9maven%E9%BB%98%E8%AE%A4%E4%BB%93%E5%BA%93/"/>
      <url>/2019/08/26/maven/%E4%BF%AE%E6%94%B9maven%E9%BB%98%E8%AE%A4%E4%BB%93%E5%BA%93/</url>
      
        <content type="html"><![CDATA[<blockquote><p>mavenä»é»˜è®¤ä»“åº“ä¸‹è½½ä¾èµ–é€Ÿåº¦å¾ˆæ…¢ï¼Œè¿™é‡Œæˆ‘ç­›é€‰äº†å‡ ä¸ªæ¯”è¾ƒå¿«çš„ä»“åº“æ›¿æ¢é»˜è®¤ä»“åº“ï¼Œï¼Œå› ä¸ºæœ‰å¯èƒ½ä»“åº“ä¸­çš„ä¾èµ–ä¸å…¨ï¼Œæ‰€ä»¥æœ€å¥½å¤šé…ç½®å‡ ä¸ªä»“åº“ã€‚</p></blockquote><h1 id="1-ç¬¬ä¸€æ­¥"><a href="#1-ç¬¬ä¸€æ­¥" class="headerlink" title="1.ç¬¬ä¸€æ­¥"></a>1.ç¬¬ä¸€æ­¥</h1><p>æ‰“å¼€maven_home/conf/settings.xmlæ–‡ä»¶ï¼Œæ‰¾åˆ°mirrorsæ ‡ç­¾ï¼Œå¦‚ä¸‹å›¾</p><p><img src="//haoyongliang.gitee.io/2019/08/26/maven/ä¿®æ”¹mavené»˜è®¤ä»“åº“/1.png" alt="1"></p><h1 id="2-ç¬¬äºŒæ­¥"><a href="#2-ç¬¬äºŒæ­¥" class="headerlink" title="2.ç¬¬äºŒæ­¥"></a>2.ç¬¬äºŒæ­¥</h1><p>æ’å…¥ä»“åº“å†…å®¹ï¼Œæœ€ç»ˆæ•ˆæœå¦‚ä¸‹å›¾</p><p><img src="//haoyongliang.gitee.io/2019/08/26/maven/ä¿®æ”¹mavené»˜è®¤ä»“åº“/2.png" alt></p><p>ä»“åº“åœ°å€</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">mirrors</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- é˜¿é‡Œäº‘é•œåƒ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mirror</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">id</span>&gt;</span>nexus-aliyun<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">name</span>&gt;</span>Nexus aliyun<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">url</span>&gt;</span>http://maven.aliyun.com/nexus/content/groups/public/<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mirrorOf</span>&gt;</span>central<span class="tag">&lt;/<span class="name">mirrorOf</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mirror</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- mavenå®˜æ–¹2å·é•œåƒ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mirror</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">id</span>&gt;</span>repo2<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">name</span>&gt;</span>Mirror from Maven Repo2<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">url</span>&gt;</span>http://repo2.maven.org/maven2/<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mirrorOf</span>&gt;</span>central<span class="tag">&lt;/<span class="name">mirrorOf</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mirror</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- mavençš„UKé•œåƒ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mirror</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">id</span>&gt;</span>ui<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">name</span>&gt;</span>Mirror from UK<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">url</span>&gt;</span>http://uk.maven.org/maven2/<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mirrorOf</span>&gt;</span>central<span class="tag">&lt;/<span class="name">mirrorOf</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mirror</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- mavençš„UKé•œåƒ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mirror</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">id</span>&gt;</span>jboss-public-repository-group<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mirrorOf</span>&gt;</span>central<span class="tag">&lt;/<span class="name">mirrorOf</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">name</span>&gt;</span>JBoss Public Repository Group<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">url</span>&gt;</span>http://repository.jboss.org/nexus/content/groups/public<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mirror</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mirrors</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> maven </category>
          
      </categories>
      
      
        <tags>
            
            <tag> maven </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>IDEAä¸æ˜¾ç¤ºé…ç½®å¥½çš„MAVENæ’ä»¶</title>
      <link href="/2019/08/12/%E9%97%AE%E9%A2%98/maven%E4%B8%8D%E6%98%BE%E7%A4%BA%E6%8F%92%E4%BB%B6/"/>
      <url>/2019/08/12/%E9%97%AE%E9%A2%98/maven%E4%B8%8D%E6%98%BE%E7%A4%BA%E6%8F%92%E4%BB%B6/</url>
      
        <content type="html"><![CDATA[<h1 id="é—®é¢˜æè¿°"><a href="#é—®é¢˜æè¿°" class="headerlink" title="é—®é¢˜æè¿°"></a>é—®é¢˜æè¿°</h1><p>åœ¨ideaä¸­ï¼Œå·¦ä¾§POMæ–‡ä»¶ä¸­é…ç½®çš„TOMCATæ’ä»¶,ä½†æ˜¯å³ä¾§pluginså¹¶æ²¡æœ‰æ˜¾ç¤ºå‡ºæ¥</p><p><img src="//haoyongliang.gitee.io/2019/08/12/é—®é¢˜/mavenä¸æ˜¾ç¤ºæ’ä»¶/01.png" alt></p><h1 id="åŸå› åˆ†æ"><a href="#åŸå› åˆ†æ" class="headerlink" title="åŸå› åˆ†æ"></a>åŸå› åˆ†æ</h1><p>pluginmanagementæ ‡ç­¾ä¸€èˆ¬ç”¨åœ¨çˆ¶pomä¸­ï¼Œå­å…ƒç´ å¯ä»¥åŒ…å«<strong>plugins</strong>æ’ä»¶ï¼Œæ¯”å¦‚</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">pluginManagement</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-source-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">attach</span>&gt;</span>true<span class="tag">&lt;/<span class="name">attach</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">executions</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">execution</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">phase</span>&gt;</span>compile<span class="tag">&lt;/<span class="name">phase</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">goals</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">goal</span>&gt;</span>jar<span class="tag">&lt;/<span class="name">goal</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">goals</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">execution</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">executions</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">pluginManagement</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ç„¶åï¼Œåœ¨å­pomæ–‡ä»¶ä¸­å°±å¯ä»¥è¿™æ ·ä½¿ç”¨</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-source-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br></pre></td></tr></table></figure><p>çœå»äº†ç‰ˆæœ¬ã€é…ç½®ç­‰ä¿¡æ¯ï¼Œåªéœ€æŒ‡å®šgroupIdå’ŒartifactIdå³å¯ã€‚</p><p>ä½†æ˜¯åœ¨çˆ¶pomä¸­ï¼Œå¦‚æœä½¿ç”¨è¿™ä¸ªæ ‡ç­¾æ¥åŒ…è£¹<strong>plugins</strong>æ’ä»¶ï¼Œå½“åœ¨æ­¤é¡¹ç›®æ ¹ç›®å½•è¿è¡Œå¯¹åº”çš„mvnå‘½ä»¤æ—¶ï¼Œå¦‚æœåœ¨å­pomä¸­æ²¡æœ‰ç›´æ¥åƒä¸Šé¢å†æ¬¡å¼•ç”¨è¿™ä¸ªpluginï¼Œé‚£ä¹ˆä¸ä¼šè§¦å‘è¿™ä¸ªpluginæ’ä»¶ï¼Œåªæœ‰åœ¨å­pomä¸­å†æ¬¡å¼•ç”¨äº†ä¹‹åï¼Œæ‰ä¼šåœ¨å¯¹åº”çš„å­é¡¹ç›®è·¯å¾„ä¸‹è§¦å‘è¿™ä¸ªplugin.</p><h1 id="è§£å†³åŠæ³•"><a href="#è§£å†³åŠæ³•" class="headerlink" title="è§£å†³åŠæ³•"></a>è§£å†³åŠæ³•</h1><p>åˆ é™¤pluginManagementæ ‡ç­¾</p><h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p><strong>pluginManagement</strong>ä¸»è¦æ˜¯ä¸ºäº†ç»Ÿä¸€ç®¡ç†æ’ä»¶ï¼Œç¡®ä¿æ‰€æœ‰å­<strong>POM</strong>ä½¿ç”¨çš„æ’ä»¶ç‰ˆæœ¬ä¿æŒä¸€è‡´</p><p><strong>plugins</strong>å°±æ˜¯ç›´æ¥å¼•å…¥ä¸€ä¸ª<strong>plugin</strong>ï¼Œè€Œä¸”å¯ä»¥ç»‘å®šåˆ°Mavenç›¸å…³çš„ç”Ÿå‘½å‘¨æœŸä¸Šã€‚</p>]]></content>
      
      
      <categories>
          
          <category> å¼€å‘ä¸­é‡åˆ°çš„é—®é¢˜ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> IDEA </tag>
            
            <tag> MAVEN </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>IDEAä¸­å…³äºTOMCATçš„çƒ­éƒ¨ç½²ç›¸å…³çš„ä¸¤ä¸ªé…ç½®</title>
      <link href="/2019/08/05/IDEA/%E7%83%AD%E9%83%A8%E7%BD%B2/"/>
      <url>/2019/08/05/IDEA/%E7%83%AD%E9%83%A8%E7%BD%B2/</url>
      
        <content type="html"><![CDATA[<blockquote><p>æœ¬æ–‡ä»‹ç»IDEAä¸­å…³äºTOMCATçš„çƒ­éƒ¨ç½²ç›¸å…³çš„ä¸¤ä¸ªé…ç½®ï¼Œåˆ†åˆ«æ˜¯on update actionå’Œ on frame deactivation,è§å›¾1</p></blockquote><p><img src="//haoyongliang.gitee.io/2019/08/05/IDEA/çƒ­éƒ¨ç½²/1.png" alt="1"></p><h1 id="1ã€On-â€˜Updateâ€™-action"><a href="#1ã€On-â€˜Updateâ€™-action" class="headerlink" title="1ã€On â€˜Updateâ€™ action"></a>1ã€On â€˜Updateâ€™ action</h1><p>é¦–å…ˆæ¥çœ‹ on update action ç›¸å…³çš„è§£é‡Šï¼Œä»å­—é¢ä¸Šç†è§£ å°±æ˜¯ æ‰‹å·¥è§¦å‘ update åŠ¨ä½œçš„æ—¶å€™ åšä»€ä¹ˆï¼Œå³ç‚¹å‡»å›¾2ä¸­çš„æŒ‰é’®åšä»€ä¹ˆäº‹æƒ…</p><p><img src="//haoyongliang.gitee.io/2019/08/05/IDEA/çƒ­éƒ¨ç½²/2.png" alt="2"></p><p>On â€˜Updateâ€™ actionçš„å€¼æœ‰4ä¸ªï¼Œå…·ä½“ä»‹ç»è¯·å‚è€ƒå›¾3</p><p><img src="//haoyongliang.gitee.io/2019/08/05/IDEA/çƒ­éƒ¨ç½²/3.png" alt="3"></p><h1 id="2ã€On-frame-deactivation"><a href="#2ã€On-frame-deactivation" class="headerlink" title="2ã€On frame deactivation"></a>2ã€On frame deactivation</h1><p>on frame deactivation ï¼Œæ„æ€å°±æ˜¯è¯´IDE å¤±å»ç„¦ç‚¹æ—¶åšä»€ä¹ˆï¼Œæœ‰3ä¸ªå€¼(è§å›¾3)ï¼Œæ„æ€åŒä¸Šï¼Œè¯·çœ‹ä¸Šå›¾(å›¾3)</p><p><img src="//haoyongliang.gitee.io/2019/08/05/IDEA/çƒ­éƒ¨ç½²/4.png" alt="4">  </p><h1 id="3ã€æ€»ç»“"><a href="#3ã€æ€»ç»“" class="headerlink" title="3ã€æ€»ç»“"></a>3ã€æ€»ç»“</h1><p>æœ€ä½³é…ç½®å¦‚ä¸‹å›¾</p><p><img src="//haoyongliang.gitee.io/2019/08/05/IDEA/çƒ­éƒ¨ç½²/5.png" alt="5"></p><p>è¯´æ˜ï¼Œä¿®æ”¹å®Œé™æ€èµ„æºæˆ–è€…JSPèµ„æºåæ‰‹åŠ¨ç‚¹å‡»update tomcat application ctrl+f10æŒ‰é’®ï¼Œä¸éœ€è¦é‡æ–°å‘å¸ƒé¡¹ç›®ï¼Œå¦‚æœä¿®æ”¹äº†javaä»£ç åˆ™å¿…é¡»é‡æ–°å‘å¸ƒé¡¹ç›®</p>]]></content>
      
      
      <categories>
          
          <category> idea </category>
          
      </categories>
      
      
        <tags>
            
            <tag> idea </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>URI is not registered (Settings | Languages &amp; Frameworks | Schemas and DTDs</title>
      <link href="/2019/07/16/%E9%97%AE%E9%A2%98/UriIsNotRegistered/"/>
      <url>/2019/07/16/%E9%97%AE%E9%A2%98/UriIsNotRegistered/</url>
      
        <content type="html"><![CDATA[<h1 id="é”™è¯¯ä¿¡æ¯"><a href="#é”™è¯¯ä¿¡æ¯" class="headerlink" title="é”™è¯¯ä¿¡æ¯"></a>é”™è¯¯ä¿¡æ¯</h1><p>åœ¨ideaä¸­ï¼Œå†™springé…ç½®æ–‡ä»¶çš„æ—¶å€™ï¼Œå‡ºç°äº†è¿™ä¸ªé”™è¯¯ã€‚</p><p><img src="//haoyongliang.gitee.io/2019/07/16/é—®é¢˜/UriIsNotRegistered/01.png" alt></p><h1 id="è§£å†³åŠæ³•"><a href="#è§£å†³åŠæ³•" class="headerlink" title="è§£å†³åŠæ³•"></a>è§£å†³åŠæ³•</h1><p>æ‹·è´ç¬¬ä¸‰è¡Œçº¢è‰²çš„æ–‡å­—</p><p><img src="//haoyongliang.gitee.io/2019/07/16/é—®é¢˜/UriIsNotRegistered/02.png" alt></p>]]></content>
      
      
      <categories>
          
          <category> å¼€å‘ä¸­é‡åˆ°çš„é—®é¢˜ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> IDEA </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Dockerçš„åŸºæœ¬ä½¿ç”¨</title>
      <link href="/2019/07/13/docker/docker/"/>
      <url>/2019/07/13/docker/docker/</url>
      
        <content type="html"><![CDATA[<h1 id="é•œåƒä»“åº“"><a href="#é•œåƒä»“åº“" class="headerlink" title="é•œåƒä»“åº“"></a>é•œåƒä»“åº“</h1><h2 id="ç½‘æ˜“äº‘"><a href="#ç½‘æ˜“äº‘" class="headerlink" title="ç½‘æ˜“äº‘"></a>ç½‘æ˜“äº‘</h2><p><a href="https://c.163.com/hub#/m/home/" target="_blank" rel="noopener">https://c.163.com/hub#/m/home/</a></p><h2 id="é˜¿é‡Œ"><a href="#é˜¿é‡Œ" class="headerlink" title="é˜¿é‡Œ"></a>é˜¿é‡Œ</h2><p><a href="https://dev.aliyun.com/search.html" target="_blank" rel="noopener">https://dev.aliyun.com/search.html</a></p><h1 id="Dockerç®€ä»‹"><a href="#Dockerç®€ä»‹" class="headerlink" title="Dockerç®€ä»‹"></a>Dockerç®€ä»‹</h1><h2 id="ä»€ä¹ˆæ˜¯è™šæ‹ŸåŒ–"><a href="#ä»€ä¹ˆæ˜¯è™šæ‹ŸåŒ–" class="headerlink" title="ä»€ä¹ˆæ˜¯è™šæ‹ŸåŒ–"></a>ä»€ä¹ˆæ˜¯è™šæ‹ŸåŒ–</h2><p>â€‹    åœ¨è®¡ç®—æœºä¸­ï¼Œè™šæ‹ŸåŒ–ï¼ˆè‹±è¯­ï¼šVirtualizationï¼‰æ˜¯ä¸€ç§èµ„æºç®¡ç†æŠ€æœ¯ï¼Œæ˜¯å°†è®¡ç®—æœºçš„å„ç§å®ä½“èµ„æºï¼Œå¦‚æœåŠ¡å™¨ã€ç½‘ç»œã€å†…å­˜åŠå­˜å‚¨ç­‰ï¼Œäºˆä»¥æŠ½è±¡ã€è½¬æ¢åå‘ˆç°å‡ºæ¥ï¼Œæ‰“ç ´å®ä½“ç»“æ„é—´çš„ä¸å¯åˆ‡å‰²çš„éšœç¢ï¼Œä½¿ç”¨æˆ·å¯ä»¥æ¯”åŸæœ¬çš„ç»„æ€æ›´å¥½çš„æ–¹å¼æ¥åº”ç”¨è¿™äº›èµ„æºã€‚è¿™äº›èµ„æºçš„æ–°è™šæ‹Ÿéƒ¨ä»½æ˜¯ä¸å—ç°æœ‰èµ„æºçš„æ¶è®¾æ–¹å¼ï¼Œåœ°åŸŸæˆ–ç‰©ç†ç»„æ€æ‰€é™åˆ¶ã€‚ä¸€èˆ¬æ‰€æŒ‡çš„è™šæ‹ŸåŒ–èµ„æºåŒ…æ‹¬è®¡ç®—èƒ½åŠ›å’Œèµ„æ–™å­˜å‚¨ã€‚</p><p>â€‹    åœ¨å®é™…çš„ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œè™šæ‹ŸåŒ–æŠ€æœ¯ä¸»è¦ç”¨æ¥è§£å†³é«˜æ€§èƒ½çš„ç‰©ç†ç¡¬ä»¶äº§èƒ½è¿‡å‰©å’Œè€çš„æ—§çš„ç¡¬ä»¶äº§èƒ½è¿‡ä½çš„é‡ç»„é‡ç”¨ï¼Œé€æ˜åŒ–åº•å±‚ç‰©ç†ç¡¬ä»¶ï¼Œä»è€Œæœ€å¤§åŒ–çš„åˆ©ç”¨ç‰©ç†ç¡¬ä»¶   å¯¹èµ„æºå……åˆ†åˆ©ç”¨</p><p>â€‹    è™šæ‹ŸåŒ–æŠ€æœ¯ç§ç±»å¾ˆå¤šï¼Œä¾‹å¦‚ï¼šè½¯ä»¶è™šæ‹ŸåŒ–ã€ç¡¬ä»¶è™šæ‹ŸåŒ–ã€å†…å­˜è™šæ‹ŸåŒ–ã€ç½‘ç»œè™šæ‹ŸåŒ–(vip)ã€æ¡Œé¢è™šæ‹ŸåŒ–ã€æœåŠ¡è™šæ‹ŸåŒ–ã€è™šæ‹Ÿæœºç­‰ç­‰ã€‚</p><h2 id="ä»€ä¹ˆæ˜¯Docker"><a href="#ä»€ä¹ˆæ˜¯Docker" class="headerlink" title="ä»€ä¹ˆæ˜¯Docker"></a>ä»€ä¹ˆæ˜¯Docker</h2><p>â€‹    Docker æ˜¯ä¸€ä¸ªå¼€æºé¡¹ç›®ï¼Œè¯ç”Ÿäº 2013 å¹´åˆï¼Œæœ€åˆæ˜¯ dotCloud å…¬å¸å†…éƒ¨çš„ä¸€ä¸ªä¸šä½™é¡¹ç›®ã€‚å®ƒåŸºäº Google å…¬å¸æ¨å‡ºçš„ Go è¯­è¨€å®ç°ã€‚ é¡¹ç›®åæ¥åŠ å…¥äº† Linux åŸºé‡‘ä¼šï¼Œéµä»äº† Apache 2.0 åè®®ï¼Œé¡¹ç›®ä»£ç åœ¨ <a href="https://github.com/docker/docker" target="_blank" rel="noopener">GitHub</a> ä¸Šè¿›è¡Œç»´æŠ¤ã€‚</p><p>â€‹    <img src="//haoyongliang.gitee.io/2019/07/13/docker/docker/1-3.png" alt></p><p>â€‹    Docker è‡ªå¼€æºåå—åˆ°å¹¿æ³›çš„å…³æ³¨å’Œè®¨è®ºï¼Œä»¥è‡³äº dotCloud å…¬å¸åæ¥éƒ½æ”¹åä¸º Docker Incã€‚Redhat å·²ç»åœ¨å…¶ RHEL6.5 ä¸­é›†ä¸­æ”¯æŒ Dockerï¼›Google ä¹Ÿåœ¨å…¶ PaaS äº§å“ä¸­å¹¿æ³›åº”ç”¨ã€‚</p><p>â€‹    Docker é¡¹ç›®çš„ç›®æ ‡æ˜¯å®ç°è½»é‡çº§çš„æ“ä½œç³»ç»Ÿè™šæ‹ŸåŒ–è§£å†³æ–¹æ¡ˆã€‚ Docker çš„åŸºç¡€æ˜¯ Linux å®¹å™¨ï¼ˆLXCï¼‰ç­‰æŠ€æœ¯ã€‚</p><p>â€‹    åœ¨ LXC çš„åŸºç¡€ä¸Š Docker è¿›è¡Œäº†è¿›ä¸€æ­¥çš„å°è£…ï¼Œè®©ç”¨æˆ·ä¸éœ€è¦å»å…³å¿ƒå®¹å™¨çš„ç®¡ç†ï¼Œä½¿å¾—æ“ä½œæ›´ä¸ºç®€ä¾¿ã€‚ç”¨æˆ·æ“ä½œ Docker çš„å®¹å™¨å°±åƒæ“ä½œä¸€ä¸ªå¿«é€Ÿè½»é‡çº§çš„è™šæ‹Ÿæœºä¸€æ ·ç®€å•ã€‚</p><p>ä¸ºä»€ä¹ˆé€‰æ‹©Docker?</p><p>ï¼ˆ1ï¼‰ä¸Šæ‰‹å¿«ã€‚</p><p>â€‹    ç”¨æˆ·åªéœ€è¦å‡ åˆ†é’Ÿï¼Œå°±å¯ä»¥æŠŠè‡ªå·±çš„ç¨‹åºâ€œDockeråŒ–â€ã€‚Dockerä¾èµ–äºâ€œå†™æ—¶å¤åˆ¶â€ï¼ˆcopy-on-writeï¼‰æ¨¡å‹ï¼Œä½¿ä¿®æ”¹åº”ç”¨ç¨‹åºä¹Ÿéå¸¸è¿…é€Ÿï¼Œå¯ä»¥è¯´è¾¾åˆ°â€œéšå¿ƒæ‰€è‡´ï¼Œä»£ç å³æ”¹â€çš„å¢ƒç•Œã€‚    </p><pre><code>éšåï¼Œå°±å¯ä»¥åˆ›å»ºå®¹å™¨æ¥è¿è¡Œåº”ç”¨ç¨‹åºäº†ã€‚å¤§å¤šæ•°Dockerå®¹å™¨åªéœ€è¦ä¸åˆ°1ç§’ä¸­å³å¯å¯åŠ¨ã€‚ç”±äºå»é™¤äº†ç®¡ç†ç¨‹åºçš„å¼€é”€ï¼ŒDockerå®¹å™¨æ‹¥æœ‰å¾ˆé«˜çš„æ€§èƒ½ï¼ŒåŒæ—¶åŒä¸€å°å®¿ä¸»æœºä¸­ä¹Ÿå¯ä»¥è¿è¡Œæ›´å¤šçš„å®¹å™¨ï¼Œä½¿ç”¨æˆ·å°½å¯èƒ½çš„å……åˆ†åˆ©ç”¨ç³»ç»Ÿèµ„æºã€‚</code></pre><p>ï¼ˆ2ï¼‰èŒè´£çš„é€»è¾‘åˆ†ç±»</p><p>â€‹    ä½¿ç”¨Dockerï¼Œå¼€å‘äººå‘˜åªéœ€è¦å…³å¿ƒå®¹å™¨ä¸­è¿è¡Œçš„åº”ç”¨ç¨‹åºï¼Œè€Œè¿ç»´äººå‘˜åªéœ€è¦å…³å¿ƒå¦‚ä½•ç®¡ç†å®¹å™¨ã€‚Dockerè®¾è®¡çš„ç›®çš„å°±æ˜¯è¦åŠ å¼ºå¼€å‘äººå‘˜å†™ä»£ç çš„å¼€å‘ç¯å¢ƒä¸åº”ç”¨ç¨‹åºè¦éƒ¨ç½²çš„ç”Ÿäº§ç¯å¢ƒä¸€è‡´æ€§ã€‚ä»è€Œé™ä½é‚£ç§â€œå¼€å‘æ—¶ä¸€åˆ‡æ­£å¸¸ï¼Œè‚¯å®šæ˜¯è¿ç»´çš„é—®é¢˜ï¼ˆæµ‹è¯•ç¯å¢ƒéƒ½æ˜¯æ­£å¸¸çš„ï¼Œä¸Šçº¿åå‡ºäº†é—®é¢˜å°±å½’ç»“ä¸ºè‚¯å®šæ˜¯è¿ç»´çš„é—®é¢˜ï¼‰â€</p><p>ï¼ˆ3ï¼‰å¿«é€Ÿé«˜æ•ˆçš„å¼€å‘ç”Ÿå‘½å‘¨æœŸ</p><p>â€‹    Dockerçš„ç›®æ ‡ä¹‹ä¸€å°±æ˜¯ç¼©çŸ­ä»£ç ä»å¼€å‘ã€æµ‹è¯•åˆ°éƒ¨ç½²ã€ä¸Šçº¿è¿è¡Œçš„å‘¨æœŸï¼Œè®©ä½ çš„åº”ç”¨ç¨‹åºå…·å¤‡å¯ç§»æ¤æ€§ï¼Œæ˜“äºæ„å»ºï¼Œå¹¶æ˜“äºåä½œã€‚ï¼ˆé€šä¿—ä¸€ç‚¹è¯´ï¼ŒDockerå°±åƒä¸€ä¸ªç›’å­ï¼Œé‡Œé¢å¯ä»¥è£…å¾ˆå¤šç‰©ä»¶ï¼Œå¦‚æœéœ€è¦è¿™äº›ç‰©ä»¶çš„å¯ä»¥ç›´æ¥å°†è¯¥å¤§ç›’å­æ‹¿èµ°ï¼Œè€Œä¸éœ€è¦ä»è¯¥ç›’å­ä¸­ä¸€ä»¶ä»¶çš„å–ã€‚ï¼‰</p><p>ï¼ˆ4ï¼‰é¼“åŠ±ä½¿ç”¨é¢å‘æœåŠ¡çš„æ¶æ„</p><p>â€‹    Dockerè¿˜é¼“åŠ±é¢å‘æœåŠ¡çš„ä½“ç³»ç»“æ„å’Œå¾®æœåŠ¡æ¶æ„ã€‚Dockeræ¨èå•ä¸ªå®¹å™¨åªè¿è¡Œä¸€ä¸ªåº”ç”¨ç¨‹åºæˆ–è¿›ç¨‹ï¼Œè¿™æ ·å°±å½¢æˆäº†ä¸€ä¸ªåˆ†å¸ƒå¼çš„åº”ç”¨ç¨‹åºæ¨¡å‹ï¼Œåœ¨è¿™ç§æ¨¡å‹ä¸‹ï¼Œåº”ç”¨ç¨‹åºæˆ–è€…æœåŠ¡éƒ½å¯ä»¥è¡¨ç¤ºä¸ºä¸€ç³»åˆ—å†…éƒ¨äº’è”çš„å®¹å™¨ï¼Œä»è€Œä½¿åˆ†å¸ƒå¼éƒ¨ç½²åº”ç”¨ç¨‹åºï¼Œæ‰©å±•æˆ–è°ƒè¯•åº”ç”¨ç¨‹åºéƒ½å˜å¾—éå¸¸ç®€å•ï¼ŒåŒæ—¶ä¹Ÿæé«˜äº†ç¨‹åºçš„å†…çœæ€§ã€‚ï¼ˆå½“ç„¶ï¼Œå¯ä»¥åœ¨ä¸€ä¸ªå®¹å™¨ä¸­è¿è¡Œå¤šä¸ªåº”ç”¨ç¨‹åºï¼‰</p><h2 id="å®¹å™¨ä¸è™šæ‹Ÿæœºæ¯”è¾ƒ"><a href="#å®¹å™¨ä¸è™šæ‹Ÿæœºæ¯”è¾ƒ" class="headerlink" title="å®¹å™¨ä¸è™šæ‹Ÿæœºæ¯”è¾ƒ"></a>å®¹å™¨ä¸è™šæ‹Ÿæœºæ¯”è¾ƒ</h2><p>â€‹    ä¸‹é¢çš„å›¾ç‰‡æ¯”è¾ƒäº† Docker å’Œä¼ ç»Ÿè™šæ‹ŸåŒ–æ–¹å¼çš„ä¸åŒä¹‹å¤„ï¼Œå¯è§å®¹å™¨æ˜¯åœ¨æ“ä½œç³»ç»Ÿå±‚é¢ä¸Šå®ç°è™šæ‹ŸåŒ–ï¼Œç›´æ¥å¤ç”¨æœ¬åœ°ä¸»æœºçš„æ“ä½œç³»ç»Ÿï¼Œè€Œä¼ ç»Ÿæ–¹å¼åˆ™æ˜¯åœ¨ç¡¬ä»¶å±‚é¢å®ç°ã€‚</p><p><img src="//haoyongliang.gitee.io/2019/07/13/docker/docker/1-1.png" alt></p><p>ä¸ä¼ ç»Ÿçš„è™šæ‹Ÿæœºç›¸æ¯”ï¼ŒDockerä¼˜åŠ¿ä½“ç°ä¸ºå¯åŠ¨é€Ÿåº¦å¿«ã€å ç”¨ä½“ç§¯å°ã€‚</p><h2 id="Docker-ç»„ä»¶"><a href="#Docker-ç»„ä»¶" class="headerlink" title="Docker ç»„ä»¶"></a>Docker ç»„ä»¶</h2><h3 id="DockeræœåŠ¡å™¨ä¸å®¢æˆ·ç«¯"><a href="#DockeræœåŠ¡å™¨ä¸å®¢æˆ·ç«¯" class="headerlink" title="DockeræœåŠ¡å™¨ä¸å®¢æˆ·ç«¯"></a>DockeræœåŠ¡å™¨ä¸å®¢æˆ·ç«¯</h3><p>â€‹    Dockeræ˜¯ä¸€ä¸ªå®¢æˆ·ç«¯-æœåŠ¡å™¨ï¼ˆC/Sï¼‰æ¶æ„ç¨‹åºã€‚Dockerå®¢æˆ·ç«¯åªéœ€è¦å‘DockeræœåŠ¡å™¨æˆ–è€…å®ˆæŠ¤è¿›ç¨‹å‘å‡ºè¯·æ±‚ï¼ŒæœåŠ¡å™¨æˆ–è€…å®ˆæŠ¤è¿›ç¨‹å°†å®Œæˆæ‰€æœ‰å·¥ä½œå¹¶è¿”å›ç»“æœã€‚Dockeræä¾›äº†ä¸€ä¸ªå‘½ä»¤è¡Œå·¥å…·Dockerä»¥åŠä¸€æ•´å¥—RESTful APIã€‚ä½ å¯ä»¥åœ¨åŒä¸€å°å®¿ä¸»æœºä¸Šè¿è¡ŒDockerå®ˆæŠ¤è¿›ç¨‹å’Œå®¢æˆ·ç«¯ï¼Œä¹Ÿå¯ä»¥ä»æœ¬åœ°çš„Dockerå®¢æˆ·ç«¯è¿æ¥åˆ°è¿è¡Œåœ¨å¦ä¸€å°å®¿ä¸»æœºä¸Šçš„è¿œç¨‹Dockerå®ˆæŠ¤è¿›ç¨‹ã€‚</p><p><img src="//haoyongliang.gitee.io/2019/07/13/docker/docker/1-2.png" alt></p><h3 id="Dockeré•œåƒä¸å®¹å™¨"><a href="#Dockeré•œåƒä¸å®¹å™¨" class="headerlink" title="Dockeré•œåƒä¸å®¹å™¨"></a>Dockeré•œåƒä¸å®¹å™¨</h3><p>â€‹    é•œåƒæ˜¯æ„å»ºDockerçš„åŸºçŸ³ã€‚ç”¨æˆ·åŸºäºé•œåƒæ¥è¿è¡Œè‡ªå·±çš„å®¹å™¨ã€‚é•œåƒä¹Ÿæ˜¯Dockerç”Ÿå‘½å‘¨æœŸä¸­çš„â€œæ„å»ºâ€éƒ¨åˆ†ã€‚é•œåƒæ˜¯åŸºäºè”åˆæ–‡ä»¶ç³»ç»Ÿçš„ä¸€ç§å±‚å¼ç»“æ„ï¼Œç”±ä¸€ç³»åˆ—æŒ‡ä»¤ä¸€æ­¥ä¸€æ­¥æ„å»ºå‡ºæ¥ã€‚ä¾‹å¦‚ï¼š</p><p>æ·»åŠ ä¸€ä¸ªæ–‡ä»¶ï¼›</p><p>æ‰§è¡Œä¸€ä¸ªå‘½ä»¤ï¼›</p><p>æ‰“å¼€ä¸€ä¸ªçª—å£ã€‚</p><p>ä¹Ÿå¯ä»¥å°†é•œåƒå½“ä½œå®¹å™¨çš„â€œæºä»£ç â€ã€‚é•œåƒä½“ç§¯å¾ˆå°ï¼Œéå¸¸â€œä¾¿æºâ€ï¼Œæ˜“äºåˆ†äº«ã€å­˜å‚¨å’Œæ›´æ–°ã€‚</p><p>â€‹    Dockerå¯ä»¥å¸®åŠ©ä½ æ„å»ºå’Œéƒ¨ç½²å®¹å™¨ï¼Œä½ åªéœ€è¦æŠŠè‡ªå·±çš„åº”ç”¨ç¨‹åºæˆ–è€…æœåŠ¡æ‰“åŒ…æ”¾è¿›å®¹å™¨å³å¯ã€‚å®¹å™¨æ˜¯åŸºäºé•œåƒå¯åŠ¨èµ·æ¥çš„ï¼Œå®¹å™¨ä¸­å¯ä»¥è¿è¡Œä¸€ä¸ªæˆ–å¤šä¸ªè¿›ç¨‹ã€‚æˆ‘ä»¬å¯ä»¥è®¤ä¸ºï¼Œé•œåƒæ˜¯Dockerç”Ÿå‘½å‘¨æœŸä¸­çš„æ„å»ºæˆ–è€…æ‰“åŒ…é˜¶æ®µï¼Œè€Œå®¹å™¨åˆ™æ˜¯å¯åŠ¨æˆ–è€…æ‰§è¡Œé˜¶æ®µã€‚  å®¹å™¨åŸºäºé•œåƒå¯åŠ¨ï¼Œä¸€æ—¦å®¹å™¨å¯åŠ¨å®Œæˆåï¼Œæˆ‘ä»¬å°±å¯ä»¥ç™»å½•åˆ°å®¹å™¨ä¸­å®‰è£…è‡ªå·±éœ€è¦çš„è½¯ä»¶æˆ–è€…æœåŠ¡ã€‚</p><p>æ‰€ä»¥Dockerå®¹å™¨å°±æ˜¯ï¼š</p><p>â€‹    ä¸€ä¸ªé•œåƒæ ¼å¼ï¼›</p><p>â€‹    ä¸€äº›åˆ—æ ‡å‡†æ“ä½œï¼›</p><p>â€‹    ä¸€ä¸ªæ‰§è¡Œç¯å¢ƒã€‚</p><p>â€‹    Dockerå€Ÿé‰´äº†æ ‡å‡†é›†è£…ç®±çš„æ¦‚å¿µã€‚æ ‡å‡†é›†è£…ç®±å°†è´§ç‰©è¿å¾€ä¸–ç•Œå„åœ°ï¼ŒDockerå°†è¿™ä¸ªæ¨¡å‹è¿ç”¨åˆ°è‡ªå·±çš„è®¾è®¡ä¸­ï¼Œå”¯ä¸€ä¸åŒçš„æ˜¯ï¼šé›†è£…ç®±è¿è¾“è´§ç‰©ï¼Œè€ŒDockerè¿è¾“è½¯ä»¶ã€‚</p><pre><code>å’Œé›†è£…ç®±ä¸€æ ·ï¼ŒDockeråœ¨æ‰§è¡Œä¸Šè¿°æ“ä½œæ—¶ï¼Œå¹¶ä¸å…³å¿ƒå®¹å™¨ä¸­åˆ°åº•è£…äº†ä»€ä¹ˆï¼Œå®ƒä¸ç®¡æ˜¯webæœåŠ¡å™¨ï¼Œè¿˜æ˜¯æ•°æ®åº“ï¼Œæˆ–è€…æ˜¯åº”ç”¨ç¨‹åºæœåŠ¡å™¨ä»€ä¹ˆçš„ã€‚æ‰€æœ‰çš„å®¹å™¨éƒ½æŒ‰ç…§ç›¸åŒçš„æ–¹å¼å°†å†…å®¹â€œè£…è½½â€è¿›å»ã€‚Dockerä¹Ÿä¸å…³å¿ƒä½ è¦æŠŠå®¹å™¨è¿åˆ°ä½•æ–¹ï¼šæˆ‘ä»¬å¯ä»¥åœ¨è‡ªå·±çš„ç¬”è®°æœ¬ä¸­æ„å»ºå®¹å™¨ï¼Œä¸Šä¼ åˆ°Registryï¼Œç„¶åä¸‹è½½åˆ°ä¸€ä¸ªç‰©ç†çš„æˆ–è€…è™šæ‹Ÿçš„æœåŠ¡å™¨æ¥æµ‹è¯•ï¼Œåœ¨æŠŠå®¹å™¨éƒ¨ç½²åˆ°å…·ä½“çš„ä¸»æœºä¸­ã€‚åƒæ ‡å‡†é›†è£…ç®±ä¸€æ ·ï¼ŒDockerå®¹å™¨æ–¹ä¾¿æ›¿æ¢ï¼Œå¯ä»¥å åŠ ï¼Œæ˜“äºåˆ†å‘ï¼Œå¹¶ä¸”å°½é‡é€šç”¨ã€‚</code></pre><h3 id="Registryï¼ˆæ³¨å†Œä¸­å¿ƒï¼‰"><a href="#Registryï¼ˆæ³¨å†Œä¸­å¿ƒï¼‰" class="headerlink" title="Registryï¼ˆæ³¨å†Œä¸­å¿ƒï¼‰"></a>Registryï¼ˆæ³¨å†Œä¸­å¿ƒï¼‰</h3><p>â€‹    Dockerç”¨Registryæ¥ä¿å­˜ç”¨æˆ·æ„å»ºçš„é•œåƒã€‚Registryåˆ†ä¸ºå…¬å…±å’Œç§æœ‰ä¸¤ç§ã€‚Dockerå…¬å¸è¿è¥å…¬å…±çš„Registryå«åšDocker Hubã€‚ç”¨æˆ·å¯ä»¥åœ¨Docker Hubæ³¨å†Œè´¦å·ï¼Œåˆ†äº«å¹¶ä¿å­˜è‡ªå·±çš„é•œåƒï¼ˆè¯´æ˜ï¼šåœ¨Docker Hubä¸‹è½½é•œåƒå·¨æ…¢ï¼Œå¯ä»¥è‡ªå·±æ„å»ºç§æœ‰çš„Registryï¼‰ã€‚</p><p>â€‹    <a href="https://hub.docker.com/" target="_blank" rel="noopener">https://hub.docker.com/</a></p><h1 id="Dockerå®‰è£…ä¸å¯åŠ¨"><a href="#Dockerå®‰è£…ä¸å¯åŠ¨" class="headerlink" title="Dockerå®‰è£…ä¸å¯åŠ¨"></a>Dockerå®‰è£…ä¸å¯åŠ¨</h1><h2 id="å®‰è£…Docker"><a href="#å®‰è£…Docker" class="headerlink" title="å®‰è£…Docker"></a>å®‰è£…Docker</h2><p>â€‹    Dockerå®˜æ–¹å»ºè®®åœ¨Ubuntuä¸­å®‰è£…ï¼Œå› ä¸ºDockeræ˜¯åŸºäºUbuntuå‘å¸ƒçš„ï¼Œè€Œä¸”ä¸€èˆ¬Dockerå‡ºç°çš„é—®é¢˜Ubuntuæ˜¯æœ€å…ˆæ›´æ–°æˆ–è€…æ‰“è¡¥ä¸çš„ã€‚åœ¨å¾ˆå¤šç‰ˆæœ¬çš„CentOSä¸­æ˜¯ä¸æ”¯æŒæ›´æ–°æœ€æ–°çš„ä¸€äº›è¡¥ä¸åŒ…çš„ã€‚</p><p>â€‹    ç”±äºæˆ‘ä»¬å­¦ä¹ çš„ç¯å¢ƒéƒ½ä½¿ç”¨çš„æ˜¯CentOSï¼Œå› æ­¤è¿™é‡Œæˆ‘ä»¬å°†Dockerå®‰è£…åˆ°CentOSä¸Šã€‚æ³¨æ„ï¼šè¿™é‡Œå»ºè®®å®‰è£…åœ¨CentOS7.xä»¥ä¸Šçš„ç‰ˆæœ¬ï¼Œåœ¨CentOS6.xçš„ç‰ˆæœ¬ä¸­ï¼Œå®‰è£…å‰éœ€è¦å®‰è£…å…¶ä»–å¾ˆå¤šçš„ç¯å¢ƒè€Œä¸”Dockerå¾ˆå¤šè¡¥ä¸ä¸æ”¯æŒæ›´æ–°ã€‚</p><p>â€‹    è¯·ç›´æ¥æŒ‚è½½è¯¾ç¨‹é…å¥—çš„Centos7.xé•œåƒ    </p><p>ï¼ˆ1ï¼‰yum åŒ…æ›´æ–°åˆ°æœ€æ–°</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">sudo</span> <span class="string">yum</span> <span class="string">update</span></span><br></pre></td></tr></table></figure><p>ï¼ˆ2ï¼‰å®‰è£…éœ€è¦çš„è½¯ä»¶åŒ…ï¼Œ yum-util æä¾›yum-config-manageråŠŸèƒ½ï¼Œå¦å¤–ä¸¤ä¸ªæ˜¯devicemapperé©±åŠ¨ä¾èµ–çš„</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">sudo</span> <span class="string">yum</span> <span class="string">install</span> <span class="bullet">-y</span> <span class="string">yum-utils</span> <span class="string">device-mapper-persistent-data</span> <span class="string">lvm2</span></span><br></pre></td></tr></table></figure><p>ï¼ˆ3ï¼‰è®¾ç½®yumæºä¸ºé˜¿é‡Œäº‘</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">sudo</span> <span class="string">yum-config-manager</span> <span class="bullet">--add-repo</span> <span class="attr">http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo</span></span><br></pre></td></tr></table></figure><p>ï¼ˆ4ï¼‰å®‰è£…docker</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">sudo</span> <span class="string">yum</span> <span class="string">install</span> <span class="string">docker-ce</span></span><br></pre></td></tr></table></figure><p>ï¼ˆ5ï¼‰å®‰è£…åæŸ¥çœ‹dockerç‰ˆæœ¬</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">docker</span> <span class="bullet">-v</span></span><br></pre></td></tr></table></figure><h2 id="è®¾ç½®ustcçš„é•œåƒ"><a href="#è®¾ç½®ustcçš„é•œåƒ" class="headerlink" title="è®¾ç½®ustcçš„é•œåƒ"></a>è®¾ç½®ustcçš„é•œåƒ</h2><p>ustcæ˜¯è€ç‰Œçš„linuxé•œåƒæœåŠ¡æä¾›è€…äº†ï¼Œè¿˜åœ¨é¥è¿œçš„ubuntu 5.04ç‰ˆæœ¬çš„æ—¶å€™å°±åœ¨ç”¨ã€‚ustcçš„dockeré•œåƒåŠ é€Ÿå™¨é€Ÿåº¦å¾ˆå¿«ã€‚ustc docker mirrorçš„ä¼˜åŠ¿ä¹‹ä¸€å°±æ˜¯ä¸éœ€è¦æ³¨å†Œï¼Œæ˜¯çœŸæ­£çš„å…¬å…±æœåŠ¡ã€‚</p><p><a href="https://lug.ustc.edu.cn/wiki/mirrors/help/docker" target="_blank" rel="noopener">https://lug.ustc.edu.cn/wiki/mirrors/help/docker</a></p><p>ç¼–è¾‘è¯¥æ–‡ä»¶ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/docker/daemon.json</span><br></pre></td></tr></table></figure><p>åœ¨è¯¥æ–‡ä»¶ä¸­è¾“å…¥å¦‚ä¸‹å†…å®¹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">&quot;registry-mirrors&quot;: [&quot;https://docker.mirrors.ustc.edu.cn&quot;]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Dockerçš„å¯åŠ¨ä¸åœæ­¢"><a href="#Dockerçš„å¯åŠ¨ä¸åœæ­¢" class="headerlink" title="Dockerçš„å¯åŠ¨ä¸åœæ­¢"></a>Dockerçš„å¯åŠ¨ä¸åœæ­¢</h2><p><strong>systemctl</strong>å‘½ä»¤æ˜¯ç³»ç»ŸæœåŠ¡ç®¡ç†å™¨æŒ‡ä»¤</p><p>å¯åŠ¨dockerï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl startÂ docker</span><br></pre></td></tr></table></figure><p>åœæ­¢dockerï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl stopÂ docker</span><br></pre></td></tr></table></figure><p>é‡å¯dockerï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl restartÂ docker</span><br></pre></td></tr></table></figure><p>æŸ¥çœ‹dockerçŠ¶æ€ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl statusÂ docker</span><br></pre></td></tr></table></figure><p>å¼€æœºå¯åŠ¨ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl enable docker</span><br></pre></td></tr></table></figure><p>æŸ¥çœ‹dockeræ¦‚è¦ä¿¡æ¯</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker info</span><br></pre></td></tr></table></figure><p>æŸ¥çœ‹dockerå¸®åŠ©æ–‡æ¡£</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker --help</span><br></pre></td></tr></table></figure><h1 id="å¸¸ç”¨å‘½ä»¤"><a href="#å¸¸ç”¨å‘½ä»¤" class="headerlink" title="å¸¸ç”¨å‘½ä»¤"></a>å¸¸ç”¨å‘½ä»¤</h1><h2 id="é•œåƒç›¸å…³å‘½ä»¤"><a href="#é•œåƒç›¸å…³å‘½ä»¤" class="headerlink" title="é•œåƒç›¸å…³å‘½ä»¤"></a>é•œåƒç›¸å…³å‘½ä»¤</h2><h3 id="æŸ¥çœ‹é•œåƒ"><a href="#æŸ¥çœ‹é•œåƒ" class="headerlink" title="æŸ¥çœ‹é•œåƒ"></a>æŸ¥çœ‹é•œåƒ</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker images</span><br></pre></td></tr></table></figure><p>REPOSITORYï¼šé•œåƒåç§°</p><p>TAGï¼šé•œåƒæ ‡ç­¾</p><p>IMAGE IDï¼šé•œåƒID</p><p>CREATEDï¼šé•œåƒçš„åˆ›å»ºæ—¥æœŸï¼ˆä¸æ˜¯è·å–è¯¥é•œåƒçš„æ—¥æœŸï¼‰</p><p>SIZEï¼šé•œåƒå¤§å°</p><p>è¿™äº›é•œåƒéƒ½æ˜¯å­˜å‚¨åœ¨Dockerå®¿ä¸»æœºçš„/var/lib/dockerç›®å½•ä¸‹</p><h3 id="æœç´¢é•œåƒ"><a href="#æœç´¢é•œåƒ" class="headerlink" title="æœç´¢é•œåƒ"></a>æœç´¢é•œåƒ</h3><p>å¦‚æœä½ éœ€è¦ä»ç½‘ç»œä¸­æŸ¥æ‰¾éœ€è¦çš„é•œåƒï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤æœç´¢</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker search é•œåƒåç§°</span><br></pre></td></tr></table></figure><p>NAMEï¼šä»“åº“åç§°</p><p>DESCRIPTIONï¼šé•œåƒæè¿°</p><p>STARSï¼šç”¨æˆ·è¯„ä»·ï¼Œååº”ä¸€ä¸ªé•œåƒçš„å—æ¬¢è¿ç¨‹åº¦</p><p>OFFICIALï¼šæ˜¯å¦å®˜æ–¹</p><p>AUTOMATEDï¼šè‡ªåŠ¨æ„å»ºï¼Œè¡¨ç¤ºè¯¥é•œåƒç”±Docker Hubè‡ªåŠ¨æ„å»ºæµç¨‹åˆ›å»ºçš„</p><h3 id="æ‹‰å–é•œåƒ"><a href="#æ‹‰å–é•œåƒ" class="headerlink" title="æ‹‰å–é•œåƒ"></a>æ‹‰å–é•œåƒ</h3><p>æ‹‰å–é•œåƒå°±æ˜¯ä»ä¸­å¤®ä»“åº“ä¸­ä¸‹è½½é•œåƒåˆ°æœ¬åœ°</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull é•œåƒåç§°</span><br></pre></td></tr></table></figure><p>ä¾‹å¦‚ï¼Œæˆ‘è¦ä¸‹è½½centos7é•œåƒ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull centos:7</span><br></pre></td></tr></table></figure><h3 id="åˆ é™¤é•œåƒrmi"><a href="#åˆ é™¤é•œåƒrmi" class="headerlink" title="åˆ é™¤é•œåƒrmi"></a>åˆ é™¤é•œåƒrmi</h3><p>æŒ‰é•œåƒIDåˆ é™¤é•œåƒ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker rmi é•œåƒID</span><br></pre></td></tr></table></figure><p>åˆ é™¤æ‰€æœ‰é•œåƒ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker rmi `docker images -q`</span><br></pre></td></tr></table></figure><h2 id="å®¹å™¨ç›¸å…³å‘½ä»¤"><a href="#å®¹å™¨ç›¸å…³å‘½ä»¤" class="headerlink" title="å®¹å™¨ç›¸å…³å‘½ä»¤"></a>å®¹å™¨ç›¸å…³å‘½ä»¤</h2><h3 id="æŸ¥çœ‹å®¹å™¨"><a href="#æŸ¥çœ‹å®¹å™¨" class="headerlink" title="æŸ¥çœ‹å®¹å™¨"></a>æŸ¥çœ‹å®¹å™¨</h3><p>æŸ¥çœ‹æ­£åœ¨è¿è¡Œçš„å®¹å™¨</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker ps</span><br></pre></td></tr></table></figure><p>æŸ¥çœ‹æ‰€æœ‰å®¹å™¨</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker ps â€“a</span><br></pre></td></tr></table></figure><p>æŸ¥çœ‹æœ€åä¸€æ¬¡è¿è¡Œçš„å®¹å™¨</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker ps â€“l</span><br></pre></td></tr></table></figure><p>æŸ¥çœ‹åœæ­¢çš„å®¹å™¨</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker ps -f status=exited</span><br></pre></td></tr></table></figure><h3 id="åˆ›å»ºä¸å¯åŠ¨å®¹å™¨"><a href="#åˆ›å»ºä¸å¯åŠ¨å®¹å™¨" class="headerlink" title="åˆ›å»ºä¸å¯åŠ¨å®¹å™¨"></a>åˆ›å»ºä¸å¯åŠ¨å®¹å™¨</h3><p>åˆ›å»ºå®¹å™¨å¸¸ç”¨çš„å‚æ•°è¯´æ˜ï¼š</p><p>åˆ›å»ºå¹¶å¯åŠ¨å®¹å™¨å‘½ä»¤ï¼šdocker run</p><p> -iï¼šäº¤äº’æ¨¡å¼å¯åŠ¨ï¼Œæœ€å¥½åŠ ä¸Šï¼Œä¸åŠ å®¹å™¨ä¸ä¸»æœºæ²¡æœ‰äº¤äº’ï¼Œç„¶ådockerå°±ä¼šè‡ªåŠ¨å°†å®¹å™¨å…³é—­</p><p> -tï¼šè¡¨ç¤ºå®¹å™¨å¯åŠ¨åä¼šè¿›å…¥å…¶å‘½ä»¤è¡Œã€‚åŠ å…¥è¿™ä¸¤ä¸ªå‚æ•°åï¼Œå®¹å™¨åˆ›å»ºå°±èƒ½ç™»å½•è¿›å»ã€‚å³åˆ†é…ä¸€ä¸ªä¼ªç»ˆç«¯ã€‚</p><p> â€“name :ä¸ºåˆ›å»ºçš„å®¹å™¨å‘½åã€‚</p><p> -vï¼šè¡¨ç¤ºç›®å½•æ˜ å°„å…³ç³»ï¼ˆå‰è€…æ˜¯å®¿ä¸»æœºç›®å½•ï¼Œåè€…æ˜¯æ˜ å°„åˆ°å®¿ä¸»æœºä¸Šçš„ç›®å½•ï¼‰ï¼Œå¯ä»¥ä½¿ç”¨å¤šä¸ªï¼våšå¤šä¸ªç›®å½•æˆ–æ–‡ä»¶æ˜ å°„ã€‚æ³¨æ„ï¼šæœ€å¥½åšç›®å½•æ˜ å°„ï¼Œåœ¨å®¿ä¸»æœºä¸Šåšä¿®æ”¹ï¼Œç„¶åå…±äº«åˆ°å®¹å™¨ä¸Šã€‚</p><p> -dï¼šåœ¨runåé¢åŠ ä¸Š-då‚æ•°,åˆ™ä¼šåˆ›å»ºä¸€ä¸ªå®ˆæŠ¤å¼å®¹å™¨åœ¨åå°è¿è¡Œï¼ˆè¿™æ ·åˆ›å»ºå®¹å™¨åä¸ä¼šè‡ªåŠ¨ç™»å½•å®¹å™¨ï¼Œå¦‚æœåªåŠ -i -tä¸¤ä¸ªå‚æ•°ï¼Œåˆ›å»ºåå°±ä¼šè‡ªåŠ¨è¿›å»å®¹å™¨ï¼‰ã€‚</p><p> -pï¼šè¡¨ç¤ºç«¯å£æ˜ å°„ï¼Œå‰è€…æ˜¯å®¿ä¸»æœºç«¯å£ï¼Œåè€…æ˜¯å®¹å™¨å†…çš„æ˜ å°„ç«¯å£ã€‚å¯ä»¥ä½¿ç”¨å¤šä¸ª-påšå¤šä¸ªç«¯å£æ˜ å°„</p><p>-e : è¡¨ç¤ºè®¾ç½®ç¯å¢ƒå˜é‡</p><p>ï¼ˆ1ï¼‰äº¤äº’å¼æ–¹å¼åˆ›å»ºå®¹å™¨</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -it --name=å®¹å™¨åç§° é•œåƒåç§°:æ ‡ç­¾ /bin/bash</span><br></pre></td></tr></table></figure><p>è¿™æ—¶æˆ‘ä»¬é€šè¿‡pså‘½ä»¤æŸ¥çœ‹ï¼Œå‘ç°å¯ä»¥çœ‹åˆ°å¯åŠ¨çš„å®¹å™¨ï¼ŒçŠ¶æ€ä¸ºå¯åŠ¨çŠ¶æ€  </p><p>é€€å‡ºå½“å‰å®¹å™¨</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">exit</span><br></pre></td></tr></table></figure><p>ï¼ˆ2ï¼‰å®ˆæŠ¤å¼æ–¹å¼åˆ›å»ºå®¹å™¨ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -di --name=å®¹å™¨åç§° é•œåƒåç§°:æ ‡ç­¾</span><br></pre></td></tr></table></figure><p>ç™»å½•å®ˆæŠ¤å¼å®¹å™¨æ–¹å¼ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker exec -it å®¹å™¨åç§° (æˆ–è€…å®¹å™¨ID)  /bin/bash</span><br></pre></td></tr></table></figure><h3 id="åœæ­¢ä¸å¯åŠ¨å®¹å™¨"><a href="#åœæ­¢ä¸å¯åŠ¨å®¹å™¨" class="headerlink" title="åœæ­¢ä¸å¯åŠ¨å®¹å™¨"></a>åœæ­¢ä¸å¯åŠ¨å®¹å™¨</h3><p>åœæ­¢å®¹å™¨ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker stop å®¹å™¨åç§°ï¼ˆæˆ–è€…å®¹å™¨IDï¼‰</span><br></pre></td></tr></table></figure><p>å¯åŠ¨å®¹å™¨ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker start å®¹å™¨åç§°ï¼ˆæˆ–è€…å®¹å™¨IDï¼‰</span><br></pre></td></tr></table></figure><h3 id="æ–‡ä»¶æ‹·è´"><a href="#æ–‡ä»¶æ‹·è´" class="headerlink" title="æ–‡ä»¶æ‹·è´"></a>æ–‡ä»¶æ‹·è´</h3><p>å¦‚æœæˆ‘ä»¬éœ€è¦å°†æ–‡ä»¶æ‹·è´åˆ°å®¹å™¨å†…å¯ä»¥ä½¿ç”¨cpå‘½ä»¤</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker cp éœ€è¦æ‹·è´çš„æ–‡ä»¶æˆ–ç›®å½• å®¹å™¨åç§°:å®¹å™¨ç›®å½•</span><br></pre></td></tr></table></figure><p>ä¹Ÿå¯ä»¥å°†æ–‡ä»¶ä»å®¹å™¨å†…æ‹·è´å‡ºæ¥</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker cp å®¹å™¨åç§°:å®¹å™¨ç›®å½• éœ€è¦æ‹·è´çš„æ–‡ä»¶æˆ–ç›®å½•</span><br></pre></td></tr></table></figure><h3 id="ç›®å½•æŒ‚è½½"><a href="#ç›®å½•æŒ‚è½½" class="headerlink" title="ç›®å½•æŒ‚è½½"></a>ç›®å½•æŒ‚è½½</h3><p>æˆ‘ä»¬å¯ä»¥åœ¨åˆ›å»ºå®¹å™¨çš„æ—¶å€™ï¼Œå°†å®¿ä¸»æœºçš„ç›®å½•ä¸å®¹å™¨å†…çš„ç›®å½•è¿›è¡Œæ˜ å°„ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥é€šè¿‡ä¿®æ”¹å®¿ä¸»æœºæŸä¸ªç›®å½•çš„æ–‡ä»¶ä»è€Œå»å½±å“å®¹å™¨ã€‚<br>åˆ›å»ºå®¹å™¨ æ·»åŠ -vå‚æ•° åè¾¹ä¸º   å®¿ä¸»æœºç›®å½•:å®¹å™¨ç›®å½•ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -di -v /usr/local/myhtml:/usr/local/myhtml --name=mycentos3 centos:7</span><br></pre></td></tr></table></figure><p>å¦‚æœä½ å…±äº«çš„æ˜¯å¤šçº§çš„ç›®å½•ï¼Œå¯èƒ½ä¼šå‡ºç°æƒé™ä¸è¶³çš„æç¤ºã€‚</p><p>è¿™æ˜¯å› ä¸ºCentOS7ä¸­çš„å®‰å…¨æ¨¡å—selinuxæŠŠæƒé™ç¦æ‰äº†ï¼Œæˆ‘ä»¬éœ€è¦æ·»åŠ å‚æ•°  â€“privileged=true  æ¥è§£å†³æŒ‚è½½çš„ç›®å½•æ²¡æœ‰æƒé™çš„é—®é¢˜</p><h3 id="æŸ¥çœ‹å®¹å™¨IPåœ°å€"><a href="#æŸ¥çœ‹å®¹å™¨IPåœ°å€" class="headerlink" title="æŸ¥çœ‹å®¹å™¨IPåœ°å€"></a>æŸ¥çœ‹å®¹å™¨IPåœ°å€</h3><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹å®¹å™¨è¿è¡Œçš„å„ç§æ•°æ®</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker inspect å®¹å™¨åç§°ï¼ˆå®¹å™¨IDï¼‰</span><br></pre></td></tr></table></figure><p>ä¹Ÿå¯ä»¥ç›´æ¥æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ç›´æ¥è¾“å‡ºIPåœ°å€</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker inspect --format=&apos;&#123;&#123;.NetworkSettings.IPAddress&#125;&#125;&apos; å®¹å™¨åç§°ï¼ˆå®¹å™¨IDï¼‰</span><br></pre></td></tr></table></figure><h3 id="åˆ é™¤å®¹å™¨"><a href="#åˆ é™¤å®¹å™¨" class="headerlink" title="åˆ é™¤å®¹å™¨"></a>åˆ é™¤å®¹å™¨</h3><p>åˆ é™¤æŒ‡å®šçš„å®¹å™¨ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker rm å®¹å™¨åç§°ï¼ˆå®¹å™¨IDï¼‰</span><br></pre></td></tr></table></figure><h1 id="åº”ç”¨éƒ¨ç½²"><a href="#åº”ç”¨éƒ¨ç½²" class="headerlink" title="åº”ç”¨éƒ¨ç½²"></a>åº”ç”¨éƒ¨ç½²</h1><h2 id="MySQLéƒ¨ç½²"><a href="#MySQLéƒ¨ç½²" class="headerlink" title="MySQLéƒ¨ç½²"></a>MySQLéƒ¨ç½²</h2><p>ï¼ˆ1ï¼‰æ‹‰å–mysqlé•œåƒ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull centos/mysql-57-centos7</span><br></pre></td></tr></table></figure><p>ï¼ˆ2ï¼‰åˆ›å»ºå®¹å™¨</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -di --name=tensquare_mysql -p 33306:3306 -e MYSQL_ROOT_PASSWORD=root mysql</span><br></pre></td></tr></table></figure><p>-p ä»£è¡¨ç«¯å£æ˜ å°„ï¼Œæ ¼å¼ä¸º  å®¿ä¸»æœºæ˜ å°„ç«¯å£:å®¹å™¨è¿è¡Œç«¯å£</p><p>-e ä»£è¡¨æ·»åŠ ç¯å¢ƒå˜é‡  MYSQL_ROOT_PASSWORD  æ˜¯rootç”¨æˆ·çš„ç™»é™†å¯†ç </p><p>ï¼ˆ3ï¼‰è¿œç¨‹ç™»å½•mysql</p><p>è¿æ¥å®¿ä¸»æœºçš„IP  ,æŒ‡å®šç«¯å£ä¸º33306 </p><h2 id="tomcatéƒ¨ç½²"><a href="#tomcatéƒ¨ç½²" class="headerlink" title="tomcatéƒ¨ç½²"></a>tomcatéƒ¨ç½²</h2><p>ï¼ˆ1ï¼‰æ‹‰å–é•œåƒ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull tomcat:7-jre7</span><br></pre></td></tr></table></figure><p>ï¼ˆ2ï¼‰åˆ›å»ºå®¹å™¨</p><p>åˆ›å»ºå®¹å™¨  -pè¡¨ç¤ºåœ°å€æ˜ å°„</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker run -di --name=mytomcat -p 9000:8080 </span><br><span class="line">-v /usr/local/webapps:/usr/local/tomcat/webapps tomcat:7-jre7</span><br></pre></td></tr></table></figure><h2 id="Nginxéƒ¨ç½²"><a href="#Nginxéƒ¨ç½²" class="headerlink" title="Nginxéƒ¨ç½²"></a>Nginxéƒ¨ç½²</h2><p>ï¼ˆ1ï¼‰æ‹‰å–é•œåƒ    </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull nginx</span><br></pre></td></tr></table></figure><p>ï¼ˆ2ï¼‰åˆ›å»ºNginxå®¹å™¨</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -di --name=mynginx -p 80:80 nginx</span><br></pre></td></tr></table></figure><h2 id="Rediséƒ¨ç½²"><a href="#Rediséƒ¨ç½²" class="headerlink" title="Rediséƒ¨ç½²"></a>Rediséƒ¨ç½²</h2><p>ï¼ˆ1ï¼‰æ‹‰å–é•œåƒ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull redis</span><br></pre></td></tr></table></figure><p>ï¼ˆ2ï¼‰åˆ›å»ºå®¹å™¨</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -di --name=myredis -p 6379:6379 redis</span><br></pre></td></tr></table></figure><p>ï¼ˆ3ï¼‰é€šè¿‡reids-cliè®¿é—®æœåŠ¡ç«¯</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">å…ˆè¿›å…¥redis-cli.exeæ‰€åœ¨ç›®å½•</span><br><span class="line">redis-cli -h ä¸»æœºIP</span><br></pre></td></tr></table></figure><h1 id="è¿ç§»ä¸å¤‡ä»½"><a href="#è¿ç§»ä¸å¤‡ä»½" class="headerlink" title="è¿ç§»ä¸å¤‡ä»½"></a>è¿ç§»ä¸å¤‡ä»½</h1><h2 id="å®¹å™¨ä¿å­˜ä¸ºé•œåƒ"><a href="#å®¹å™¨ä¿å­˜ä¸ºé•œåƒ" class="headerlink" title="å®¹å™¨ä¿å­˜ä¸ºé•œåƒ"></a>å®¹å™¨ä¿å­˜ä¸ºé•œåƒ</h2><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤å°†å®¹å™¨ä¿å­˜ä¸ºé•œåƒ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#docker commit å®¹å™¨çš„åå­— é•œåƒçš„åå­—</span><br><span class="line">docker commit mynginx mynginx_i</span><br></pre></td></tr></table></figure><h2 id="é•œåƒå¤‡ä»½"><a href="#é•œåƒå¤‡ä»½" class="headerlink" title="é•œåƒå¤‡ä»½"></a>é•œåƒå¤‡ä»½</h2><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤å°†é•œåƒä¿å­˜ä¸ºtar æ–‡ä»¶</p><p>åœ¨å“ªä¸ªç›®å½•æ‰§è¡Œè¯¥å‘½ä»¤ï¼Œé‚£ä¹ˆtaræ–‡ä»¶å°±è¢«ä¿å­˜åˆ°å“ªä¸ªç›®å½•ä¸‹</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#docker  save -o è¦ä¿å­˜çš„æ–‡ä»¶çš„åå­—.tar é•œåƒçš„åå­—</span><br><span class="line">docker  save -o mynginx.tar mynginx_i</span><br></pre></td></tr></table></figure><h2 id="é•œåƒæ¢å¤ä¸è¿ç§»"><a href="#é•œåƒæ¢å¤ä¸è¿ç§»" class="headerlink" title="é•œåƒæ¢å¤ä¸è¿ç§»"></a>é•œåƒæ¢å¤ä¸è¿ç§»</h2><p>é¦–å…ˆæˆ‘ä»¬å…ˆåˆ é™¤æ‰mynginx_imgé•œåƒ  ç„¶åæ‰§è¡Œæ­¤å‘½ä»¤è¿›è¡Œæ¢å¤</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">//å…ˆè¿›å…¥åˆ°å­˜æ”¾taræ–‡ä»¶çš„ç›®å½•</span><br><span class="line">#docker load -i mynginx.tar</span><br><span class="line">docker load -i mynginx.tar</span><br></pre></td></tr></table></figure><p>-i è¾“å…¥çš„æ–‡ä»¶</p><p>æ‰§è¡Œåå†æ¬¡æŸ¥çœ‹é•œåƒï¼Œå¯ä»¥çœ‹åˆ°é•œåƒå·²ç»æ¢å¤</p><h1 id="Dockerfile"><a href="#Dockerfile" class="headerlink" title="Dockerfile"></a>Dockerfile</h1><h2 id="ä»€ä¹ˆæ˜¯Dockerfile"><a href="#ä»€ä¹ˆæ˜¯Dockerfile" class="headerlink" title="ä»€ä¹ˆæ˜¯Dockerfile"></a>ä»€ä¹ˆæ˜¯Dockerfile</h2><p>Dockerfileæ˜¯ç”±ä¸€ç³»åˆ—å‘½ä»¤å’Œå‚æ•°æ„æˆçš„è„šæœ¬ï¼Œè¿™äº›å‘½ä»¤åº”ç”¨äºåŸºç¡€é•œåƒå¹¶æœ€ç»ˆåˆ›å»ºä¸€ä¸ªæ–°çš„é•œåƒã€‚</p><p>1ã€å¯¹äºå¼€å‘äººå‘˜ï¼šå¯ä»¥ä¸ºå¼€å‘å›¢é˜Ÿæä¾›ä¸€ä¸ªå®Œå…¨ä¸€è‡´çš„å¼€å‘ç¯å¢ƒï¼›<br>2ã€å¯¹äºæµ‹è¯•äººå‘˜ï¼šå¯ä»¥ç›´æ¥æ‹¿å¼€å‘æ—¶æ‰€æ„å»ºçš„é•œåƒæˆ–è€…é€šè¿‡Dockerfileæ–‡ä»¶æ„å»ºä¸€ä¸ªæ–°çš„é•œåƒå¼€å§‹å·¥ä½œäº†ï¼›<br>3ã€å¯¹äºè¿ç»´äººå‘˜ï¼šåœ¨éƒ¨ç½²æ—¶ï¼Œå¯ä»¥å®ç°åº”ç”¨çš„æ— ç¼ç§»æ¤ã€‚</p><h2 id="å¸¸ç”¨å‘½ä»¤-1"><a href="#å¸¸ç”¨å‘½ä»¤-1" class="headerlink" title="å¸¸ç”¨å‘½ä»¤"></a>å¸¸ç”¨å‘½ä»¤</h2><table><thead><tr><th>å‘½ä»¤</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td>FROM image_name:tag</td><td>å®šä¹‰äº†ä½¿ç”¨å“ªä¸ªåŸºç¡€é•œåƒå¯åŠ¨æ„å»ºæµç¨‹</td></tr><tr><td>MAINTAINER user_name</td><td>å£°æ˜é•œåƒçš„åˆ›å»ºè€…</td></tr><tr><td>ENV key value</td><td>è®¾ç½®ç¯å¢ƒå˜é‡ (å¯ä»¥å†™å¤šæ¡)</td></tr><tr><td>RUN command</td><td>æ˜¯Dockerfileçš„æ ¸å¿ƒéƒ¨åˆ†(å¯ä»¥å†™å¤šæ¡)</td></tr><tr><td>ADD source_dir/file dest_dir/file</td><td>å°†å®¿ä¸»æœºçš„æ–‡ä»¶å¤åˆ¶åˆ°å®¹å™¨å†…ï¼Œå¦‚æœæ˜¯ä¸€ä¸ªå‹ç¼©æ–‡ä»¶ï¼Œå°†ä¼šåœ¨å¤åˆ¶åè‡ªåŠ¨è§£å‹</td></tr><tr><td>COPY source_dir/file dest_dir/file</td><td>å’ŒADDç›¸ä¼¼ï¼Œä½†æ˜¯å¦‚æœæœ‰å‹ç¼©æ–‡ä»¶å¹¶ä¸èƒ½è§£å‹</td></tr><tr><td>WORKDIR path_dir</td><td>è®¾ç½®å·¥ä½œç›®å½•</td></tr></tbody></table><h2 id="ä½¿ç”¨è„šæœ¬åˆ›å»ºé•œåƒ"><a href="#ä½¿ç”¨è„šæœ¬åˆ›å»ºé•œåƒ" class="headerlink" title="ä½¿ç”¨è„šæœ¬åˆ›å»ºé•œåƒ"></a>ä½¿ç”¨è„šæœ¬åˆ›å»ºé•œåƒ</h2><p>æ­¥éª¤ï¼š</p><p>ï¼ˆ1ï¼‰åˆ›å»ºç›®å½•</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir â€“p /usr/local/dockerjdk8</span><br></pre></td></tr></table></figure><p>ï¼ˆ2ï¼‰ä¸‹è½½jdk-8u171-linux-x64.tar.gzå¹¶ä¸Šä¼ åˆ°æœåŠ¡å™¨ï¼ˆè™šæ‹Ÿæœºï¼‰ä¸­çš„/usr/local/dockerjdk8ç›®å½•</p><p>ï¼ˆ3ï¼‰åˆ›å»ºæ–‡ä»¶Dockerfile  <code>vi Dockerfile</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">#ä¾èµ–é•œåƒåç§°å’ŒID</span><br><span class="line">FROM centos:7</span><br><span class="line">#æŒ‡å®šé•œåƒåˆ›å»ºè€…ä¿¡æ¯</span><br><span class="line">MAINTAINER ITCAST</span><br><span class="line">#åˆ‡æ¢å·¥ä½œç›®å½•</span><br><span class="line">WORKDIR /usr</span><br><span class="line">RUN mkdir  /usr/local/java</span><br><span class="line">#ADD æ˜¯ç›¸å¯¹è·¯å¾„jar,æŠŠjavaæ·»åŠ åˆ°å®¹å™¨ä¸­</span><br><span class="line">ADD jdk-8u171-linux-x64.tar.gz /usr/local/java/</span><br><span class="line"></span><br><span class="line">#é…ç½®javaç¯å¢ƒå˜é‡</span><br><span class="line">ENV JAVA_HOME /usr/local/java/jdk1.8.0_171</span><br><span class="line">ENV JRE_HOME $JAVA_HOME/jre</span><br><span class="line">ENV CLASSPATH $JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar:$JRE_HOME/lib:$CLASSPATH</span><br><span class="line">ENV PATH $JAVA_HOME/bin:$PATH</span><br></pre></td></tr></table></figure><p>JDK1.7</p><p>1.åœ¨usr/local/javaç›®å½•ä¸‹ä¸Šä¼ JDK1.7.GZæ–‡ä»¶</p><p>2.å°†è¯¥æ–‡ä»¶è§£å‹(tar -zxvf xxxx.gz)åˆ°å½“å‰ç›®å½•ï¼Œä¼šçœ‹åˆ°ä¸€ä¸ªæ–‡ä»¶å¤¹jdk1.7.0_75</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">#ä¾èµ–é•œåƒåç§°å’ŒID</span><br><span class="line">FROM centos:7</span><br><span class="line">#æŒ‡å®šé•œåƒåˆ›å»ºè€…ä¿¡æ¯</span><br><span class="line">MAINTAINER ITCAST</span><br><span class="line">#åˆ‡æ¢å·¥ä½œç›®å½•</span><br><span class="line">WORKDIR /usr</span><br><span class="line">RUN mkdir  /usr/local/java</span><br><span class="line">#è¡¨ç¤ºæŠŠ/usr/local/java/jdk1.7.0_75ç›®å½•ä¸‹çš„ä¸œè¥¿ï¼Œæ‹·è´åˆ°æ–°çš„é•œåƒä¸­çš„/usr/local/java/</span><br><span class="line">COPY jdk1.7.0_75 /usr/local/java/</span><br><span class="line"></span><br><span class="line">#é…ç½®javaç¯å¢ƒå˜é‡</span><br><span class="line">ENV JAVA_HOME /usr/local/java/</span><br><span class="line">ENV PATH $JAVA_HOME/bin:$PATH</span><br></pre></td></tr></table></figure><h3 id="æ³¨æ„äº‹é¡¹"><a href="#æ³¨æ„äº‹é¡¹" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h3><p>æ‰€æœ‰çš„æ–‡ä»¶éƒ½åœ¨/usr/local/javaç›®å½•ä¸‹</p><p>åœ¨/usr/local/javaç›®å½•ä¸‹çš„æ–‡ä»¶æœ‰</p><p>â€‹    jdk1.7.0_75 </p><pre><code>jdk-7u75-linux-x64.tar.gz</code></pre><p>â€‹    Dockerfile</p><p>ï¼ˆ4ï¼‰æ‰§è¡Œå‘½ä»¤æ„å»ºé•œåƒ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker build -t=&apos;jdk1.8&apos; .</span><br></pre></td></tr></table></figure><p>æ³¨æ„åè¾¹çš„ç©ºæ ¼å’Œç‚¹ï¼Œä¸è¦çœç•¥</p><p>ï¼ˆ5ï¼‰æŸ¥çœ‹é•œåƒæ˜¯å¦å»ºç«‹å®Œæˆ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker images</span><br></pre></td></tr></table></figure><h1 id="Dockerç§æœ‰ä»“åº“"><a href="#Dockerç§æœ‰ä»“åº“" class="headerlink" title="Dockerç§æœ‰ä»“åº“"></a>Dockerç§æœ‰ä»“åº“</h1><h2 id="ç§æœ‰ä»“åº“æ­å»ºä¸é…ç½®"><a href="#ç§æœ‰ä»“åº“æ­å»ºä¸é…ç½®" class="headerlink" title="ç§æœ‰ä»“åº“æ­å»ºä¸é…ç½®"></a>ç§æœ‰ä»“åº“æ­å»ºä¸é…ç½®</h2><p>ï¼ˆ1ï¼‰æ‹‰å–ç§æœ‰ä»“åº“é•œåƒï¼ˆæ­¤æ­¥çœç•¥ï¼‰</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull registry</span><br></pre></td></tr></table></figure><p>ï¼ˆ2ï¼‰å¯åŠ¨ç§æœ‰ä»“åº“å®¹å™¨</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -di --name=registry -p 5000:5000 registry</span><br></pre></td></tr></table></figure><p>ï¼ˆ3ï¼‰æ‰“å¼€æµè§ˆå™¨ è¾“å…¥åœ°å€<a href="http://192.168.184.141:5000/v2/_catalogçœ‹åˆ°`{&quot;repositories&quot;:[]}`" target="_blank" rel="noopener">http://192.168.184.141:5000/v2/_catalogçœ‹åˆ°`{&quot;repositories&quot;:[]}`</a> è¡¨ç¤ºç§æœ‰ä»“åº“æ­å»ºæˆåŠŸå¹¶ä¸”å†…å®¹ä¸ºç©º</p><p>ï¼ˆ4ï¼‰ä¿®æ”¹daemon.json</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/docker/daemon.json</span><br></pre></td></tr></table></figure><p>æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼Œä¿å­˜é€€å‡ºã€‚</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="attr">"insecure-registries"</span>:[<span class="string">"192.168.184.141:5000"</span>]&#125;</span><br></pre></td></tr></table></figure><p>æ­¤æ­¥ç”¨äºè®© dockerä¿¡ä»»ç§æœ‰ä»“åº“åœ°å€</p><p>ï¼ˆ5ï¼‰é‡å¯docker æœåŠ¡</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl restart docker</span><br></pre></td></tr></table></figure><h2 id="é•œåƒä¸Šä¼ è‡³ç§æœ‰ä»“åº“"><a href="#é•œåƒä¸Šä¼ è‡³ç§æœ‰ä»“åº“" class="headerlink" title="é•œåƒä¸Šä¼ è‡³ç§æœ‰ä»“åº“"></a>é•œåƒä¸Šä¼ è‡³ç§æœ‰ä»“åº“</h2><p>ï¼ˆ1ï¼‰æ ‡è®°æ­¤é•œåƒä¸ºç§æœ‰ä»“åº“çš„é•œåƒ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker tag jdk1.8 192.168.184.141:5000/jdk1.8</span><br></pre></td></tr></table></figure><p>ï¼ˆ2ï¼‰å†æ¬¡å¯åŠ¨ç§æœå®¹å™¨</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker start registry</span><br></pre></td></tr></table></figure><p>ï¼ˆ3ï¼‰ä¸Šä¼ æ ‡è®°çš„é•œåƒ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker push 192.168.184.141:5000/jdk1.8</span><br></pre></td></tr></table></figure><h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>1.åˆ›å»ºå¹¶è¿è¡Œé•œåƒçš„å‘½ä»¤</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -di --name=å®¹å™¨çš„åå­— -v ä¸»æœºä¸­çš„æ–‡ä»¶å¤¹ å®¹å™¨ä¸­çš„æ–‡ä»¶å¤¹ -p ä¸»æœºä¸­çš„ç«¯å£:å®¹å™¨ä¸­çš„ç«¯å£ é•œåƒå:ç‰ˆæœ¬</span><br></pre></td></tr></table></figure><p>-d åå°è¿è¡Œ</p><p>-i å»ºç«‹ä¸»æœºå’Œå®¹å™¨çš„äº¤äº’ï¼Œå¦‚æœdockerå‘ç°ä¸»æœºå’Œå®¹å™¨æ²¡æœ‰äº¤äº’å…³ç³»ï¼Œé‚£ä¹ˆå°±ä¼šè‡ªåŠ¨æŠŠå®¹å™¨å…³é—­</p><p>-v è®©ä¸»æœºä¸­çš„æ–‡ä»¶å¤¹å’Œå®¹å™¨ä¸­çš„äº§ç”Ÿæ˜ å°„å…³ç³»ï¼Œä¸»æœºä¸­çš„ä¿®æ”¹åï¼Œå®¹å™¨ä¸­çš„æ–‡ä»¶å¤¹ä¼šè‡ªåŠ¨ä¿®æ”¹</p><p>-p è®©ä¸»æœºçš„ç«¯å£å’Œå®¹å™¨ä¸­çš„ç«¯å£äº§ç”Ÿæ˜ å°„å…³ç³»</p><p>2.åˆ é™¤é•œåƒ</p><p>docker rmi é•œåƒå</p><p>3.åˆ é™¤å®¹å™¨</p><p>docker rm å®¹å™¨åæˆ–å®¹å™¨ID</p><p>4.å¦‚ä½•æŸ¥çœ‹dockerä¸­çš„è¿›ç¨‹</p><p>docker ps -a</p><p>5.å…³é—­å’Œå¯åŠ¨å®¹å™¨</p><p>docker start ID</p><p>docker stop ID</p><p>6.å…³é—­å’Œå¯åŠ¨Docker</p><p>systemctl start docker</p><p>systemctl stop docker</p><p>7.å°†ä¸»æœºä¸­çš„æ•°æ®æ‹·è´åˆ°å®¹å™¨ä¸­</p><p>docker cp ä¸»æœºä¸­çš„æ–‡ä»¶å¤¹è·¯åŠ² å®¹å™¨å:å®¹å™¨ä¸­çš„è·¯åŠ²//æŠŠä¸»æœºä¸­çš„æ•°æ®æ‹·è´åˆ°å®¹å™¨ä¸­</p><p>docker cp å®¹å™¨å:å®¹å™¨ä¸­çš„è·¯åŠ² ä¸»æœºä¸­çš„æ–‡ä»¶å¤¹è·¯åŠ²//æŠŠå®¹å™¨ä¸­çš„æ•°æ®æ‹·è´åˆ°ä¸»æœºä¸­</p><p>8.å°†å½“å‰ç•Œé¢åˆ‡æ¢åˆ°åˆ°å®¹å™¨ä¸­</p><p>â€‹    [root@localhost]ï¼š#=&gt;[root@å®¹å™¨ID]ï¼š#</p><p>â€‹    docker exec -it d146d4ae5b19 /bin/bash</p><p>â€‹    [root@å®¹å™¨ID]=&gt;[root@localhost]</p><p>â€‹    exit</p><p>9.æŸ¥çœ‹å®¹å™¨çš„IPåœ°å€</p><p>â€‹    docker inspect å®¹å™¨ID</p><p>10.å°†å½“å‰çš„å®¹å™¨å˜æˆé•œåƒ</p><p>â€‹    docker commit å®¹å™¨å æ–°çš„é•œåƒå</p>]]></content>
      
      
      <categories>
          
          <category> Docker </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Docker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¿«é€Ÿæ­å»ºSpringBoot2.0å¼€å‘ç¯å¢ƒ</title>
      <link href="/2019/07/13/SpringBoot/SpringBoot2.0/SpringBoot2.0/"/>
      <url>/2019/07/13/SpringBoot/SpringBoot2.0/SpringBoot2.0/</url>
      
        <content type="html"><![CDATA[<h1 id="ä¸ºä»€ä¹ˆè¦å­¦ä¹ SpringBoot"><a href="#ä¸ºä»€ä¹ˆè¦å­¦ä¹ SpringBoot" class="headerlink" title="ä¸ºä»€ä¹ˆè¦å­¦ä¹ SpringBoot"></a>ä¸ºä»€ä¹ˆè¦å­¦ä¹ SpringBoot</h1><h2 id="Springçš„ç¼ºç‚¹"><a href="#Springçš„ç¼ºç‚¹" class="headerlink" title="Springçš„ç¼ºç‚¹"></a>Springçš„ç¼ºç‚¹</h2><p>é…ç½®æ–‡ä»¶ç¹ç</p><p>å¼•å…¥çš„ä¾èµ–è¿‡å¤š</p><p>é…ç½®æ–‡ä»¶å’Œä¸šåŠ¡é€»è¾‘ä¹‹é—´éœ€è¦é¢‘ç¹çš„åˆ‡æ¢</p><h2 id="SpringBootçš„ä¼˜ç‚¹"><a href="#SpringBootçš„ä¼˜ç‚¹" class="headerlink" title="SpringBootçš„ä¼˜ç‚¹"></a>SpringBootçš„ä¼˜ç‚¹</h2><p>æä¾›äº†é»˜è®¤çš„æœ€ä¼˜é…ç½®</p><p>å¼•å…¥çš„ä¾èµ–å°‘</p><p>Springå¯ä»¥ä¸ä½¿ç”¨XMLé…ç½®Beanï¼Œä½¿ç”¨æ³¨è§£æ³¨è§£é…ç½®</p><h1 id="æ ¸å¿ƒåŠŸèƒ½"><a href="#æ ¸å¿ƒåŠŸèƒ½" class="headerlink" title="æ ¸å¿ƒåŠŸèƒ½"></a>æ ¸å¿ƒåŠŸèƒ½</h1><h2 id="èµ·æ­¥ä¾èµ–"><a href="#èµ·æ­¥ä¾èµ–" class="headerlink" title="èµ·æ­¥ä¾èµ–"></a>èµ·æ­¥ä¾èµ–</h2><p>å¥½å¤„ï¼šå¯¼å…¥ä¸€ä¸ªä¾èµ–ï¼Œè¿™ä¸ªä¾èµ–ä¼šå¼•ç”¨å…¶ä»–ä¾èµ–</p><h2 id="è‡ªåŠ¨é…ç½®"><a href="#è‡ªåŠ¨é…ç½®" class="headerlink" title="è‡ªåŠ¨é…ç½®"></a>è‡ªåŠ¨é…ç½®</h2><p>æœ‰é»˜è®¤çš„é…ç½®ï¼Œå¯åŠ¨çš„æ—¶å€™ä¼šä½¿ç”¨é»˜è®¤çš„é…ç½®</p><h1 id="åŒ…ç»“æ„"><a href="#åŒ…ç»“æ„" class="headerlink" title="åŒ…ç»“æ„"></a>åŒ…ç»“æ„</h1><h2 id="Sping-Boot-å»ºè®®çš„åŒ…ç»“æ„"><a href="#Sping-Boot-å»ºè®®çš„åŒ…ç»“æ„" class="headerlink" title="Sping Boot å»ºè®®çš„åŒ…ç»“æ„"></a>Sping Boot å»ºè®®çš„åŒ…ç»“æ„</h2><p>root package ç»“æ„ï¼šcn.giftsstore.myProject</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">myproject</span><br><span class="line"> -src</span><br><span class="line">    - main</span><br><span class="line">         - java</span><br><span class="line">              - cn.giftsstore.myProject</span><br><span class="line">                    - comm</span><br><span class="line">                    - domain</span><br><span class="line">                    - repository</span><br><span class="line">                    - service</span><br><span class="line">                    - web</span><br><span class="line">                    - Application.java</span><br><span class="line">         - resources</span><br><span class="line">              - static</span><br><span class="line">              - templates</span><br><span class="line">              - application.properties</span><br><span class="line">    - test</span><br><span class="line"> -pom.xml</span><br></pre></td></tr></table></figure><h2 id="å„åŒ…åä»‹ç»"><a href="#å„åŒ…åä»‹ç»" class="headerlink" title="å„åŒ…åä»‹ç»"></a>å„åŒ…åä»‹ç»</h2><ul><li>Application.javaï¼šå»ºè®®æ”¾åˆ°æ ¹ç›®å½•ä¸‹é¢ï¼Œæ˜¯é¡¹ç›®çš„å¯åŠ¨ç±»ï¼ŒSpring Boot é¡¹ç›®åªèƒ½æœ‰ä¸€ä¸ª main() æ–¹æ³•ã€‚</li><li>commï¼šç›®å½•å»ºè®®æ”¾ç½®å…¬å…±çš„ç±»ï¼Œå¦‚å…¨å±€çš„é…ç½®æ–‡ä»¶ã€å·¥å…·ç±»ç­‰ã€‚</li><li>domainï¼šç›®å½•ä¸»è¦ç”¨äºå®ä½“ï¼ˆEntityï¼‰ä¸æ•°æ®è®¿é—®å±‚ï¼ˆRepositoryï¼‰ã€‚</li><li>repositoryï¼šæ•°æ®åº“è®¿é—®å±‚ä»£ç ã€‚</li><li>serviceï¼šè¯¥å±‚ä¸»è¦æ˜¯ä¸šåŠ¡ç±»ä»£ç ã€‚</li><li>webï¼šè¯¥å±‚è´Ÿè´£é¡µé¢è®¿é—®æ§åˆ¶ã€‚</li><li>resources ç›®å½•ä¸‹ï¼š<ul><li>staticï¼šç›®å½•å­˜æ”¾ Web è®¿é—®çš„é™æ€èµ„æºï¼Œå¦‚ JSã€CSSã€å›¾ç‰‡ç­‰ã€‚</li><li>templatesï¼šç›®å½•å­˜æ”¾é¡µé¢æ¨¡æ¿(JSPï¼ŒThymeleaf)</li><li>application.propertiesï¼šé¡¹ç›®çš„é…ç½®ä¿¡æ¯ã€‚</li><li>test ç›®å½•å­˜æ”¾å•å…ƒæµ‹è¯•çš„ä»£ç ï¼›pom.xml ç”¨äºé…ç½®é¡¹ç›®ä¾èµ–åŒ…ï¼Œä»¥åŠå…¶ä»–é…ç½®ã€‚</li></ul></li></ul><p>é‡‡ç”¨é»˜è®¤é…ç½®å¯ä»¥çœå»å¾ˆå¤šè®¾ç½®ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥æ ¹æ®è‡ªå·±çš„å–œå¥½æ¥è¿›è¡Œæ›´æ”¹ã€‚æœ€åï¼Œå¯åŠ¨ Application main æ–¹æ³•ï¼Œè‡³æ­¤ä¸€ä¸ª Java é¡¹ç›®æ­å»ºå¥½äº†ï¼</p><h1 id="å¿«é€Ÿåˆ›å»ºSpringBoot2-0å·¥ç¨‹"><a href="#å¿«é€Ÿåˆ›å»ºSpringBoot2-0å·¥ç¨‹" class="headerlink" title="å¿«é€Ÿåˆ›å»ºSpringBoot2.0å·¥ç¨‹"></a>å¿«é€Ÿåˆ›å»ºSpringBoot2.0å·¥ç¨‹</h1><h2 id="åˆ›å»º"><a href="#åˆ›å»º" class="headerlink" title="åˆ›å»º"></a>åˆ›å»º</h2><p><img src="//haoyongliang.gitee.io/2019/07/13/SpringBoot/SpringBoot2.0/SpringBoot2.0/01.png" alt></p><p><img src="//haoyongliang.gitee.io/2019/07/13/SpringBoot/SpringBoot2.0/SpringBoot2.0/02.png" alt></p><p><img src="//haoyongliang.gitee.io/2019/07/13/SpringBoot/SpringBoot2.0/SpringBoot2.0/03.png" alt></p><p><img src="//haoyongliang.gitee.io/2019/07/13/SpringBoot/SpringBoot2.0/SpringBoot2.0/04.png" alt></p><p><img src="//haoyongliang.gitee.io/2019/07/13/SpringBoot/SpringBoot2.0/SpringBoot2.0/05.png" alt></p><h2 id="æµ‹è¯•"><a href="#æµ‹è¯•" class="headerlink" title="æµ‹è¯•"></a>æµ‹è¯•</h2><h3 id="ç¼–å†™æ§åˆ¶å™¨"><a href="#ç¼–å†™æ§åˆ¶å™¨" class="headerlink" title="ç¼–å†™æ§åˆ¶å™¨"></a>ç¼–å†™æ§åˆ¶å™¨</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itheima.controller;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Controller; <span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping; <span class="keyword">import</span> org.springframework.web.bind.annotation.ResponseBody;</span><br><span class="line"> </span><br><span class="line"><span class="meta">@Controller</span> <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">QuickStartController</span> </span>&#123;        </span><br><span class="line">    <span class="meta">@RequestMapping</span>(<span class="string">"/quick"</span>)    </span><br><span class="line">    <span class="meta">@ResponseBody</span>    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">quick</span><span class="params">()</span></span>&#123;        </span><br><span class="line">        <span class="keyword">return</span> <span class="string">"springboot è®¿é—®æˆåŠŸ!"</span>;    </span><br><span class="line">    &#125;    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="è¿è¡Œé¡¹ç›®çš„å¯åŠ¨ç±»"><a href="#è¿è¡Œé¡¹ç›®çš„å¯åŠ¨ç±»" class="headerlink" title="è¿è¡Œé¡¹ç›®çš„å¯åŠ¨ç±»"></a>è¿è¡Œé¡¹ç›®çš„å¯åŠ¨ç±»</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itheima;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.SpringApplication; </span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.autoconfigure.SpringBootApplication;</span><br><span class="line"> </span><br><span class="line"><span class="meta">@SpringBootApplication</span> </span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MySpringBootApplication</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;    </span><br><span class="line">        SpringApplication.run(MySpringBootApplication.class);    </span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="è®¿é—®é¡µé¢"><a href="#è®¿é—®é¡µé¢" class="headerlink" title="è®¿é—®é¡µé¢"></a>è®¿é—®é¡µé¢</h3><p>æ‰“å¼€æµè§ˆå™¨è®¿é—®urlåœ°å€ä¸ºï¼š<a href="http://localhost:8080/quick" target="_blank" rel="noopener">http://localhost:8080/quick</a></p><p><img src="//haoyongliang.gitee.io/2019/07/13/SpringBoot/SpringBoot2.0/SpringBoot2.0/06.png" alt></p><h1 id="é…ç½®çƒ­éƒ¨ç½²"><a href="#é…ç½®çƒ­éƒ¨ç½²" class="headerlink" title="é…ç½®çƒ­éƒ¨ç½²"></a>é…ç½®çƒ­éƒ¨ç½²</h1><p>çƒ­å¯åŠ¨ä¼šæ¶ˆè€—ç³»ç»Ÿæ€§èƒ½ï¼Œå¼€å¯æ—¶æ…é‡ã€‚</p><p>æˆ‘ä»¬åœ¨å¼€å‘ä¸­åå¤ä¿®æ”¹ç±»ã€é¡µé¢ç­‰èµ„æºï¼Œæ¯æ¬¡ä¿®æ”¹åéƒ½æ˜¯éœ€è¦é‡æ–°å¯åŠ¨æ‰ç”Ÿæ•ˆï¼Œè¿™æ ·æ¯æ¬¡å¯åŠ¨éƒ½å¾ˆéº»çƒ¦ï¼Œæµªè´¹äº†å¤§ é‡çš„æ—¶é—´ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä¿®æ”¹ä»£ç åä¸é‡å¯å°±èƒ½ç”Ÿæ•ˆï¼Œåœ¨ pom.xml ä¸­æ·»åŠ å¦‚ä¸‹é…ç½®å°±å¯ä»¥å®ç°è¿™æ ·çš„åŠŸèƒ½ï¼Œæˆ‘ä»¬ç§° ä¹‹ä¸ºçƒ­éƒ¨ç½²</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--çƒ­éƒ¨ç½²é…ç½®--&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span>    </span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span>    </span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-devtools<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼šIDEAè¿›è¡ŒSpringBootçƒ­éƒ¨ç½²å¤±è´¥åŸå› <br>å‡ºç°è¿™ç§æƒ…å†µï¼Œå¹¶ä¸æ˜¯çƒ­éƒ¨ç½²é…ç½®é—®é¢˜ï¼Œå…¶æ ¹æœ¬åŸå› æ˜¯å› ä¸ºIntellij IEDAé»˜è®¤æƒ…å†µä¸‹ä¸ä¼šè‡ªåŠ¨ç¼–è¯‘ï¼Œéœ€è¦å¯¹IDEAè¿› è¡Œè‡ªåŠ¨ç¼–è¯‘çš„è®¾ç½®ï¼Œå¦‚ä¸‹</p><p><img src="//haoyongliang.gitee.io/2019/07/13/SpringBoot/SpringBoot2.0/SpringBoot2.0/07.png" alt></p><h1 id="application-ymlé…ç½®æ–‡ä»¶"><a href="#application-ymlé…ç½®æ–‡ä»¶" class="headerlink" title="application.ymlé…ç½®æ–‡ä»¶"></a>application.ymlé…ç½®æ–‡ä»¶</h1><blockquote><p>SpringBootæ˜¯åŸºäºçº¦å®šçš„ï¼Œæ‰€ä»¥å¾ˆå¤šé…ç½®éƒ½æœ‰é»˜è®¤å€¼ï¼Œä½†å¦‚æœæƒ³ä½¿ç”¨è‡ªå·±çš„é…ç½®æ›¿æ¢é»˜è®¤é…ç½®çš„è¯ï¼Œå°±å¯ä»¥ä½¿ç”¨ application.propertiesæˆ–è€…application.ymlï¼ˆapplication.yamlï¼‰è¿›è¡Œé…ç½®ã€‚<br>SpringBooté»˜è®¤ä¼šä»Resourcesç›®å½•ä¸‹åŠ è½½application.propertiesæˆ–application.ymlï¼ˆapplication.yamlï¼‰æ–‡ä»¶ã€‚å…¶ä¸­ï¼Œapplication.propertiesæ–‡ä»¶æ˜¯é”®å€¼å¯¹ç±»å‹çš„æ–‡ä»¶ï¼Œä¹‹å‰ä¸€ç›´åœ¨ä½¿ç”¨ï¼Œæ‰€ä»¥æ­¤å¤„ä¸åœ¨å¯¹propertiesæ–‡ä»¶çš„æ ¼å¼ è¿›è¡Œé˜è¿°ã€‚é™¤äº†propertiesæ–‡ä»¶å¤–ï¼ŒSpringBootè¿˜å¯ä»¥ä½¿ç”¨ymlæ–‡ä»¶è¿›è¡Œé…ç½®ï¼Œä¸‹é¢å¯¹ymlæ–‡ä»¶è¿›è¡Œè®²è§£ã€‚ </p></blockquote><h2 id="ymlé…ç½®æ–‡ä»¶ç®€ä»‹"><a href="#ymlé…ç½®æ–‡ä»¶ç®€ä»‹" class="headerlink" title="ymlé…ç½®æ–‡ä»¶ç®€ä»‹"></a>ymlé…ç½®æ–‡ä»¶ç®€ä»‹</h2><p>YMLæ–‡ä»¶æ ¼å¼æ˜¯YAML (YAML Aint Markup Language)ç¼–å†™çš„æ–‡ä»¶æ ¼å¼ï¼ŒYAMLæ˜¯ä¸€ç§ç›´è§‚çš„èƒ½å¤Ÿè¢«ç”µè„‘è¯†åˆ«çš„çš„æ•° æ®æ•°æ®åºåˆ—åŒ–æ ¼å¼ï¼Œå¹¶ä¸”å®¹æ˜“è¢«äººç±»é˜…è¯»ï¼Œå®¹æ˜“å’Œè„šæœ¬è¯­è¨€äº¤äº’çš„ï¼Œå¯ä»¥è¢«æ”¯æŒYAMLåº“çš„ä¸åŒçš„ç¼–ç¨‹è¯­è¨€ç¨‹åºå¯¼ å…¥ï¼Œæ¯”å¦‚ï¼š C/C++, Ruby, Python, Java, Perl, C#, PHPç­‰ã€‚YMLæ–‡ä»¶æ˜¯ä»¥æ•°æ®ä¸ºæ ¸å¿ƒçš„ï¼Œæ¯”ä¼ ç»Ÿçš„xmlæ–¹å¼æ›´åŠ ç®€ æ´ã€‚<br>YMLæ–‡ä»¶çš„æ‰©å±•åå¯ä»¥ä½¿ç”¨.ymlæˆ–è€….yamlã€‚ </p><h2 id="ymlé…ç½®æ–‡ä»¶çš„è¯­æ³•"><a href="#ymlé…ç½®æ–‡ä»¶çš„è¯­æ³•" class="headerlink" title="ymlé…ç½®æ–‡ä»¶çš„è¯­æ³•"></a>ymlé…ç½®æ–‡ä»¶çš„è¯­æ³•</h2><h3 id="é…ç½®æ™®é€šæ•°æ®"><a href="#é…ç½®æ™®é€šæ•°æ®" class="headerlink" title="é…ç½®æ™®é€šæ•°æ®"></a>é…ç½®æ™®é€šæ•°æ®</h3><p>è¯­æ³•ï¼š key: value ç¤ºä¾‹ä»£ç </p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">name:</span> <span class="string">haohao</span></span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼švalueä¹‹å‰æœ‰ä¸€ä¸ªç©ºæ ¼</p><h3 id="é…ç½®å¯¹è±¡æ•°æ®"><a href="#é…ç½®å¯¹è±¡æ•°æ®" class="headerlink" title="é…ç½®å¯¹è±¡æ•°æ®"></a>é…ç½®å¯¹è±¡æ•°æ®</h3><p>è¯­æ³•ï¼š<br>  key:<br>  key1: value1<br>  key2: value2<br>  æˆ–è€…ï¼š<br>  key: {key1: value1,key2: value2} ç¤ºä¾‹ä»£ç </p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">person:</span>  </span><br><span class="line"><span class="attr">name:</span> <span class="string">haohao</span>  </span><br><span class="line"><span class="attr">age:</span> <span class="number">31</span>  </span><br><span class="line"><span class="attr">addr:</span> <span class="string">beijing</span></span><br><span class="line"><span class="comment">#æˆ–è€…</span></span><br><span class="line"><span class="attr">person:</span> <span class="string">&#123;name:</span> <span class="string">haohao,age:</span> <span class="number">31</span><span class="string">,addr:</span> <span class="string">beijing&#125;</span></span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼škey1å‰é¢çš„ç©ºæ ¼ä¸ªæ•°ä¸é™å®šï¼Œåœ¨ymlè¯­æ³•ä¸­ï¼Œç›¸åŒç¼©è¿›ä»£è¡¨åŒä¸€ä¸ªçº§åˆ«</p><h3 id="é…ç½®Mapæ•°æ®"><a href="#é…ç½®Mapæ•°æ®" class="headerlink" title="é…ç½®Mapæ•°æ®"></a>é…ç½®Mapæ•°æ®</h3><p>åŒä¸Šé¢çš„å¯¹è±¡å†™æ³•</p><h3 id="é…ç½®æ•°ç»„ï¼ˆListã€Setï¼‰æ•°æ®"><a href="#é…ç½®æ•°ç»„ï¼ˆListã€Setï¼‰æ•°æ®" class="headerlink" title="é…ç½®æ•°ç»„ï¼ˆListã€Setï¼‰æ•°æ®"></a>é…ç½®æ•°ç»„ï¼ˆListã€Setï¼‰æ•°æ®</h3><p>è¯­æ³•ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">key:</span><br><span class="line">- value1</span><br><span class="line">- value2 æˆ–è€…ï¼š</span><br><span class="line">key: [value1,value2]</span><br></pre></td></tr></table></figure><p>ç¤ºä¾‹ä»£ç </p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">city:</span>  </span><br><span class="line"><span class="bullet">-</span> <span class="string">beijing</span>  </span><br><span class="line"><span class="bullet">-</span> <span class="string">tianjin</span>  </span><br><span class="line"><span class="bullet">-</span> <span class="string">shanghai</span>  </span><br><span class="line"><span class="bullet">-</span> <span class="string">chongqing</span>  </span><br><span class="line"><span class="comment">#æˆ–è€…</span></span><br><span class="line"> </span><br><span class="line"><span class="attr">city:</span> <span class="string">[beijing,tianjin,shanghai,chongqing]</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">#é›†åˆä¸­çš„å…ƒç´ æ˜¯å¯¹è±¡å½¢å¼ </span></span><br><span class="line"><span class="attr">student:</span>  </span><br><span class="line"><span class="bullet">-</span> <span class="attr">name:</span> <span class="string">zhangsan</span>    </span><br><span class="line">  <span class="attr">age:</span> <span class="number">18</span>    </span><br><span class="line">  <span class="attr">score:</span> <span class="number">100</span>  </span><br><span class="line"><span class="bullet">-</span> <span class="attr">name:</span> <span class="string">lisi</span>    </span><br><span class="line">  <span class="attr">age:</span> <span class="number">28</span>    </span><br><span class="line">  <span class="attr">score:</span> <span class="number">88</span>  </span><br><span class="line"><span class="bullet">-</span> <span class="attr">name:</span> <span class="string">wangwu</span>    </span><br><span class="line">  <span class="attr">age:</span> <span class="number">38</span>    </span><br><span class="line">  <span class="attr">score:</span> <span class="number">90</span></span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼švalue1ä¸ä¹‹é—´çš„ - ä¹‹é—´å­˜åœ¨ä¸€ä¸ªç©ºæ ¼</p><h2 id="é…ç½®æ–‡ä»¶ä¸é…ç½®ç±»çš„æ˜ å°„æ–¹å¼"><a href="#é…ç½®æ–‡ä»¶ä¸é…ç½®ç±»çš„æ˜ å°„æ–¹å¼" class="headerlink" title="é…ç½®æ–‡ä»¶ä¸é…ç½®ç±»çš„æ˜ å°„æ–¹å¼"></a>é…ç½®æ–‡ä»¶ä¸é…ç½®ç±»çš„æ˜ å°„æ–¹å¼</h2><h3 id="ä½¿ç”¨-Valueæ³¨è§£æ˜ å°„"><a href="#ä½¿ç”¨-Valueæ³¨è§£æ˜ å°„" class="headerlink" title="ä½¿ç”¨@Valueæ³¨è§£æ˜ å°„"></a>ä½¿ç”¨@Valueæ³¨è§£æ˜ å°„</h3><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡@Valueæ³¨è§£å°†é…ç½®æ–‡ä»¶ä¸­çš„å€¼æ˜ å°„åˆ°ä¸€ä¸ªSpringç®¡ç†çš„Beançš„å­—æ®µä¸Š<br>ä¾‹å¦‚ï¼š<br>application.ymlé…ç½®å¦‚ä¸‹ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">person:</span>  </span><br><span class="line"><span class="attr">name:</span> <span class="string">zhangsan</span>  </span><br><span class="line"><span class="attr">age:</span> <span class="number">18</span></span><br></pre></td></tr></table></figure><p>å®ä½“Beanä»£ç å¦‚ä¸‹</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Controller</span> </span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">QuickStartController</span> </span>&#123;</span><br><span class="line"> </span><br><span class="line">    <span class="meta">@Value</span>(<span class="string">"$&#123;person.name&#125;"</span>)    </span><br><span class="line">    <span class="keyword">private</span> String name;    </span><br><span class="line">    <span class="meta">@Value</span>(<span class="string">"$&#123;person.age&#125;"</span>)    </span><br><span class="line">    <span class="keyword">private</span> Integer age;</span><br><span class="line"> </span><br><span class="line">    <span class="meta">@RequestMapping</span>(<span class="string">"/quick"</span>)    </span><br><span class="line">    <span class="meta">@ResponseBody</span>    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">quick</span><span class="params">()</span></span>&#123;        </span><br><span class="line">        <span class="keyword">return</span> <span class="string">"springboot è®¿é—®æˆåŠŸ! name="</span>+name+<span class="string">",age="</span>+age;    </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ä½¿ç”¨-Conï¬gurationPropertiesæ³¨è§£æ˜ å°„"><a href="#ä½¿ç”¨-Conï¬gurationPropertiesæ³¨è§£æ˜ å°„" class="headerlink" title="ä½¿ç”¨@Conï¬gurationPropertiesæ³¨è§£æ˜ å°„"></a>ä½¿ç”¨@Conï¬gurationPropertiesæ³¨è§£æ˜ å°„</h3><p>é€šè¿‡æ³¨è§£@Conï¬gurationProperties(preï¬x=â€é…ç½®æ–‡ä»¶ä¸­çš„keyçš„å‰ç¼€â€)å¯ä»¥å°†é…ç½®æ–‡ä»¶ä¸­çš„é…ç½®è‡ªåŠ¨ä¸å®ä½“è¿›è¡Œæ˜  å°„<br>application.ymlé…ç½®å¦‚ä¸‹</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">person:</span>  </span><br><span class="line"><span class="attr">name:</span> <span class="string">zhangsan</span>  </span><br><span class="line"><span class="attr">age:</span> <span class="number">18</span></span><br></pre></td></tr></table></figure><p>å®ä½“Beanä»£ç å¦‚ä¸‹     </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Controller</span> </span><br><span class="line"><span class="meta">@ConfigurationProperties</span>(prefix = <span class="string">"person"</span>) </span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">QuickStartController</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;    </span><br><span class="line">    <span class="keyword">private</span> Integer age;</span><br><span class="line">    <span class="meta">@RequestMapping</span>(<span class="string">"/quick"</span>)    </span><br><span class="line">    <span class="meta">@ResponseBody</span>    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">quick</span><span class="params">()</span></span>&#123;        </span><br><span class="line">        <span class="keyword">return</span> <span class="string">"springboot è®¿é—®æˆåŠŸ! name="</span>+name+<span class="string">",age="</span>+age;    </span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;        </span><br><span class="line">        <span class="keyword">this</span>.name = name;    </span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAge</span><span class="params">(Integer age)</span> </span>&#123;        </span><br><span class="line">        <span class="keyword">this</span>.age = age;    </span><br><span class="line">    &#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼šä½¿ç”¨@Conï¬gurationPropertiesæ–¹å¼å¯ä»¥è¿›è¡Œé…ç½®æ–‡ä»¶ä¸å®ä½“å­—æ®µçš„è‡ªåŠ¨æ˜ å°„ï¼Œä½†éœ€è¦å­—æ®µå¿…é¡»æä¾›setæ–¹ æ³•æ‰å¯ä»¥ï¼Œè€Œä½¿ç”¨@Valueæ³¨è§£ä¿®é¥°çš„å­—æ®µä¸éœ€è¦æä¾›setæ–¹æ³•</p><h1 id="çº¦å®šä¼˜äºé…ç½®-æ€ä¹ˆä½“ç°çš„"><a href="#çº¦å®šä¼˜äºé…ç½®-æ€ä¹ˆä½“ç°çš„" class="headerlink" title="çº¦å®šä¼˜äºé…ç½®   æ€ä¹ˆä½“ç°çš„"></a>çº¦å®šä¼˜äºé…ç½®   æ€ä¹ˆä½“ç°çš„</h1><p>SpringBootè§£å†³äº†é…ç½®æ–‡ä»¶å’Œä¸šåŠ¡é€»è¾‘ä¸åœåˆ‡æ¢çš„é—®é¢˜</p><p>ä½¿ç”¨SrpingBootå°±ä¸éœ€è¦é…ç½®æ–‡ä»¶äº†ï¼Œç›´æ¥ä½¿ç”¨JAVAæ–‡ä»¶+æ³¨è§£å¼€å‘</p><blockquote><p>ä½¿ç”¨æ³¨è§£(çº¦å®š)ä½œä¸ºé…ç½®æ–‡ä»¶</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyFilterConfiguration</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> FilterRegistrationBean <span class="title">myFilterRegistration</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        FilterRegistrationBean registration = <span class="keyword">new</span> FilterRegistrationBean();</span><br><span class="line"></span><br><span class="line">        registration.setFilter(<span class="keyword">new</span> MyFilter());<span class="comment">//æ·»åŠ è¿‡æ»¤å™¨</span></span><br><span class="line"></span><br><span class="line">        registration.addUrlPatterns(<span class="string">"/"</span>);<span class="comment">//è®¾ç½®è¿‡æ»¤è·¯å¾„ï¼Œ/æ‰€æœ‰è·¯å¾„</span></span><br><span class="line"></span><br><span class="line">        registration.addInitParameter(<span class="string">"name"</span>, <span class="string">"alue"</span>);<span class="comment">//æ·»åŠ é»˜è®¤å‚æ•°</span></span><br><span class="line"></span><br><span class="line">        registration.setName(<span class="string">"MyFilter"</span>);<span class="comment">//è®¾ç½®ä¼˜å…ˆçº§</span></span><br><span class="line"></span><br><span class="line">        registration.setOrder(<span class="number">1</span>);<span class="comment">//è®¾ç½®ä¼˜å…ˆçº§</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> registration;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>ä½¿ç”¨xml(é…ç½®æ–‡ä»¶) ä½œä¸ºé…ç½®æ–‡ä»¶</p></blockquote><ol start="3"><li><p><strong>@Configurationå’Œ@Beanæ³¨è§£è¯´æ˜:</strong></p></li><li><p>@Configuration æ ‡æ³¨åœ¨ç±»ä¸Šï¼Œç›¸å½“äºæŠŠè¯¥ç±»ä½œä¸ºspringçš„xmlé…ç½®æ–‡ä»¶ä¸­çš„ &lt;beans&gt;ï¼Œä½œç”¨ä¸ºï¼šé…ç½®springå®¹å™¨(åº”ç”¨ä¸Šä¸‹æ–‡),ä¸Šæ–‡ä¸­åœ¨MyFilterConfigurationç±»ä¸Šæ·»åŠ äº†è¯¥æ³¨è§£ï¼Œç›¸å½“äºåˆ›å»ºäº†ä¸€ä¸ªbeans.xmlé…ç½®æ–‡ä»¶é‡Œé¢çš„å†…å®¹æ˜¯</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">"http://www.springframework.org/schema/beans"</span> <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag"><span class="attr">xmlns:context</span>=<span class="string">"http://www.springframework.org/schema/context"</span> <span class="attr">xmlns:jdbc</span>=<span class="string">"http://www.springframework.org/schema/jdbc"</span>  </span></span><br><span class="line"><span class="tag"><span class="attr">xmlns:jee</span>=<span class="string">"http://www.springframework.org/schema/jee"</span> <span class="attr">xmlns:tx</span>=<span class="string">"http://www.springframework.org/schema/tx"</span></span></span><br><span class="line"><span class="tag"><span class="attr">xmlns:util</span>=<span class="string">"http://www.springframework.org/schema/util"</span> <span class="attr">xmlns:task</span>=<span class="string">"http://www.springframework.org/schema/task"</span> <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.0.xsd </span></span></span><br><span class="line"><span class="tag"><span class="string">http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.0.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">http://www.springframework.org/schema/jdbc http://www.springframework.org/schema/jdbc/spring-jdbc-4.0.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">http://www.springframework.org/schema/jee http://www.springframework.org/schema/jee/spring-jee-4.0.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-4.0.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-4.0.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">http://www.springframework.org/schema/task http://www.springframework.org/schema/task/spring-task-4.0.xsd"</span> <span class="attr">default-lazy-init</span>=<span class="string">"false"</span> &gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ol><ol start="2"><li>@Beanæ ‡æ³¨åœ¨æ–¹æ³•ä¸Š(è¿”å›æŸä¸ªå®ä¾‹çš„æ–¹æ³•)ï¼Œç­‰ä»·äºspringçš„xmlé…ç½®æ–‡ä»¶ä¸­çš„&lt;bean&gt;ï¼Œä½œç”¨ä¸ºï¼šæ³¨å†Œbeanå¯¹è±¡ã€‚</li></ol><ul><li><p>@Beanæ³¨è§£åœ¨è¿”å›å®ä¾‹çš„æ–¹æ³•ä¸Šï¼Œå¦‚æœæœªé€šè¿‡@BeanæŒ‡å®šbeançš„åç§°ï¼Œåˆ™é»˜è®¤ä¸æ ‡æ³¨çš„æ–¹æ³•åç›¸åŒã€‚</p></li><li><p>@Beanæ³¨è§£é»˜è®¤ä½œç”¨åŸŸä¸ºå•ä¾‹singletonä½œç”¨åŸŸï¼Œå¯é€šè¿‡@Scope(â€œprototypeâ€)è®¾ç½®ä¸ºåŸå‹ä½œç”¨åŸŸ</p><p>ä¸Šæ–‡ä¸­åœ¨myFilterRegistration()æ–¹æ³•ä¸ŠåŠ äº†@Beanæ³¨è§£ï¼Œè¡¨ç¤ºåœ¨springå¯åŠ¨çš„æ—¶å€™ä¼šæ‰§è¡Œè¯¥æ–¹æ³•å¹¶å°†ç»“æœä½œä¸ºä¸€ä¸ªbeanæ³¨å†Œåˆ°å®¹å™¨ä¸­ï¼Œè¯¥beançš„åå­—æ˜¯â€myFilterRegistrationâ€</p></li></ul><h1 id="è‡ªåŠ¨é…ç½®åŸç†"><a href="#è‡ªåŠ¨é…ç½®åŸç†" class="headerlink" title="è‡ªåŠ¨é…ç½®åŸç†"></a>è‡ªåŠ¨é…ç½®åŸç†</h1><ul><li><p>åœ¨ <code>META-INF\spring.fatories</code>æ–‡ä»¶ä¸­å®šä¹‰äº†å¾ˆå¤šè‡ªåŠ¨é…ç½®ç±»ï¼›å¯ä»¥æ ¹æ®åœ¨pom.xmlæ–‡ä»¶ä¸­æ·»åŠ çš„ å¯åŠ¨å™¨ä¾èµ–è‡ªåŠ¨é…ç½®ç»„ä»¶ ctrl+shift+n æœç´¢spring.factories</p></li><li><p>é€šè¿‡å¦‚ä¸‹æµç¨‹å¯ä»¥å»ä¿®æ”¹applicationé…ç½®æ–‡ä»¶ï¼Œæ”¹å˜è‡ªåŠ¨é…ç½®çš„ç»„ä»¶é»˜è®¤å‚æ•°</p><p><img src="//haoyongliang.gitee.io/2019/07/13/SpringBoot/SpringBoot2.0/SpringBoot2.0/11.png" alt></p></li></ul><h1 id="SpringBootä¸æ•´åˆå…¶ä»–æŠ€æœ¯"><a href="#SpringBootä¸æ•´åˆå…¶ä»–æŠ€æœ¯" class="headerlink" title="SpringBootä¸æ•´åˆå…¶ä»–æŠ€æœ¯"></a>SpringBootä¸æ•´åˆå…¶ä»–æŠ€æœ¯</h1><h2 id="æ•´åˆSpringMVCä»¥åŠé…ç½®"><a href="#æ•´åˆSpringMVCä»¥åŠé…ç½®" class="headerlink" title="æ•´åˆSpringMVCä»¥åŠé…ç½®"></a>æ•´åˆSpringMVCä»¥åŠé…ç½®</h2><p>ä¿®æ”¹Tomcatç«¯å£å·</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#tomcatç«¯å£</span></span><br><span class="line"><span class="attr">server:</span></span><br><span class="line"><span class="attr">  port:</span> <span class="number">80</span></span><br></pre></td></tr></table></figure><p>é™æ€èµ„æºå­˜æ”¾ç›®å½•</p><h2 id="æ•´åˆMybatis"><a href="#æ•´åˆMybatis" class="headerlink" title="æ•´åˆMybatis"></a>æ•´åˆMybatis</h2><h3 id="æ·»åŠ Mybatisçš„èµ·æ­¥ä¾"><a href="#æ·»åŠ Mybatisçš„èµ·æ­¥ä¾" class="headerlink" title="æ·»åŠ Mybatisçš„èµ·æ­¥ä¾"></a>æ·»åŠ Mybatisçš„èµ·æ­¥ä¾</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--mybatisèµ·æ­¥ä¾èµ–--&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span>    </span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis.spring.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span>    </span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-spring-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span>    </span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.1.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="æ·»åŠ æ•°æ®åº“é©±åŠ¨åæ ‡"><a href="#æ·»åŠ æ•°æ®åº“é©±åŠ¨åæ ‡" class="headerlink" title="æ·»åŠ æ•°æ®åº“é©±åŠ¨åæ ‡"></a>æ·»åŠ æ•°æ®åº“é©±åŠ¨åæ ‡</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- MySQLè¿æ¥é©±åŠ¨ --&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span>    </span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span>    </span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="æ·»åŠ æ•°æ®åº“è¿æ¥ä¿¡æ¯"><a href="#æ·»åŠ æ•°æ®åº“è¿æ¥ä¿¡æ¯" class="headerlink" title="æ·»åŠ æ•°æ®åº“è¿æ¥ä¿¡æ¯"></a>æ·»åŠ æ•°æ®åº“è¿æ¥ä¿¡æ¯</h3><p>åœ¨application.propertiesä¸­æ·»åŠ æ•°æ®é‡çš„è¿æ¥ä¿¡æ¯ </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#DB Configuration: </span><br><span class="line">spring.datasource.driverClassName=com.mysql.jdbc.Driver </span><br><span class="line">spring.datasource.url=jdbc:mysql://127.0.0.1:3306/test? useUnicode=true&amp;characterEncoding=utf8 </span><br><span class="line">spring.datasource.username=root </span><br><span class="line">spring.datasource.password=root</span><br></pre></td></tr></table></figure><h3 id="åˆ›å»ºuserè¡¨"><a href="#åˆ›å»ºuserè¡¨" class="headerlink" title="åˆ›å»ºuserè¡¨"></a>åˆ›å»ºuserè¡¨</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- ----------------------------- Table structure for `user` -- ---------------------------</span></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> <span class="keyword">IF</span> <span class="keyword">EXISTS</span> <span class="string">`user`</span>; </span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="string">`user`</span> (</span><br><span class="line">    <span class="string">`id`</span> <span class="built_in">int</span>(<span class="number">11</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span> AUTO_INCREMENT,</span><br><span class="line">    <span class="string">`username`</span> <span class="built_in">varchar</span>(<span class="number">50</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span>,</span><br><span class="line">    <span class="string">`password`</span> <span class="built_in">varchar</span>(<span class="number">50</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span>,</span><br><span class="line">    <span class="string">`name`</span> <span class="built_in">varchar</span>(<span class="number">50</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span>,</span><br><span class="line">    PRIMARY <span class="keyword">KEY</span> (<span class="string">`id`</span>) ) <span class="keyword">ENGINE</span>=<span class="keyword">InnoDB</span> AUTO_INCREMENT=<span class="number">10</span> <span class="keyword">DEFAULT</span> <span class="keyword">CHARSET</span>=utf8;</span><br><span class="line">    </span><br><span class="line"><span class="comment">-- ----------------------------- Records of user -- ---------------------------</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="string">`user`</span> <span class="keyword">VALUES</span> (<span class="string">'1'</span>, <span class="string">'zhangsan'</span>, <span class="string">'123'</span>, <span class="string">'å¼ ä¸‰'</span>); </span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="string">`user`</span> <span class="keyword">VALUES</span> (<span class="string">'2'</span>, <span class="string">'lisi'</span>, <span class="string">'123'</span>, <span class="string">'æå››'</span>);</span><br></pre></td></tr></table></figure><h3 id="åˆ›å»ºå®ä½“Bean"><a href="#åˆ›å»ºå®ä½“Bean" class="headerlink" title="åˆ›å»ºå®ä½“Bean"></a>åˆ›å»ºå®ä½“Bean</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;    </span><br><span class="line">    <span class="comment">// ä¸»é”®    </span></span><br><span class="line">    <span class="keyword">private</span> Long id;    </span><br><span class="line">    <span class="comment">// ç”¨æˆ·å    </span></span><br><span class="line">    <span class="keyword">private</span> String username;    </span><br><span class="line">    <span class="comment">// å¯†ç     </span></span><br><span class="line">    <span class="keyword">private</span> String password;    </span><br><span class="line">    <span class="comment">// å§“å    </span></span><br><span class="line">    <span class="keyword">private</span> String name;      </span><br><span class="line">    <span class="comment">//æ­¤å¤„çœç•¥getterå’Œsetteræ–¹æ³• .. ..    </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ç¼–å†™Mapper"><a href="#ç¼–å†™Mapper" class="headerlink" title="ç¼–å†™Mapper"></a>ç¼–å†™Mapper</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Mapper</span> </span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">UserMapper</span> </span>&#123;    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;User&gt; <span class="title">queryUserList</span><span class="params">()</span></span>; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼š@Mapperæ ‡è®°è¯¥ç±»æ˜¯ä¸€ä¸ªmybatisçš„mapperæ¥å£ï¼Œå¯ä»¥è¢«spring bootè‡ªåŠ¨æ‰«æåˆ°springä¸Šä¸‹æ–‡ä¸­ </p><h3 id="é…ç½®Mapperæ˜ å°„æ–‡ä»¶"><a href="#é…ç½®Mapperæ˜ å°„æ–‡ä»¶" class="headerlink" title="é…ç½®Mapperæ˜ å°„æ–‡ä»¶"></a>é…ç½®Mapperæ˜ å°„æ–‡ä»¶</h3><p>åœ¨src\main\resources\mapperè·¯å¾„ä¸‹åŠ å…¥UserMapper.xmlé…ç½®æ–‡ä»¶â€</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8" ?&gt;</span> </span><br><span class="line"><span class="meta">&lt;!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" &gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">"com.itheima.mapper.UserMapper"</span>&gt;</span>    </span><br><span class="line">       <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">"queryUserList"</span> <span class="attr">resultType</span>=<span class="string">"user"</span>&gt;</span></span><br><span class="line">           select * from user    </span><br><span class="line">       <span class="tag">&lt;/<span class="name">select</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="é…ç½®åŒ…æ‰«æå’Œé…ç½®æ–‡ä»¶æ˜ å°„"><a href="#é…ç½®åŒ…æ‰«æå’Œé…ç½®æ–‡ä»¶æ˜ å°„" class="headerlink" title="é…ç½®åŒ…æ‰«æå’Œé…ç½®æ–‡ä»¶æ˜ å°„"></a>é…ç½®åŒ…æ‰«æå’Œé…ç½®æ–‡ä»¶æ˜ å°„</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#springé›†æˆMybatisç¯å¢ƒ #pojoåˆ«åæ‰«æåŒ… </span><br><span class="line">mybatis.type-aliases-package=com.itheima.domain </span><br><span class="line">#åŠ è½½Mybatisæ˜ å°„æ–‡ä»¶ </span><br><span class="line">mybatis.mapper-locations=classpath:mapper/*Mapper.xml</span><br></pre></td></tr></table></figure><h3 id="ç¼–å†™æµ‹è¯•Controller"><a href="#ç¼–å†™æµ‹è¯•Controller" class="headerlink" title="ç¼–å†™æµ‹è¯•Controller"></a>ç¼–å†™æµ‹è¯•Controller</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Controller</span> </span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MapperController</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Autowired</span>    </span><br><span class="line">    <span class="keyword">private</span> UserMapper userMapper;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@RequestMapping</span>(<span class="string">"/queryUser"</span>)    </span><br><span class="line">    <span class="meta">@ResponseBody</span>    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;User&gt; <span class="title">queryUser</span><span class="params">()</span></span>&#123;        </span><br><span class="line">        List&lt;User&gt; users = userMapper.queryUserList();        </span><br><span class="line">        <span class="keyword">return</span> users;    </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æµ‹è¯•-1"><a href="#æµ‹è¯•-1" class="headerlink" title="æµ‹è¯•"></a>æµ‹è¯•</h3><p><img src="//haoyongliang.gitee.io/2019/07/13/SpringBoot/SpringBoot2.0/SpringBoot2.0/08.png" alt="8"></p><h3 id="é›†æˆMyBatisæ—¶é‡åˆ°çš„é—®é¢˜"><a href="#é›†æˆMyBatisæ—¶é‡åˆ°çš„é—®é¢˜" class="headerlink" title="é›†æˆMyBatisæ—¶é‡åˆ°çš„é—®é¢˜"></a>é›†æˆMyBatisæ—¶é‡åˆ°çš„é—®é¢˜</h3><p>1.æ¯ä¸€ä¸ªMapperç±»éƒ½éœ€è¦å†™@Mapperæ³¨è§£ï¼Œæ¯”è¾ƒéº»çƒ¦</p><p>â€‹    è§£å†³åŠæ³•</p><p>â€‹        åœ¨å¯åŠ¨ç±»ä¸ŠåŠ @MapperScan(â€œcn.itcast.demo.mapperâ€)//æ–°å¢ </p><p>â€‹        è¡¨ç¤ºå¯åŠ¨çš„æ—¶å€™ä¼šæ‰«æè¯¥åŒ…ä¸‹é¢æ‰€æœ‰çš„mapper.javaæ–‡ä»¶ï¼Œè¿™æ ·å°±ä¸éœ€è¦åœ¨ä¸ºæ¯ä¸€ä¸ªXXXMpaer.javaæ–‡ä»¶æ·»åŠ æ³¨è§£@Mapperäº†</p><p>2.The server time zoneå¼‚å¸¸</p><p>â€‹    åœ¨é…ç½®æ–‡ä»¶çš„URLæœ«å°¾è¿½åŠ å‚æ•°&amp;serverTimezone=UTC </p><p>3.æŠ¥é”™ï¼šuseræ‰¾ä¸åˆ°</p><p>â€‹    é—®é¢˜åŸå› ï¼šç¨‹åºå¯åŠ¨çš„æ—¶å€™æ²¡æœ‰æ‰«æåˆ°Userç±»</p><p>â€‹    è§£å†³æ–¹æ¡ˆï¼šä¿®æ”¹é…ç½®æ–‡ä»¶type-aliases-package: <strong>cn.itcast.demo.domain</strong></p><p>4.é”™è¯¯</p><p>â€‹    mavené”™è¯¯</p><p>â€‹    ä¿®æ”¹maventçš„setting.xml ä¿®æ”¹ä»“åº“çš„åœ°å€</p><h2 id="æ•´åˆJunit"><a href="#æ•´åˆJunit" class="headerlink" title="æ•´åˆJunit"></a>æ•´åˆJunit</h2><h3 id="æ·»åŠ Junitçš„èµ·æ­¥ä¾èµ–"><a href="#æ·»åŠ Junitçš„èµ·æ­¥ä¾èµ–" class="headerlink" title="æ·»åŠ Junitçš„èµ·æ­¥ä¾èµ–"></a>æ·»åŠ Junitçš„èµ·æ­¥ä¾èµ–</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--æµ‹è¯•çš„èµ·æ­¥ä¾èµ–--&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span>    </span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span>    </span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-test<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span>    </span><br><span class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="ç¼–å†™æµ‹è¯•ç±»"><a href="#ç¼–å†™æµ‹è¯•ç±»" class="headerlink" title="ç¼–å†™æµ‹è¯•ç±»"></a>ç¼–å†™æµ‹è¯•ç±»</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itheima.test;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">import</span> com.itheima.MySpringBootApplication; </span><br><span class="line"><span class="keyword">import</span> com.itheima.domain.User; </span><br><span class="line"><span class="keyword">import</span> com.itheima.mapper.UserMapper; </span><br><span class="line"><span class="keyword">import</span> org.junit.Test; </span><br><span class="line"><span class="keyword">import</span> org.junit.runner.RunWith; </span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired; </span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.test.context.SpringBootTest; </span><br><span class="line"><span class="keyword">import</span> org.springframework.test.context.junit4.SpringRunner;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"> </span><br><span class="line"><span class="meta">@RunWith</span>(SpringRunner.class) </span><br><span class="line"><span class="meta">@SpringBootTest</span>(classes = MySpringBootApplication.class) </span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MapperTest</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Autowired</span>    </span><br><span class="line">    <span class="keyword">private</span> UserMapper userMapper;</span><br><span class="line"> </span><br><span class="line">    <span class="meta">@Test</span>    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;        </span><br><span class="line">        List&lt;User&gt; users = userMapper.queryUserList();        </span><br><span class="line">        System.out.println(users);    </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å…¶ä¸­ï¼ŒSpringRunnerç»§æ‰¿è‡ªSpringJUnit4ClassRunnerï¼Œä½¿ç”¨å“ªä¸€ä¸ªSpringæä¾›çš„æµ‹è¯•æµ‹è¯•å¼•æ“éƒ½å¯ä»¥</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">SpringRunner</span> <span class="keyword">extends</span> <span class="title">SpringJUnit4ClassRunner</span></span></span><br></pre></td></tr></table></figure><p>@SpringBootTestçš„å±æ€§æŒ‡å®šçš„æ˜¯å¼•å¯¼ç±»çš„å­—èŠ‚ç å¯¹è±¡</p><h2 id="æ•´åˆRedis"><a href="#æ•´åˆRedis" class="headerlink" title="æ•´åˆRedis"></a>æ•´åˆRedis</h2><h3 id="æ·»åŠ redisçš„èµ·æ­¥ä¾èµ–"><a href="#æ·»åŠ redisçš„èµ·æ­¥ä¾èµ–" class="headerlink" title="æ·»åŠ redisçš„èµ·æ­¥ä¾èµ–"></a>æ·»åŠ redisçš„èµ·æ­¥ä¾èµ–</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- é…ç½®ä½¿ç”¨rediså¯åŠ¨å™¨ --&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span>    </span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span>    </span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-data-redis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="é…ç½®redisçš„è¿æ¥ä¿¡æ¯"><a href="#é…ç½®redisçš„è¿æ¥ä¿¡æ¯" class="headerlink" title="é…ç½®redisçš„è¿æ¥ä¿¡æ¯"></a>é…ç½®redisçš„è¿æ¥ä¿¡æ¯</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#Redis </span><br><span class="line">spring.redis.host=127.0.0.1 </span><br><span class="line">spring.redis.port=6379</span><br></pre></td></tr></table></figure><h3 id="æ³¨å…¥RedisTemplateæµ‹è¯•redisæ“ä½œ"><a href="#æ³¨å…¥RedisTemplateæµ‹è¯•redisæ“ä½œ" class="headerlink" title="æ³¨å…¥RedisTemplateæµ‹è¯•redisæ“ä½œ"></a>æ³¨å…¥RedisTemplateæµ‹è¯•redisæ“ä½œ</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RunWith</span>(SpringRunner.class) </span><br><span class="line"><span class="meta">@SpringBootTest</span>(classes = SpringbootJpaApplication.class) </span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RedisTest</span> </span>&#123;</span><br><span class="line"> </span><br><span class="line">    <span class="meta">@Autowired</span>    </span><br><span class="line">    <span class="keyword">private</span> UserRepository userRepository;</span><br><span class="line"> </span><br><span class="line">    <span class="meta">@Autowired</span>    </span><br><span class="line">    <span class="keyword">private</span> RedisTemplate&lt;String, String&gt; redisTemplate;</span><br><span class="line"> </span><br><span class="line">    <span class="meta">@Test</span>    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> <span class="keyword">throws</span> JsonProcessingException </span>&#123;</span><br><span class="line">        <span class="comment">//ä»redisç¼“å­˜ä¸­è·å¾—æŒ‡å®šçš„æ•°æ®</span></span><br><span class="line">String userListData = redisTemplate.boundValueOps(<span class="string">"user.findAll"</span>).get();        <span class="comment">//å¦‚æœredisä¸­æ²¡æœ‰æ•°æ®çš„è¯        </span></span><br><span class="line">        <span class="keyword">if</span>(<span class="keyword">null</span>==userListData)&#123;            </span><br><span class="line">            <span class="comment">//æŸ¥è¯¢æ•°æ®åº“è·å¾—æ•°æ®            </span></span><br><span class="line">            List&lt;User&gt; all = userRepository.findAll();            </span><br><span class="line">            <span class="comment">//è½¬æ¢æˆjsonæ ¼å¼å­—ç¬¦ä¸²            </span></span><br><span class="line">            ObjectMapper om = <span class="keyword">new</span> ObjectMapper();            </span><br><span class="line">            userListData = om.writeValueAsString(all);            </span><br><span class="line">            <span class="comment">//å°†æ•°æ®å­˜å‚¨åˆ°redisä¸­ï¼Œä¸‹æ¬¡åœ¨æŸ¥è¯¢ç›´æ¥ä»redisä¸­è·å¾—æ•°æ®ï¼Œä¸ç”¨åœ¨æŸ¥è¯¢æ•°æ®åº“            </span></span><br><span class="line">            redisTemplate.boundValueOps(<span class="string">"user.findAll"</span>).set(userListData);            </span><br><span class="line">            System.out.println(<span class="string">"===============ä»æ•°æ®åº“è·å¾—æ•°æ®==============="</span>);        </span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;            </span><br><span class="line">            System.out.println(<span class="string">"===============ä»redisç¼“å­˜ä¸­è·å¾—æ•°æ®==============="</span>);        </span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(userListData);</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æ•´åˆSpringDataJpa"><a href="#æ•´åˆSpringDataJpa" class="headerlink" title="æ•´åˆSpringDataJpa"></a>æ•´åˆSpringDataJpa</h2><h3 id="æ·»åŠ Spring-Data-JPAçš„èµ·æ­¥ä¾èµ–"><a href="#æ·»åŠ Spring-Data-JPAçš„èµ·æ­¥ä¾èµ–" class="headerlink" title="æ·»åŠ Spring Data JPAçš„èµ·æ­¥ä¾èµ–"></a>æ·»åŠ Spring Data JPAçš„èµ·æ­¥ä¾èµ–</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- springBoot JPAçš„èµ·æ­¥ä¾èµ– --&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span>    </span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span>   </span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-data-jpa<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="æ·»åŠ æ•°æ®åº“é©±åŠ¨ä¾èµ–"><a href="#æ·»åŠ æ•°æ®åº“é©±åŠ¨ä¾èµ–" class="headerlink" title="æ·»åŠ æ•°æ®åº“é©±åŠ¨ä¾èµ–"></a>æ·»åŠ æ•°æ®åº“é©±åŠ¨ä¾èµ–</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- MySQLè¿æ¥é©±åŠ¨ --&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span>    </span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span>    </span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="åœ¨application-propertiesä¸­é…ç½®æ•°æ®åº“å’Œjpaçš„ç›¸å…³å±æ€§"><a href="#åœ¨application-propertiesä¸­é…ç½®æ•°æ®åº“å’Œjpaçš„ç›¸å…³å±æ€§" class="headerlink" title="åœ¨application.propertiesä¸­é…ç½®æ•°æ®åº“å’Œjpaçš„ç›¸å…³å±æ€§"></a>åœ¨application.propertiesä¸­é…ç½®æ•°æ®åº“å’Œjpaçš„ç›¸å…³å±æ€§</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">#DB Configuration: </span><br><span class="line">spring.datasource.driverClassName=com.mysql.jdbc.Driver </span><br><span class="line">spring.datasource.url=jdbc:mysql://127.0.0.1:3306/test? useUnicode=true&amp;characterEncoding=utf8 </span><br><span class="line">spring.datasource.username=root </span><br><span class="line">spring.datasource.password=root</span><br><span class="line"> </span><br><span class="line">#JPA Configuration: </span><br><span class="line">spring.jpa.database=MySQL </span><br><span class="line">spring.jpa.show-sql=true </span><br><span class="line">spring.jpa.generate-ddl=true spring.jpa.hibernate.ddl-auto=update </span><br><span class="line">spring.jpa.hibernate.naming_strategy=org.hibernate.cfg.ImprovedNamingStrategy</span><br></pre></td></tr></table></figure><h3 id="åˆ›å»ºå®ä½“é…ç½®å®ä½“"><a href="#åˆ›å»ºå®ä½“é…ç½®å®ä½“" class="headerlink" title="åˆ›å»ºå®ä½“é…ç½®å®ä½“"></a>åˆ›å»ºå®ä½“é…ç½®å®ä½“</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Entity</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;    </span><br><span class="line">    <span class="comment">// ä¸»é”®    </span></span><br><span class="line">    <span class="meta">@Id</span>    </span><br><span class="line">    <span class="meta">@GeneratedValue</span>(strategy = GenerationType.IDENTITY)    </span><br><span class="line">    <span class="keyword">private</span> Long id;   </span><br><span class="line">    <span class="comment">// ç”¨æˆ·å    </span></span><br><span class="line">    <span class="keyword">private</span> String username;    </span><br><span class="line">    <span class="comment">// å¯†ç     </span></span><br><span class="line">    <span class="keyword">private</span> String password;    </span><br><span class="line">    <span class="comment">// å§“å    </span></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"> </span><br><span class="line">    <span class="comment">//æ­¤å¤„çœç•¥setterå’Œgetteræ–¹æ³•... ... </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ç¼–å†™UserRepository"><a href="#ç¼–å†™UserRepository" class="headerlink" title="ç¼–å†™UserRepository"></a>ç¼–å†™UserRepository</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">UserRepository</span> <span class="keyword">extends</span> <span class="title">JpaRepository</span>&lt;<span class="title">User</span>,<span class="title">Long</span>&gt;</span>&#123;    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;User&gt; <span class="title">findAll</span><span class="params">()</span></span>; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ç¼–å†™æµ‹è¯•ç±»-1"><a href="#ç¼–å†™æµ‹è¯•ç±»-1" class="headerlink" title="ç¼–å†™æµ‹è¯•ç±»"></a>ç¼–å†™æµ‹è¯•ç±»</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RunWith</span>(SpringRunner.class) </span><br><span class="line"><span class="meta">@SpringBootTest</span>(classes=MySpringBootApplication.class) </span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">JpaTest</span> </span>&#123;</span><br><span class="line"> </span><br><span class="line">    <span class="meta">@Autowired</span>    </span><br><span class="line">    <span class="keyword">private</span> UserRepository userRepository;</span><br><span class="line"> </span><br><span class="line">    <span class="meta">@Test</span>    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span></span>&#123;        </span><br><span class="line">        List&lt;User&gt; users = userRepository.findAll();        </span><br><span class="line">        System.out.println(users);    </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ§åˆ¶å°æ‰“å°ä¿¡æ¯"><a href="#æ§åˆ¶å°æ‰“å°ä¿¡æ¯" class="headerlink" title="æ§åˆ¶å°æ‰“å°ä¿¡æ¯"></a>æ§åˆ¶å°æ‰“å°ä¿¡æ¯</h3><p><img src="//haoyongliang.gitee.io/2019/07/13/SpringBoot/SpringBoot2.0/SpringBoot2.0/09.png" alt></p><p>å¦‚æœä½¿ç”¨JDK1.9 ä¼šæŠ¥å¼‚å¸¸ClassNotFoundException:javax.xml.bind.JAXBException</p><p><img src="//haoyongliang.gitee.io/2019/07/13/SpringBoot/SpringBoot2.0/SpringBoot2.0/10.png" alt></p><p>åŸå› ç¼ºå°‘jar</p><p>è§£å†³åŠæ³•å¯¼å…¥ä¾èµ–</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--jdk9éœ€è¦å¯¼å…¥å¦‚ä¸‹åæ ‡--&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span>    </span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.xml.bind<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span>    </span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jaxb-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span>    </span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.3.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> æ¡†æ¶ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SpringBoot2.0 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SpringDataJPA-åŠ¨æ€æŸ¥è¯¢å’Œå¤šè¡¨æŸ¥è¯¢(ä¸‰)</title>
      <link href="/2019/07/13/SpringBoot/SpringDataJpa/SpringDataJpa03/"/>
      <url>/2019/07/13/SpringBoot/SpringDataJpa/SpringDataJpa03/</url>
      
        <content type="html"><![CDATA[<h1 id="SpecificationåŠ¨æ€æŸ¥è¯¢"><a href="#SpecificationåŠ¨æ€æŸ¥è¯¢" class="headerlink" title="SpecificationåŠ¨æ€æŸ¥è¯¢"></a>SpecificationåŠ¨æ€æŸ¥è¯¢</h1><h2 id="å‰æ"><a href="#å‰æ" class="headerlink" title="å‰æ"></a>å‰æ</h2><p>Daoæ¥å£å¿…é¡»ç»§æ‰¿JpaSpecificationExecutor<t>æ¥å£</t></p><h2 id="èƒ½å¤Ÿä½¿ç”¨åŠ¨æ€æŸ¥è¯¢çš„æ–¹æ³•"><a href="#èƒ½å¤Ÿä½¿ç”¨åŠ¨æ€æŸ¥è¯¢çš„æ–¹æ³•" class="headerlink" title="èƒ½å¤Ÿä½¿ç”¨åŠ¨æ€æŸ¥è¯¢çš„æ–¹æ³•"></a>èƒ½å¤Ÿä½¿ç”¨åŠ¨æ€æŸ¥è¯¢çš„æ–¹æ³•</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">JpaSpecificationExecutor</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">   <span class="comment">//æ ¹æ®æ¡ä»¶æŸ¥è¯¢ä¸€ä¸ªå¯¹è±¡</span></span><br><span class="line"> <span class="function">T <span class="title">findOne</span><span class="params">(Specification&lt;T&gt; spec)</span></span>;</span><br><span class="line">   <span class="comment">//æ ¹æ®æ¡ä»¶æŸ¥è¯¢é›†åˆ</span></span><br><span class="line"> <span class="function">List&lt;T&gt; <span class="title">findAll</span><span class="params">(Specification&lt;T&gt; spec)</span></span>;</span><br><span class="line">   <span class="comment">//æ ¹æ®æ¡ä»¶åˆ†é¡µæŸ¥è¯¢</span></span><br><span class="line"> <span class="function">Page&lt;T&gt; <span class="title">findAll</span><span class="params">(Specification&lt;T&gt; spec, Pageable pageable)</span></span>;</span><br><span class="line">   <span class="comment">//æ’åºæŸ¥è¯¢æŸ¥è¯¢</span></span><br><span class="line"> <span class="function">List&lt;T&gt; <span class="title">findAll</span><span class="params">(Specification&lt;T&gt; spec, Sort sort)</span></span>;</span><br><span class="line">   <span class="comment">//ç»Ÿè®¡æŸ¥è¯¢</span></span><br><span class="line"> <span class="function"><span class="keyword">long</span> <span class="title">count</span><span class="params">(Specification&lt;T&gt; spec)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ç¯å¢ƒæ­å»º"><a href="#ç¯å¢ƒæ­å»º" class="headerlink" title="ç¯å¢ƒæ­å»º"></a>ç¯å¢ƒæ­å»º</h2><h3 id="åˆ›å»ºé¡¹ç›®"><a href="#åˆ›å»ºé¡¹ç›®" class="headerlink" title="åˆ›å»ºé¡¹ç›®"></a>åˆ›å»ºé¡¹ç›®</h3><h3 id="å¼•å…¥ä¾èµ–-é…ç½®pom-xml"><a href="#å¼•å…¥ä¾èµ–-é…ç½®pom-xml" class="headerlink" title="å¼•å…¥ä¾èµ–[é…ç½®pom.xml]"></a>å¼•å…¥ä¾èµ–[é…ç½®pom.xml]</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">"http://maven.apache.org/POM/4.0.0"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>cn.itcast<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jpa-day2<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">spring.version</span>&gt;</span>5.0.2.RELEASE<span class="tag">&lt;/<span class="name">spring.version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">hibernate.version</span>&gt;</span>5.0.7.Final<span class="tag">&lt;/<span class="name">hibernate.version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">slf4j.version</span>&gt;</span>1.6.6<span class="tag">&lt;/<span class="name">slf4j.version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">log4j.version</span>&gt;</span>1.2.12<span class="tag">&lt;/<span class="name">log4j.version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">c3p0.version</span>&gt;</span>0.9.1.2<span class="tag">&lt;/<span class="name">c3p0.version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">mysql.version</span>&gt;</span>5.1.6<span class="tag">&lt;/<span class="name">mysql.version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- junitå•å…ƒæµ‹è¯• --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.12<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- spring beg --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.aspectj<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>aspectjweaver<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.6.8<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-aop<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;spring.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-context<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;spring.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-context-support<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;spring.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- springå¯¹ormæ¡†æ¶çš„æ”¯æŒåŒ…--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-orm<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;spring.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-beans<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;spring.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-core<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;spring.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- spring end --&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- hibernate beg --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.hibernate<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>hibernate-core<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;hibernate.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.hibernate<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>hibernate-entitymanager<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;hibernate.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.hibernate<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>hibernate-validator<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.2.1.Final<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- hibernate end --&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- c3p0 beg --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>c3p0<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>c3p0<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;c3p0.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- c3p0 end --&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- log end --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>log4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>log4j<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;log4j.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.slf4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>slf4j-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;slf4j.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.slf4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>slf4j-log4j12<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;slf4j.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- log end --&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;mysql.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- spring data jpa çš„åæ ‡--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.data<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-data-jpa<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.9.0.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-test<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;spring.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- el beg ä½¿ç”¨spring data jpa å¿…é¡»å¼•å…¥ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.el<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>javax.el-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.2.4<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.glassfish.web<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>javax.el<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.2.4<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- el end --&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="åˆ›å»ºåŒ…"><a href="#åˆ›å»ºåŒ…" class="headerlink" title="åˆ›å»ºåŒ…"></a>åˆ›å»ºåŒ…</h3><p>cn.itcast.service</p><p>cn.itcast.dao</p><p>cn.itcast.domain</p><h3 id="åˆ›å»ºapplicationContext-xml"><a href="#åˆ›å»ºapplicationContext-xml" class="headerlink" title="åˆ›å»ºapplicationContext.xml"></a>åˆ›å»ºapplicationContext.xml</h3><blockquote><p>Springæ•´åˆJpaå°±ä¸¤æ­¥</p><p>â€‹    1.ç”±springåˆ›å»ºentityManagerFactory</p><p>â€‹    2.ä½¿ç”¨æ ‡ç­¾jpa:repositorieså’Œspringè¿›è¡Œæ•´åˆ</p></blockquote><blockquote><p>æç¤ºï¼šè¯¥æ–‡ä»¶åº”è¯¥åœ¨java/main/resourceç›®å½•ä¸‹</p><p>æ³¨æ„ä¿®æ”¹æ•°æ®åº“å¯†ç </p></blockquote><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">"http://www.springframework.org/schema/beans"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="attr">xmlns:aop</span>=<span class="string">"http://www.springframework.org/schema/aop"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:context</span>=<span class="string">"http://www.springframework.org/schema/context"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:jdbc</span>=<span class="string">"http://www.springframework.org/schema/jdbc"</span> <span class="attr">xmlns:tx</span>=<span class="string">"http://www.springframework.org/schema/tx"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:jpa</span>=<span class="string">"http://www.springframework.org/schema/data/jpa"</span> <span class="attr">xmlns:task</span>=<span class="string">"http://www.springframework.org/schema/task"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">"</span></span></span><br><span class="line"><span class="tag"><span class="string">http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">http://www.springframework.org/schema/jdbc http://www.springframework.org/schema/jdbc/spring-jdbc.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">http://www.springframework.org/schema/data/jpa</span></span></span><br><span class="line"><span class="tag"><span class="string">http://www.springframework.org/schema/data/jpa/spring-jpa.xsd"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--S Springé…ç½®[ä¹‹å‰è¯¾ç¨‹é‡Œçš„æ—§ä¸œè¥¿]--&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--é…ç½®æ‰«æåŒ…--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">"cn.itcast"</span> &gt;</span><span class="tag">&lt;/<span class="name">context:component-scan</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--åˆ›å»ºæ•°æ®åº“è¿æ¥æ±  --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"dataSource"</span> <span class="attr">class</span>=<span class="string">"com.mchange.v2.c3p0.ComboPooledDataSource"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"user"</span> <span class="attr">value</span>=<span class="string">"root"</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"password"</span> <span class="attr">value</span>=<span class="string">"root"</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"jdbcUrl"</span> <span class="attr">value</span>=<span class="string">"jdbc:mysql:///jpa"</span> &gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"driverClass"</span> <span class="attr">value</span>=<span class="string">"com.mysql.jdbc.Driver"</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--é…ç½®äº‹åŠ¡ç®¡ç†å™¨--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"transactionManager"</span> <span class="attr">class</span>=<span class="string">"org.springframework.orm.jpa.JpaTransactionManager"</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--è¿™é‡Œä¸éœ€è¦é…ç½®</span></span><br><span class="line"><span class="comment">&lt;property name="dataSource" ref="dataSource" /&gt; </span></span><br><span class="line"><span class="comment">å› ä¸ºæ•°æ®æºå·²ç»é…ç½®åœ¨entityManagerFactoryä¸­äº†</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"entityManagerFactory"</span> <span class="attr">ref</span>=<span class="string">"entityManagerFactoty"</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">tx:advice</span> <span class="attr">id</span>=<span class="string">"txAdvice"</span> <span class="attr">transaction-manager</span>=<span class="string">"transactionManager"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tx:attributes</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">tx:method</span> <span class="attr">name</span>=<span class="string">"save*"</span> <span class="attr">propagation</span>=<span class="string">"REQUIRED"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">tx:method</span> <span class="attr">name</span>=<span class="string">"insert*"</span> <span class="attr">propagation</span>=<span class="string">"REQUIRED"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">tx:method</span> <span class="attr">name</span>=<span class="string">"update*"</span> <span class="attr">propagation</span>=<span class="string">"REQUIRED"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">tx:method</span> <span class="attr">name</span>=<span class="string">"delete*"</span> <span class="attr">propagation</span>=<span class="string">"REQUIRED"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">tx:method</span> <span class="attr">name</span>=<span class="string">"get*"</span> <span class="attr">read-only</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">tx:method</span> <span class="attr">name</span>=<span class="string">"find*"</span> <span class="attr">read-only</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">tx:method</span> <span class="attr">name</span>=<span class="string">"*"</span> <span class="attr">propagation</span>=<span class="string">"REQUIRED"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">tx:attributes</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tx:advice</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">aop:config</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">aop:pointcut</span> <span class="attr">id</span>=<span class="string">"pointcut"</span> <span class="attr">expression</span>=<span class="string">"execution(* cn.itcast.service.*.*(..))"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">aop:advisor</span> <span class="attr">advice-ref</span>=<span class="string">"txAdvice"</span> <span class="attr">pointcut-ref</span>=<span class="string">"pointcut"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">aop:config</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--E Springé…ç½®[ä¹‹å‰è¯¾ç¨‹é‡Œçš„æ—§ä¸œè¥¿]--&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--S Springæ•´åˆJPA[ä»Šå¤©è®²çš„æ–°é…ç½®]--&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 1.åˆ›å»ºentityManagerFactoryå¯¹è±¡äº¤ç»™springå®¹å™¨ç®¡ç†--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"entityManagerFactoty"</span> <span class="attr">class</span>=<span class="string">"org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"dataSource"</span> <span class="attr">ref</span>=<span class="string">"dataSource"</span> /&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--é…ç½®çš„æ‰«æçš„åŒ…ï¼ˆå®ä½“ç±»æ‰€åœ¨çš„åŒ…ï¼‰ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"packagesToScan"</span> <span class="attr">value</span>=<span class="string">"cn.itcast.domain"</span> /&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- jpaçš„å®ç°å‚å®¶ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"persistenceProvider"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">"org.hibernate.jpa.HibernatePersistenceProvider"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!--jpaçš„ä¾›åº”å•†é€‚é…å™¨ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"jpaVendorAdapter"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">"org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter"</span>&gt;</span></span><br><span class="line">                <span class="comment">&lt;!--é…ç½®æ˜¯å¦è‡ªåŠ¨åˆ›å»ºæ•°æ®åº“è¡¨ --&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"generateDdl"</span> <span class="attr">value</span>=<span class="string">"false"</span> /&gt;</span></span><br><span class="line">                <span class="comment">&lt;!--æŒ‡å®šæ•°æ®åº“ç±»å‹ --&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"database"</span> <span class="attr">value</span>=<span class="string">"MYSQL"</span> /&gt;</span></span><br><span class="line">                <span class="comment">&lt;!--æ•°æ®åº“æ–¹è¨€ï¼šæ”¯æŒçš„ç‰¹æœ‰è¯­æ³• --&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"databasePlatform"</span> <span class="attr">value</span>=<span class="string">"org.hibernate.dialect.MySQLDialect"</span> /&gt;</span></span><br><span class="line">                <span class="comment">&lt;!--æ˜¯å¦æ˜¾ç¤ºsql --&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"showSql"</span> <span class="attr">value</span>=<span class="string">"true"</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!--jpaçš„æ–¹è¨€ ï¼šé«˜çº§çš„ç‰¹æ€§ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"jpaDialect"</span> &gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">"org.springframework.orm.jpa.vendor.HibernateJpaDialect"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"jpaProperties"</span> &gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">props</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">prop</span> <span class="attr">key</span>=<span class="string">"hibernate.hbm2ddl.auto"</span>&gt;</span>update<span class="tag">&lt;/<span class="name">prop</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">props</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--2.æ•´åˆspring dataJpa--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">jpa:repositories</span> <span class="attr">base-package</span>=<span class="string">"cn.itcast.dao"</span> <span class="attr">transaction-manager-ref</span>=<span class="string">"transactionManager"</span></span></span><br><span class="line"><span class="tag">                      <span class="attr">entity-manager-factory-ref</span>=<span class="string">"entityManagerFactoty"</span> &gt;</span><span class="tag">&lt;/<span class="name">jpa:repositories</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--E Springæ•´åˆJPA[ä»Šå¤©è®²çš„æ–°é…ç½®]--&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="å¿«é€Ÿå…¥é—¨"><a href="#å¿«é€Ÿå…¥é—¨" class="headerlink" title="å¿«é€Ÿå…¥é—¨"></a>å¿«é€Ÿå…¥é—¨</h2><h3 id="åˆ›å»ºè¡¨cst-customer"><a href="#åˆ›å»ºè¡¨cst-customer" class="headerlink" title="åˆ›å»ºè¡¨cst_customer"></a>åˆ›å»ºè¡¨cst_customer</h3><blockquote><p>æç¤ºï¼šday01å·²ç»åˆ›å»ºè¿‡äº†</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">USE</span> <span class="string">`jpa`</span>;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> <span class="keyword">IF</span> <span class="keyword">EXISTS</span> <span class="string">`cst_customer`</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="string">`cst_customer`</span> (</span><br><span class="line">  <span class="string">`cust_id`</span> <span class="built_in">bigint</span>(<span class="number">32</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span> AUTO_INCREMENT <span class="keyword">COMMENT</span> <span class="string">'å®¢æˆ·ç¼–å·(ä¸»é”®)'</span>,</span><br><span class="line">  <span class="string">`cust_name`</span> <span class="built_in">varchar</span>(<span class="number">32</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'å®¢æˆ·åç§°(å…¬å¸åç§°)'</span>,</span><br><span class="line">  <span class="string">`cust_source`</span> <span class="built_in">varchar</span>(<span class="number">32</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'å®¢æˆ·ä¿¡æ¯æ¥æº'</span>,</span><br><span class="line">  <span class="string">`cust_industry`</span> <span class="built_in">varchar</span>(<span class="number">32</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'å®¢æˆ·æ‰€å±è¡Œä¸š'</span>,</span><br><span class="line">  <span class="string">`cust_level`</span> <span class="built_in">varchar</span>(<span class="number">32</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'å®¢æˆ·çº§åˆ«'</span>,</span><br><span class="line">  <span class="string">`cust_address`</span> <span class="built_in">varchar</span>(<span class="number">128</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'å®¢æˆ·è”ç³»åœ°å€'</span>,</span><br><span class="line">  <span class="string">`cust_phone`</span> <span class="built_in">varchar</span>(<span class="number">64</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'å®¢æˆ·è”ç³»ç”µè¯'</span>,</span><br><span class="line">  PRIMARY <span class="keyword">KEY</span> (<span class="string">`cust_id`</span>)</span><br><span class="line">) <span class="keyword">ENGINE</span>=<span class="keyword">InnoDB</span> <span class="keyword">DEFAULT</span> <span class="keyword">CHARSET</span>=utf8;</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span>  <span class="keyword">into</span> <span class="string">`cst_customer`</span>(<span class="string">`cust_id`</span>,<span class="string">`cust_name`</span>,<span class="string">`cust_source`</span>,<span class="string">`cust_industry`</span>,<span class="string">`cust_level`</span>,<span class="string">`cust_address`</span>,<span class="string">`cust_phone`</span>) <span class="keyword">values</span> (<span class="number">1</span>,<span class="string">'é»‘é©¬ç¨‹åºå‘˜'</span>,<span class="literal">NULL</span>,<span class="string">'æ•™è‚²'</span>,<span class="literal">NULL</span>,<span class="literal">NULL</span>,<span class="literal">NULL</span>),(<span class="number">2</span>,<span class="string">'ä¼ æ™ºæ’­å®¢'</span>,<span class="literal">NULL</span>,<span class="string">'æ•™è‚²'</span>,<span class="literal">NULL</span>,<span class="literal">NULL</span>,<span class="literal">NULL</span>),(<span class="number">3</span>,<span class="string">'é…·ä¸é±¼'</span>,<span class="literal">NULL</span>,<span class="string">'æ•™è‚²'</span>,<span class="literal">NULL</span>,<span class="literal">NULL</span>,<span class="literal">NULL</span>),(<span class="number">4</span>,<span class="string">'ä¼ æ™ºæ±‡'</span>,<span class="literal">NULL</span>,<span class="string">'æ•™è‚²'</span>,<span class="literal">NULL</span>,<span class="literal">NULL</span>,<span class="literal">NULL</span>),(<span class="number">5</span>,<span class="string">'ä¼ æ™ºä¸“ä¿®å­¦é™¢'</span>,<span class="literal">NULL</span>,<span class="string">'æ•™è‚²'</span>,<span class="literal">NULL</span>,<span class="literal">NULL</span>,<span class="literal">NULL</span>),(<span class="number">6</span>,<span class="string">'è°·æ­Œ'</span>,<span class="literal">NULL</span>,<span class="string">'æ•™è‚²'</span>,<span class="literal">NULL</span>,<span class="literal">NULL</span>,<span class="literal">NULL</span>);</span><br></pre></td></tr></table></figure><h3 id="åˆ›å»ºå®ä½“ç±»Customer"><a href="#åˆ›å»ºå®ä½“ç±»Customer" class="headerlink" title="åˆ›å»ºå®ä½“ç±»Customer"></a>åˆ›å»ºå®ä½“ç±»Customer</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.itcast.domain;</span><br><span class="line"><span class="keyword">import</span> javax.persistence.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Customer</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Long custId; <span class="comment">//å®¢æˆ·çš„ä¸»é”®</span></span><br><span class="line">    <span class="keyword">private</span> String custName;<span class="comment">//å®¢æˆ·åç§°</span></span><br><span class="line">    <span class="keyword">private</span> String custSource;<span class="comment">//å®¢æˆ·æ¥æº</span></span><br><span class="line">    <span class="keyword">private</span> String custLevel;<span class="comment">//å®¢æˆ·çº§åˆ«</span></span><br><span class="line">    <span class="keyword">private</span> String custIndustry;<span class="comment">//å®¢æˆ·æ‰€å±è¡Œä¸š</span></span><br><span class="line">    <span class="keyword">private</span> String custPhone;<span class="comment">//å®¢æˆ·çš„è”ç³»æ–¹å¼</span></span><br><span class="line">    <span class="keyword">private</span> String custAddress;<span class="comment">//å®¢æˆ·åœ°å€</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Long <span class="title">getCustId</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> custId;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCustId</span><span class="params">(Long custId)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.custId = custId;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getCustName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> custName;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCustName</span><span class="params">(String custName)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.custName = custName;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getCustSource</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> custSource;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCustSource</span><span class="params">(String custSource)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.custSource = custSource;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getCustLevel</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> custLevel;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCustLevel</span><span class="params">(String custLevel)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.custLevel = custLevel;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getCustIndustry</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> custIndustry;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCustIndustry</span><span class="params">(String custIndustry)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.custIndustry = custIndustry;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getCustPhone</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> custPhone;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCustPhone</span><span class="params">(String custPhone)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.custPhone = custPhone;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getCustAddress</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> custAddress;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCustAddress</span><span class="params">(String custAddress)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.custAddress = custAddress;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"Customer&#123;"</span> +</span><br><span class="line">                <span class="string">"custId="</span> + custId +</span><br><span class="line">                <span class="string">", custName='"</span> + custName + <span class="string">'\''</span> +</span><br><span class="line">                <span class="string">", custSource='"</span> + custSource + <span class="string">'\''</span> +</span><br><span class="line">                <span class="string">", custLevel='"</span> + custLevel + <span class="string">'\''</span> +</span><br><span class="line">                <span class="string">", custIndustry='"</span> + custIndustry + <span class="string">'\''</span> +</span><br><span class="line">                <span class="string">", custPhone='"</span> + custPhone + <span class="string">'\''</span> +</span><br><span class="line">                <span class="string">", custAddress='"</span> + custAddress + <span class="string">'\''</span> +</span><br><span class="line">                <span class="string">'&#125;'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="é€šè¿‡æ³¨è§£é…ç½®æ˜ å°„å…³ç³»"><a href="#é€šè¿‡æ³¨è§£é…ç½®æ˜ å°„å…³ç³»" class="headerlink" title="é€šè¿‡æ³¨è§£é…ç½®æ˜ å°„å…³ç³»"></a>é€šè¿‡æ³¨è§£é…ç½®æ˜ å°„å…³ç³»</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.itcast.domain;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.persistence.*;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Entity</span></span><br><span class="line"><span class="meta">@Table</span>(name = <span class="string">"cst_customer"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Customer</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Id</span></span><br><span class="line">    <span class="meta">@GeneratedValue</span>(strategy = GenerationType.IDENTITY)</span><br><span class="line">    <span class="meta">@Column</span>(name = <span class="string">"cust_id"</span>)</span><br><span class="line">    <span class="keyword">private</span> Long custId; <span class="comment">//å®¢æˆ·çš„ä¸»é”®</span></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Column</span>(name = <span class="string">"cust_name"</span>)</span><br><span class="line">    <span class="keyword">private</span> String custName;<span class="comment">//å®¢æˆ·åç§°</span></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Column</span>(name=<span class="string">"cust_source"</span>)</span><br><span class="line">    <span class="keyword">private</span> String custSource;<span class="comment">//å®¢æˆ·æ¥æº</span></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Column</span>(name=<span class="string">"cust_level"</span>)</span><br><span class="line">    <span class="keyword">private</span> String custLevel;<span class="comment">//å®¢æˆ·çº§åˆ«</span></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Column</span>(name=<span class="string">"cust_industry"</span>)</span><br><span class="line">    <span class="keyword">private</span> String custIndustry;<span class="comment">//å®¢æˆ·æ‰€å±è¡Œä¸š</span></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Column</span>(name=<span class="string">"cust_phone"</span>)</span><br><span class="line">    <span class="keyword">private</span> String custPhone;<span class="comment">//å®¢æˆ·çš„è”ç³»æ–¹å¼</span></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Column</span>(name=<span class="string">"cust_address"</span>)</span><br><span class="line">    <span class="keyword">private</span> String custAddress;<span class="comment">//å®¢æˆ·åœ°å€</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Long <span class="title">getCustId</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> custId;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCustId</span><span class="params">(Long custId)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.custId = custId;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getCustName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> custName;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCustName</span><span class="params">(String custName)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.custName = custName;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getCustSource</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> custSource;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCustSource</span><span class="params">(String custSource)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.custSource = custSource;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getCustLevel</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> custLevel;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCustLevel</span><span class="params">(String custLevel)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.custLevel = custLevel;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getCustIndustry</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> custIndustry;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCustIndustry</span><span class="params">(String custIndustry)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.custIndustry = custIndustry;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getCustPhone</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> custPhone;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCustPhone</span><span class="params">(String custPhone)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.custPhone = custPhone;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getCustAddress</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> custAddress;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCustAddress</span><span class="params">(String custAddress)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.custAddress = custAddress;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"Customer&#123;"</span> +</span><br><span class="line">                <span class="string">"custId="</span> + custId +</span><br><span class="line">                <span class="string">", custName='"</span> + custName + <span class="string">'\''</span> +</span><br><span class="line">                <span class="string">", custSource='"</span> + custSource + <span class="string">'\''</span> +</span><br><span class="line">                <span class="string">", custLevel='"</span> + custLevel + <span class="string">'\''</span> +</span><br><span class="line">                <span class="string">", custIndustry='"</span> + custIndustry + <span class="string">'\''</span> +</span><br><span class="line">                <span class="string">", custPhone='"</span> + custPhone + <span class="string">'\''</span> +</span><br><span class="line">                <span class="string">", custAddress='"</span> + custAddress + <span class="string">'\''</span> +</span><br><span class="line">                <span class="string">'&#125;'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="åˆ›å»ºCustomerDaoæ¥å£"><a href="#åˆ›å»ºCustomerDaoæ¥å£" class="headerlink" title="åˆ›å»ºCustomerDaoæ¥å£"></a>åˆ›å»ºCustomerDaoæ¥å£</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.itcast.dao;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> cn.itcast.domain.Customer;</span><br><span class="line"><span class="keyword">import</span> org.springframework.data.jpa.repository.JpaRepository;</span><br><span class="line"><span class="keyword">import</span> org.springframework.data.jpa.repository.JpaSpecificationExecutor;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *  JpaRepository&lt;æ“ä½œçš„å®ä½“ç±», å®ä½“ç±»ä¸­ä¸»é”®çš„ç±»å‹&gt; æ¥å£ä¸­æä¾›äº†ç®€å•æ“ä½œæ•°æ®åº“çš„æ–¹æ³•</span></span><br><span class="line"><span class="comment"> *  JpaSpecificationExecutorr&lt;æ“ä½œçš„æ˜¯å®ä½“ç±»&gt;æ¥å£ä¸­æä¾›äº†å¤æ‚æ–¹æ³•ï¼Œæ¯”å¦‚å¤šæ¡ä»¶å’Œåˆ†é¡µæŸ¥è¯¢</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">CustomerDao</span> <span class="keyword">extends</span> <span class="title">JpaRepository</span>&lt;<span class="title">Customer</span>,<span class="title">Long</span>&gt;,</span></span><br><span class="line"><span class="class"><span class="title">JpaSpecificationExecutor</span>&lt;<span class="title">Customer</span>&gt;</span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ç¼–å†™æµ‹è¯•ç±»"><a href="#ç¼–å†™æµ‹è¯•ç±»" class="headerlink" title="ç¼–å†™æµ‹è¯•ç±»"></a>ç¼–å†™æµ‹è¯•ç±»</h3><blockquote><p>éœ€æ±‚ï¼šæŸ¥è¯¢å§“å=æå››çš„ç”¨æˆ·</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.itcast.dao;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> cn.itcast.domain.Customer;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"><span class="keyword">import</span> org.junit.runner.RunWith;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.data.jpa.domain.Specification;</span><br><span class="line"><span class="keyword">import</span> org.springframework.test.context.ContextConfiguration;</span><br><span class="line"><span class="keyword">import</span> org.springframework.test.context.junit4.SpringJUnit4ClassRunner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.persistence.criteria.*;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * é’ˆå¯¹ CustomerDao æ¥å£çš„å¤šæ¡ä»¶æŸ¥è¯¢æ¼”ç¤º</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@RunWith</span>(SpringJUnit4ClassRunner.class)</span><br><span class="line"><span class="meta">@ContextConfiguration</span>(locations = <span class="string">"classpath:applicationContext.xml"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CustomerDaoSpecificationTest</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> CustomerDao customerDao;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ ¹æ®å®¢æˆ·åè¿›è¡ŒæŸ¥è¯¢</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">findByCustNameQueryTest</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="comment">//ç”Ÿæˆçš„SQL select * forom cst_customer where cust_name = "æå››"</span></span><br><span class="line">        Customer customer = customerDao.findOne(<span class="keyword">new</span> Specification&lt;Customer&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="comment">/**</span></span><br><span class="line"><span class="comment">             * root : å¯ä»¥è·å–è¦æ“ä½œçš„å±æ€§</span></span><br><span class="line"><span class="comment">             * criteriaBuilder : æ„å»ºæŸ¥è¯¢æ¡ä»¶</span></span><br><span class="line"><span class="comment">             ç”Ÿæˆçš„SQLè¯­å¥ select * from cst_customer where cust_name =  "æå››"</span></span><br><span class="line"><span class="comment">             */</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> Predicate <span class="title">toPredicate</span><span class="params">(Root&lt;Customer&gt; root, CriteriaQuery&lt;?&gt; criteriaQuery, CriteriaBuilder criteriaBuilder)</span> </span>&#123;</span><br><span class="line">                <span class="comment">//custNameæ˜¯Customerå®ä½“ç±»çš„å±æ€§çš„åå­—ï¼Œä¸æ˜¯è¡¨ä¸­çš„å­—æ®µå</span></span><br><span class="line">                Path&lt;Object&gt; custName = root.get(<span class="string">"custName"</span>);</span><br><span class="line">                <span class="comment">//æ·»åŠ æŸ¥è¯¢æ¡ä»¶ where custName="æå››"</span></span><br><span class="line">                Predicate predicate = criteriaBuilder.equal(custName, <span class="string">"æå››"</span>);</span><br><span class="line">                <span class="keyword">return</span> predicate;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        System.out.println(customer);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>è¿è¡Œç»“æœ</p></blockquote><p><img src="//haoyongliang.gitee.io/2019/07/13/SpringBoot/SpringDataJpa/SpringDataJpa03/01.png" alt></p><h2 id="å•æ¡ä»¶æŸ¥è¯¢"><a href="#å•æ¡ä»¶æŸ¥è¯¢" class="headerlink" title="å•æ¡ä»¶æŸ¥è¯¢"></a>å•æ¡ä»¶æŸ¥è¯¢</h2><p>è¯·æŸ¥çœ‹1.4å†…å®¹</p><h2 id="å¤šæ¡ä»¶æŸ¥è¯¢"><a href="#å¤šæ¡ä»¶æŸ¥è¯¢" class="headerlink" title="å¤šæ¡ä»¶æŸ¥è¯¢"></a>å¤šæ¡ä»¶æŸ¥è¯¢</h2><blockquote><p>éœ€æ±‚ï¼šæŸ¥è¯¢å§“å=æå››ï¼Œç”µè¯=1390000000çš„å®¢æˆ·</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å¤šæ¡ä»¶æŸ¥è¯¢</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">manyConditionsQueryTest</span><span class="params">()</span></span>&#123;</span><br><span class="line">    Customer customer = customerDao.findOne(<span class="keyword">new</span> Specification&lt;Customer&gt;() &#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">        * select * from cst_customer where cust_name ="æå››" and  cust_phone = '139xxx'</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> Predicate <span class="title">toPredicate</span><span class="params">(Root&lt;Customer&gt; root, CriteriaQuery&lt;?&gt; criteriaQuery, CriteriaBuilder criteriaBuilder)</span> </span>&#123;</span><br><span class="line">            <span class="comment">//æ¡ä»¶1ï¼šå®¢æˆ·å=æå››</span></span><br><span class="line">            Predicate p1 = criteriaBuilder.equal(root.get(<span class="string">"custName"</span>), <span class="string">"æå››"</span>);</span><br><span class="line">            <span class="comment">//æ¡ä»¶2ï¼šç”µè¯=1390000000</span></span><br><span class="line">            Predicate p2 = criteriaBuilder.equal(root.get(<span class="string">"custPhone"</span>), <span class="string">"1390000000"</span>);</span><br><span class="line"></span><br><span class="line">            <span class="comment">//æŠŠä¸¤ä¸ªæŸ¥è¯¢æ¡ä»¶è¿æ¥åˆ°ä¸€èµ·</span></span><br><span class="line">            <span class="comment">////custName="æå››" or custPhone="1390000000"</span></span><br><span class="line">            <span class="comment">//Predicate p3 = criteriaBuilder.or(p1, p2);</span></span><br><span class="line">            </span><br><span class="line">            <span class="comment">////custName="æå››" and custPhone="1390000000"</span></span><br><span class="line">            Predicate p3 = criteriaBuilder.and(p1, p2);</span><br><span class="line">            </span><br><span class="line">            </span><br><span class="line">            <span class="keyword">return</span> p3;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">    System.out.println(customer);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>è¿è¡Œç»“æœ</p></blockquote><p><img src="//haoyongliang.gitee.io/2019/07/13/SpringBoot/SpringDataJpa/SpringDataJpa03/02.png" alt></p><h2 id="æ¨¡ç³ŠåŒ¹é…"><a href="#æ¨¡ç³ŠåŒ¹é…" class="headerlink" title="æ¨¡ç³ŠåŒ¹é…"></a>æ¨¡ç³ŠåŒ¹é…</h2><h3 id="ç§ç±»"><a href="#ç§ç±»" class="headerlink" title="ç§ç±»"></a>ç§ç±»</h3><p>æ¨¡ç³ŠåŒ¹é…æœ‰likeï¼Œ&gt;, &lt; ,&gt;=,&lt;=</p><p>å¯¹åº”çš„æ–¹æ³•å°±æ˜¯like , gt,lt,ge,le</p><h3 id="ä½¿ç”¨æ­¥éª¤"><a href="#ä½¿ç”¨æ­¥éª¤" class="headerlink" title="ä½¿ç”¨æ­¥éª¤"></a>ä½¿ç”¨æ­¥éª¤</h3><p>1.ä»rootä¸­è·å–è¦æ“ä½œçš„å±æ€§</p><p>2.è°ƒç”¨æ¨¡ç³ŠåŒ¹é…æ–¹æ³•ï¼Œä¼ å…¥ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªæ˜¯path.as(å±æ€§çš„ç±»å‹.class),ç¬¬äºŒä¸ªæ˜¯å±æ€§å€¼</p><h3 id="æµ‹è¯•ä»£ç "><a href="#æµ‹è¯•ä»£ç " class="headerlink" title="æµ‹è¯•ä»£ç "></a>æµ‹è¯•ä»£ç </h3><blockquote><p>æŸ¥è¯¢å®¢æˆ·ååŒ…å«ä¼ æ™ºæ’­å®¢ï¼Œå¹¶ä¸”ID&gt;=2çš„ç”¨æˆ·</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">dimQuery</span><span class="params">()</span></span>&#123;</span><br><span class="line">    Customer cus = customerDao.findOne(<span class="keyword">new</span> Specification&lt;Customer&gt;() &#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> Predicate <span class="title">toPredicate</span><span class="params">(Root&lt;Customer&gt; root, CriteriaQuery&lt;?&gt; criteriaQuery, CriteriaBuilder criteriaBuilder)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">            <span class="comment">//åˆ¤æ–­å®¢æˆ·ååŒ…å«ä¼ æ™ºæ’­å®¢ ä½¿ç”¨likeæ–¹æ³•</span></span><br><span class="line">            Predicate p1 = criteriaBuilder.like(root.get(<span class="string">"custName"</span>).as(String.class), <span class="string">"%ä¼ æ™ºæ’­å®¢%"</span>);</span><br><span class="line">            <span class="comment">//åˆ¤æ–­ID&gt;=2 ä½¿ç”¨geæ–¹æ³•</span></span><br><span class="line">            Predicate p2 = criteriaBuilder.ge(root.get(<span class="string">"custId"</span>).as(Long.class), <span class="number">2L</span>);</span><br><span class="line"></span><br><span class="line">            <span class="comment">//custName like "%ä¼ æ™ºæ’­å®¢%" and custId&gt;=2</span></span><br><span class="line">            <span class="keyword">return</span> criteriaBuilder.and(p1, p2);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">    System.out.println(cus);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>è¿è¡Œç»“æœ</p></blockquote><p><img src="//haoyongliang.gitee.io/2019/07/13/SpringBoot/SpringDataJpa/SpringDataJpa03/03.png" alt></p><h2 id="æ’åº"><a href="#æ’åº" class="headerlink" title="æ’åº"></a>æ’åº</h2><h3 id="ä¸€ä¸ªæ’åºæ¡ä»¶"><a href="#ä¸€ä¸ªæ’åºæ¡ä»¶" class="headerlink" title="ä¸€ä¸ªæ’åºæ¡ä»¶"></a>ä¸€ä¸ªæ’åºæ¡ä»¶</h3><blockquote><p>éœ€æ±‚ï¼šæŒ‰ç…§IDé™åºæŸ¥è¯¢</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ ¹æ®ä¸€ä¸ªæ¡ä»¶æ’åº</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">orderByTest1</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="comment">//æ ¹æ®IDé™åºæ’åº</span></span><br><span class="line">    Sort sort = <span class="keyword">new</span> Sort(Sort.Direction.DESC,<span class="string">"custId"</span>);</span><br><span class="line">    <span class="comment">//æŸ¥è¯¢æ¡ä»¶ä¼ å…¥null è¡¨ç¤º æŸ¥è¯¢å…¨éƒ¨</span></span><br><span class="line">    List&lt;Customer&gt; all = customerDao.findAll(<span class="keyword">null</span>, sort);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (Customer customer : all) &#123;</span><br><span class="line">        System.out.println(customer);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>è¿è¡Œç»“æœ</p></blockquote><p><img src="//haoyongliang.gitee.io/2019/07/13/SpringBoot/SpringDataJpa/SpringDataJpa03/04.png" alt></p><h3 id="å¤šä¸ªæ’åºæ¡ä»¶"><a href="#å¤šä¸ªæ’åºæ¡ä»¶" class="headerlink" title="å¤šä¸ªæ’åºæ¡ä»¶"></a>å¤šä¸ªæ’åºæ¡ä»¶</h3><blockquote><p>æŒ‰ç…§ç”µè¯é™åºæ’åºï¼Œå¦‚æœç”µè¯ç›¸åŒæŒ‰ç…§IDå‡åºæ’åº</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ ¹æ®å¤šä¸ªæ¡ä»¶æ’åº</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">orderByTest2</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="comment">//è®¾ç½®æ’åºæ¡ä»¶</span></span><br><span class="line">    Sort.Order o1 = <span class="keyword">new</span> Sort.Order(Sort.Direction.DESC, <span class="string">"custPhone"</span>);</span><br><span class="line">    Sort.Order o2 = <span class="keyword">new</span> Sort.Order(Sort.Direction.ASC, <span class="string">"custId"</span>);</span><br><span class="line"></span><br><span class="line">    ArrayList orders = <span class="keyword">new</span> ArrayList();</span><br><span class="line">    <span class="comment">//Orderå¯¹è±¡æ·»åŠ è¿›å»çš„é¡ºåºå°±æ˜¯æ’åºé¡ºåº</span></span><br><span class="line">    orders.add(o1);</span><br><span class="line">    orders.add(o2);</span><br><span class="line"></span><br><span class="line">    Sort sort = <span class="keyword">new</span> Sort(orders);<span class="comment">//æŠŠæ’åºæ¡ä»¶è®¾ç½®åˆ°Sortå¯¹è±¡ä¸­</span></span><br><span class="line">    <span class="comment">//æŸ¥è¯¢æ¡ä»¶ä¼ å…¥null è¡¨ç¤º æŸ¥è¯¢å…¨éƒ¨</span></span><br><span class="line">    <span class="comment">//select * from cst_customer order by cust_Phone desc, cust_Id asc</span></span><br><span class="line">    List&lt;Customer&gt; all = customerDao.findAll(<span class="keyword">null</span>, sort);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (Customer customer : all) &#123;</span><br><span class="line">        System.out.println(customer);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="//haoyongliang.gitee.io/2019/07/13/SpringBoot/SpringDataJpa/SpringDataJpa03/05.png" alt></p><h3 id="ä½¿ç”¨CriteriaQueryå®Œæˆæ’åº"><a href="#ä½¿ç”¨CriteriaQueryå®Œæˆæ’åº" class="headerlink" title="ä½¿ç”¨CriteriaQueryå®Œæˆæ’åº"></a>ä½¿ç”¨CriteriaQueryå®Œæˆæ’åº</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">orderTest3</span><span class="params">()</span></span>&#123;</span><br><span class="line">    List&lt;Customer&gt; all = customerDao.findAll(<span class="keyword">new</span> Specification&lt;Customer&gt;() &#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> Predicate <span class="title">toPredicate</span><span class="params">(Root&lt;Customer&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder cb)</span> </span>&#123;</span><br><span class="line">            <span class="comment">//è®¾ç½®æŸ¥è¯¢æ¡ä»¶,å¯ä»¥ä¸å†™çš„</span></span><br><span class="line">            query.where(cb.like(root.get(<span class="string">"custName"</span>).as(String.class),<span class="string">"%ä¼ %"</span>));</span><br><span class="line">            query.orderBy(cb.desc(root.get(<span class="string">"custPhone"</span>)), cb.asc(root.get(<span class="string">"custId"</span>)));</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">return</span> query.getRestriction();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (Customer customer : all) &#123;</span><br><span class="line">        System.out.println(customer);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>è¿è¡Œç»“æœ</p></blockquote><p><img src="//haoyongliang.gitee.io/2019/07/13/SpringBoot/SpringDataJpa/SpringDataJpa03/06.png" alt></p><h2 id="åˆ†é¡µ"><a href="#åˆ†é¡µ" class="headerlink" title="åˆ†é¡µ"></a>åˆ†é¡µ</h2><blockquote><p>éœ€æ±‚ æŸ¥è¯¢ID=4,5,6çš„æ•°æ®</p></blockquote><p><img src="//haoyongliang.gitee.io/2019/07/13/SpringBoot/SpringDataJpa/SpringDataJpa03/07.png" alt></p><blockquote><p>ä»£ç </p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * åˆ†é¡µæŸ¥è¯¢</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">pageTest</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="comment">//ç¬¬ä¸€ä¸ªå‚æ•°è¡¨ç¤ºæŸ¥è¯¢å“ªé¡µçš„æ•°æ®ï¼Œé¡µç ä»0å¼€å§‹</span></span><br><span class="line">    <span class="comment">//ç¬¬äºŒä¸ªå‚æ•°è¡¨ç¤ºè¦æŸ¥è¯¢å‡ æ¡è®°å½•</span></span><br><span class="line">    PageRequest pageRequest = <span class="keyword">new</span> PageRequest(<span class="number">1</span>, <span class="number">3</span>);</span><br><span class="line">    Page&lt;Customer&gt; all = customerDao.findAll(<span class="keyword">null</span>, pageRequest);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (Customer customer : all) &#123;</span><br><span class="line">        System.out.println(customer);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>è¿è¡Œç»“æœ</p></blockquote><p><img src="//haoyongliang.gitee.io/2019/07/13/SpringBoot/SpringDataJpa/SpringDataJpa03/08.png" alt></p><h2 id="æ¡ˆä¾‹"><a href="#æ¡ˆä¾‹" class="headerlink" title="æ¡ˆä¾‹"></a>æ¡ˆä¾‹</h2><blockquote><p>éœ€æ±‚ï¼Œç½‘é¡µéœ€è¦ä¸€ä¸ªæœç´¢åŠŸèƒ½ï¼Œå¦‚æœç”¨è¾“å…¥å®¢æˆ·åï¼Œåˆ™å¯ä»¥æ ¹æ®å®¢æˆ·åæœç´¢ï¼Œå¦‚æœè¾“å…¥ç”µè¯ï¼Œåˆ™å¯ä»¥æ ¹æ®ç”µè¯æœç´¢ï¼Œå¦‚æœéƒ½è¾“å…¥äº†å°±æ ¹æ®ç”¨æˆ·åå’Œç”µè¯æœç´¢ï¼Œé—®ï¼Œserviceå±‚ä¸­çš„æ–¹æ³•åº”è¯¥å¦‚ä½•å®ç°</p></blockquote><p><img src="//haoyongliang.gitee.io/2019/07/13/SpringBoot/SpringDataJpa/SpringDataJpa03/09.png" alt></p><blockquote><p>ä»£ç </p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;Customer&gt; <span class="title">search</span><span class="params">(String custName, String custPhone)</span></span>&#123;</span><br><span class="line">    List&lt;Customer&gt; customers = customerDao.findAll(<span class="keyword">new</span> Specification&lt;Customer&gt;() &#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> Predicate <span class="title">toPredicate</span><span class="params">(Root&lt;Customer&gt; root, CriteriaQuery&lt;?&gt; criteriaQuery, CriteriaBuilder criteriaBuilder)</span> </span>&#123;</span><br><span class="line">            List&lt;Predicate&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">            </span><br><span class="line">            <span class="comment">//æ‹¼æ¥å®¢æˆ·å</span></span><br><span class="line">            <span class="keyword">if</span>(custName!=<span class="keyword">null</span> &amp;&amp; !custName.trim().equals(<span class="string">""</span>))&#123;</span><br><span class="line">                Predicate p = criteriaBuilder.like(root.get(<span class="string">"custName"</span>).as(String.class), <span class="string">"%"</span> + custName + <span class="string">"%"</span>);</span><br><span class="line">                list.add(p);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">//æ‹¼æ¥ç”µè¯</span></span><br><span class="line">            <span class="keyword">if</span>(custPhone!=<span class="keyword">null</span> &amp;&amp; !custPhone.trim().equals(<span class="string">""</span>))&#123;</span><br><span class="line">                Predicate p = criteriaBuilder.like(root.get(<span class="string">"custPhone"</span>).as(String.class), <span class="string">"%"</span> + custPhone + <span class="string">"%"</span>);</span><br><span class="line">                list.add(p);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">            <span class="comment">//æŠŠæŸ¥è¯¢æ¡ä»¶ç”¨andè¿›è¡Œæ‹¼æ¥</span></span><br><span class="line">            Predicate p = criteriaBuilder.and(list.toArray(<span class="keyword">new</span> Predicate[<span class="number">0</span>]));</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> p;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> customers;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">searchTest</span><span class="params">()</span></span>&#123;</span><br><span class="line">    List&lt;Customer&gt; customers = search(<span class="string">"ä¼ "</span>, <span class="string">"1"</span>);</span><br><span class="line">    <span class="keyword">for</span> (Customer customer : customers) &#123;</span><br><span class="line">        System.out.println(customer);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>è¿è¡Œç»“æœ</p></blockquote><p><img src="//haoyongliang.gitee.io/2019/07/13/SpringBoot/SpringDataJpa/SpringDataJpa03/10.png" alt></p><h1 id="å¤šè¡¨æŸ¥è¯¢"><a href="#å¤šè¡¨æŸ¥è¯¢" class="headerlink" title="å¤šè¡¨æŸ¥è¯¢"></a>å¤šè¡¨æŸ¥è¯¢</h1><h2 id="ä¸€å¯¹å¤šå’Œå¤šå¯¹ä¸€"><a href="#ä¸€å¯¹å¤šå’Œå¤šå¯¹ä¸€" class="headerlink" title="ä¸€å¯¹å¤šå’Œå¤šå¯¹ä¸€"></a>ä¸€å¯¹å¤šå’Œå¤šå¯¹ä¸€</h2><h3 id="éœ€æ±‚"><a href="#éœ€æ±‚" class="headerlink" title="éœ€æ±‚"></a>éœ€æ±‚</h3><p>ä¸€ä¸ªCustomer[è¿™é‡Œç”¨æˆ·è¡¨ç¤ºå…¬å¸]å¯¹åº”å¤šä¸ªè”ç³»äºº</p><h3 id="åˆ›å»ºè¡¨"><a href="#åˆ›å»ºè¡¨" class="headerlink" title="åˆ›å»ºè¡¨"></a>åˆ›å»ºè¡¨</h3><blockquote><p>ä¸ºäº†é¿å…å’Œä¹‹å‰çš„æ•°æ®äº§ç”Ÿå†²çªï¼Œåœ¨è®²å¤šè¡¨æŸ¥è¯¢çš„æ—¶å€™è¡¨åå’Œå®ä½“ç±»ååé¢éƒ½ä¼šåŠ æ•°å­—è¿›è¡ŒåŒºåˆ†</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> <span class="keyword">IF</span> <span class="keyword">EXISTS</span> <span class="string">`cst_customer2`</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="string">`cst_customer2`</span> (</span><br><span class="line">  <span class="string">`cust_id`</span> <span class="built_in">bigint</span>(<span class="number">32</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span> AUTO_INCREMENT <span class="keyword">COMMENT</span> <span class="string">'å®¢æˆ·ç¼–å·(ä¸»é”®)'</span>,</span><br><span class="line">  <span class="string">`cust_name`</span> <span class="built_in">varchar</span>(<span class="number">32</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'å®¢æˆ·åç§°(å…¬å¸åç§°)'</span>,</span><br><span class="line">  <span class="string">`cust_source`</span> <span class="built_in">varchar</span>(<span class="number">32</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'å®¢æˆ·ä¿¡æ¯æ¥æº'</span>,</span><br><span class="line">  <span class="string">`cust_industry`</span> <span class="built_in">varchar</span>(<span class="number">32</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'å®¢æˆ·æ‰€å±è¡Œä¸š'</span>,</span><br><span class="line">  <span class="string">`cust_level`</span> <span class="built_in">varchar</span>(<span class="number">32</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'å®¢æˆ·çº§åˆ«'</span>,</span><br><span class="line">  <span class="string">`cust_address`</span> <span class="built_in">varchar</span>(<span class="number">128</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'å®¢æˆ·è”ç³»åœ°å€'</span>,</span><br><span class="line">  <span class="string">`cust_phone`</span> <span class="built_in">varchar</span>(<span class="number">64</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'å®¢æˆ·è”ç³»ç”µè¯'</span>,</span><br><span class="line">  PRIMARY <span class="keyword">KEY</span> (<span class="string">`cust_id`</span>)</span><br><span class="line">) <span class="keyword">ENGINE</span>=<span class="keyword">InnoDB</span> AUTO_INCREMENT=<span class="number">117</span> <span class="keyword">DEFAULT</span> <span class="keyword">CHARSET</span>=utf8;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> <span class="keyword">IF</span> <span class="keyword">EXISTS</span> <span class="string">`cst_linkman2`</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="string">`cst_linkman2`</span> (</span><br><span class="line">  <span class="string">`lkm_id`</span> <span class="built_in">bigint</span>(<span class="number">32</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span> AUTO_INCREMENT <span class="keyword">COMMENT</span> <span class="string">'è”ç³»äººç¼–å·(ä¸»é”®)'</span>,</span><br><span class="line">  <span class="string">`lkm_name`</span> <span class="built_in">varchar</span>(<span class="number">16</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'è”ç³»äººå§“å'</span>,</span><br><span class="line">  <span class="string">`lkm_gender`</span> <span class="built_in">char</span>(<span class="number">1</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'è”ç³»äººæ€§åˆ«'</span>,</span><br><span class="line">  <span class="string">`lkm_phone`</span> <span class="built_in">varchar</span>(<span class="number">16</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'è”ç³»äººåŠå…¬ç”µè¯'</span>,</span><br><span class="line">  <span class="string">`lkm_mobile`</span> <span class="built_in">varchar</span>(<span class="number">16</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'è”ç³»äººæ‰‹æœº'</span>,</span><br><span class="line">  <span class="string">`lkm_email`</span> <span class="built_in">varchar</span>(<span class="number">64</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'è”ç³»äººé‚®ç®±'</span>,</span><br><span class="line">  <span class="string">`lkm_position`</span> <span class="built_in">varchar</span>(<span class="number">16</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'è”ç³»äººèŒä½'</span>,</span><br><span class="line">  <span class="string">`lkm_memo`</span> <span class="built_in">varchar</span>(<span class="number">512</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'è”ç³»äººå¤‡æ³¨'</span>,</span><br><span class="line">  <span class="string">`lkm_cust_id`</span> <span class="built_in">bigint</span>(<span class="number">32</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'å®¢æˆ·id(å¤–é”®)'</span>,</span><br><span class="line">  PRIMARY <span class="keyword">KEY</span> (<span class="string">`lkm_id`</span>),</span><br><span class="line">  <span class="keyword">KEY</span> <span class="string">`FK_cst_linkman_lkm_cust_id`</span> (<span class="string">`lkm_cust_id`</span>)</span><br><span class="line">) <span class="keyword">ENGINE</span>=<span class="keyword">InnoDB</span> AUTO_INCREMENT=<span class="number">23</span> <span class="keyword">DEFAULT</span> <span class="keyword">CHARSET</span>=utf8;</span><br></pre></td></tr></table></figure><h3 id="åˆ›å»ºå®ä½“ç±»åŠæ˜ å°„å…³ç³»"><a href="#åˆ›å»ºå®ä½“ç±»åŠæ˜ å°„å…³ç³»" class="headerlink" title="åˆ›å»ºå®ä½“ç±»åŠæ˜ å°„å…³ç³»"></a>åˆ›å»ºå®ä½“ç±»åŠæ˜ å°„å…³ç³»</h3><blockquote><p>å®¢æˆ·</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.itcast.domain;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.persistence.*;</span><br><span class="line"><span class="keyword">import</span> java.util.HashSet;</span><br><span class="line"><span class="keyword">import</span> java.util.Set;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@Entity</span></span><br><span class="line"><span class="meta">@Table</span>(name=<span class="string">"cst_customer2"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Customer2</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Id</span></span><br><span class="line">    <span class="meta">@GeneratedValue</span>(strategy = GenerationType.IDENTITY)</span><br><span class="line">    <span class="meta">@Column</span>(name=<span class="string">"cust_id"</span>)</span><br><span class="line">    <span class="keyword">private</span> Long custId;</span><br><span class="line">    <span class="meta">@Column</span>(name=<span class="string">"cust_address"</span>)</span><br><span class="line">    <span class="keyword">private</span> String custAddress;</span><br><span class="line">    <span class="meta">@Column</span>(name=<span class="string">"cust_industry"</span>)</span><br><span class="line">    <span class="keyword">private</span> String custIndustry;</span><br><span class="line">    <span class="meta">@Column</span>(name=<span class="string">"cust_level"</span>)</span><br><span class="line">    <span class="keyword">private</span> String custLevel;</span><br><span class="line">    <span class="meta">@Column</span>(name=<span class="string">"cust_name"</span>)</span><br><span class="line">    <span class="keyword">private</span> String custName;</span><br><span class="line">    <span class="meta">@Column</span>(name=<span class="string">"cust_phone"</span>)</span><br><span class="line">    <span class="keyword">private</span> String custPhone;</span><br><span class="line">    <span class="meta">@Column</span>(name=<span class="string">"cust_source"</span>)</span><br><span class="line">    <span class="keyword">private</span> String custSource;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Long <span class="title">getCustId</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> custId;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCustId</span><span class="params">(Long custId)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.custId = custId;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getCustAddress</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> custAddress;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCustAddress</span><span class="params">(String custAddress)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.custAddress = custAddress;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getCustIndustry</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> custIndustry;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCustIndustry</span><span class="params">(String custIndustry)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.custIndustry = custIndustry;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getCustLevel</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> custLevel;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCustLevel</span><span class="params">(String custLevel)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.custLevel = custLevel;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getCustName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> custName;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCustName</span><span class="params">(String custName)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.custName = custName;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getCustPhone</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> custPhone;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCustPhone</span><span class="params">(String custPhone)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.custPhone = custPhone;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getCustSource</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> custSource;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCustSource</span><span class="params">(String custSource)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.custSource = custSource;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"Customer&#123;"</span> +</span><br><span class="line">                <span class="string">"custId="</span> + custId +</span><br><span class="line">                <span class="string">", custAddress='"</span> + custAddress + <span class="string">'\''</span> +</span><br><span class="line">                <span class="string">", custIndustry='"</span> + custIndustry + <span class="string">'\''</span> +</span><br><span class="line">                <span class="string">", custLevel='"</span> + custLevel + <span class="string">'\''</span> +</span><br><span class="line">                <span class="string">", custName='"</span> + custName + <span class="string">'\''</span> +</span><br><span class="line">                <span class="string">", custPhone='"</span> + custPhone + <span class="string">'\''</span> +</span><br><span class="line">                <span class="string">", custSource='"</span> + custSource + <span class="string">'\''</span> +</span><br><span class="line">                <span class="string">'&#125;'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>è”ç³»äºº</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.itcast.domain;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.persistence.*;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Entity</span></span><br><span class="line"><span class="meta">@Table</span>(name = <span class="string">"cst_linkman2"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LinkMan2</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Id</span></span><br><span class="line">    <span class="meta">@GeneratedValue</span>(strategy = GenerationType.IDENTITY)</span><br><span class="line">    <span class="meta">@Column</span>(name = <span class="string">"lkm_id"</span>)</span><br><span class="line">    <span class="keyword">private</span> Long lkmId; <span class="comment">//è”ç³»äººç¼–å·(ä¸»é”®)</span></span><br><span class="line">    <span class="meta">@Column</span>(name = <span class="string">"lkm_name"</span>)</span><br><span class="line">    <span class="keyword">private</span> String lkmName;<span class="comment">//è”ç³»äººå§“å</span></span><br><span class="line">    <span class="meta">@Column</span>(name = <span class="string">"lkm_gender"</span>)</span><br><span class="line">    <span class="keyword">private</span> String lkmGender;<span class="comment">//è”ç³»äººæ€§åˆ«</span></span><br><span class="line">    <span class="meta">@Column</span>(name = <span class="string">"lkm_phone"</span>)</span><br><span class="line">    <span class="keyword">private</span> String lkmPhone;<span class="comment">//è”ç³»äººåŠå…¬ç”µè¯</span></span><br><span class="line">    <span class="meta">@Column</span>(name = <span class="string">"lkm_mobile"</span>)</span><br><span class="line">    <span class="keyword">private</span> String lkmMobile;<span class="comment">//è”ç³»äººæ‰‹æœº</span></span><br><span class="line">    <span class="meta">@Column</span>(name = <span class="string">"lkm_email"</span>)</span><br><span class="line">    <span class="keyword">private</span> String lkmEmail;<span class="comment">//è”ç³»äººé‚®ç®±</span></span><br><span class="line">    <span class="meta">@Column</span>(name = <span class="string">"lkm_position"</span>)</span><br><span class="line">    <span class="keyword">private</span> String lkmPosition;<span class="comment">//è”ç³»äººèŒä½</span></span><br><span class="line">    <span class="meta">@Column</span>(name = <span class="string">"lkm_memo"</span>)</span><br><span class="line">    <span class="keyword">private</span> String lkmMemo;<span class="comment">//è”ç³»äººå¤‡æ³¨</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Long <span class="title">getLkmId</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> lkmId;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setLkmId</span><span class="params">(Long lkmId)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.lkmId = lkmId;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getLkmName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> lkmName;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setLkmName</span><span class="params">(String lkmName)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.lkmName = lkmName;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getLkmGender</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> lkmGender;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setLkmGender</span><span class="params">(String lkmGender)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.lkmGender = lkmGender;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getLkmPhone</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> lkmPhone;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setLkmPhone</span><span class="params">(String lkmPhone)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.lkmPhone = lkmPhone;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getLkmMobile</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> lkmMobile;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setLkmMobile</span><span class="params">(String lkmMobile)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.lkmMobile = lkmMobile;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getLkmEmail</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> lkmEmail;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setLkmEmail</span><span class="params">(String lkmEmail)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.lkmEmail = lkmEmail;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getLkmPosition</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> lkmPosition;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setLkmPosition</span><span class="params">(String lkmPosition)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.lkmPosition = lkmPosition;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getLkmMemo</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> lkmMemo;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setLkmMemo</span><span class="params">(String lkmMemo)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.lkmMemo = lkmMemo;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"LinkMan&#123;"</span> +</span><br><span class="line">                <span class="string">"lkmId="</span> + lkmId +</span><br><span class="line">                <span class="string">", lkmName='"</span> + lkmName + <span class="string">'\''</span> +</span><br><span class="line">                <span class="string">", lkmGender='"</span> + lkmGender + <span class="string">'\''</span> +</span><br><span class="line">                <span class="string">", lkmPhone='"</span> + lkmPhone + <span class="string">'\''</span> +</span><br><span class="line">                <span class="string">", lkmMobile='"</span> + lkmMobile + <span class="string">'\''</span> +</span><br><span class="line">                <span class="string">", lkmEmail='"</span> + lkmEmail + <span class="string">'\''</span> +</span><br><span class="line">                <span class="string">", lkmPosition='"</span> + lkmPosition + <span class="string">'\''</span> +</span><br><span class="line">                <span class="string">", lkmMemo='"</span> + lkmMemo + <span class="string">'\''</span> +</span><br><span class="line">                <span class="string">'&#125;'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ä¸€å¯¹å¤šå…³ç³»é…ç½®åŠæµ‹è¯•"><a href="#ä¸€å¯¹å¤šå…³ç³»é…ç½®åŠæµ‹è¯•" class="headerlink" title="ä¸€å¯¹å¤šå…³ç³»é…ç½®åŠæµ‹è¯•"></a>ä¸€å¯¹å¤šå…³ç³»é…ç½®åŠæµ‹è¯•</h3><blockquote><p>ä½¿ç”¨ä¸€å¯¹å¤šçš„å¥½å¤„ï¼š</p><p>â€‹    é€šè¿‡ä¸€çš„ä¸€æ–¹å¯ä»¥ç›´æ¥è·å–å¤šçš„ä¸€æ–¹</p><p>â€‹    ä¿å­˜ä¸€çš„ä¸€æ–¹çš„æ—¶å€™å¤šçš„ä¸€æ–¹ä¹Ÿä¼šè¢«é¡ºä¾¿ä¿å­˜</p><p>å…·ä½“ä½¿ç”¨æ–¹å¼è¯·æŸ¥çœ‹æµ‹è¯•ç±»</p></blockquote><blockquote><p>1ã€è¯´æ˜</p></blockquote><p>å®¢æˆ·æ˜¯ä¸€çš„ä¸€æ–¹</p><p>è”ç³»äººæ˜¯å¤šçš„ä¸€æ–¹</p><blockquote><p> 2.åœ¨å®¢æˆ·å®ä½“ç±»ï¼ˆCustomer2ï¼‰ä¸­æ·»åŠ é›†åˆå±æ€§ï¼Œå­˜å‚¨æ‰€æœ‰çš„è”ç³»äºº</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> Set&lt;LinkMan2&gt; linkMan2s = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> Set&lt;LinkMan2&gt; <span class="title">getLinkMan2s</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> linkMan2s;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setLinkMan2s</span><span class="params">(Set&lt;LinkMan2&gt; linkMan2s)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.linkMan2s = linkMan2s;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>3.é…ç½®æ˜ å°„å…³ç³»Â·</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@OneToMany</span> è¯´æ˜æ˜¯ä¸€å¯¹å¤šå…³ç³»</span></span><br><span class="line"><span class="comment"> *      targetEntity:å…³è”æŒ‡å®šçš„å®ä½“ç±»</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@JoinColumn</span> é…ç½®å¤–é”®</span></span><br><span class="line"><span class="comment"> *      name å‰¯è¡¨çš„å¤–é”®</span></span><br><span class="line"><span class="comment"> *      referencedColumnName ä¸»è¡¨çš„ä¸»é”®</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@OneToMany</span>(targetEntity = LinkMan2.class)</span><br><span class="line"><span class="meta">@JoinColumn</span>(name=<span class="string">"lkm_cust_id"</span>,referencedColumnName = <span class="string">"cust_id"</span>)</span><br><span class="line"><span class="keyword">private</span> Set&lt;LinkMan2&gt; linkMan2s = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> Set&lt;LinkMan2&gt; <span class="title">getLinkMan2s</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> linkMan2s;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setLinkMan2s</span><span class="params">(Set&lt;LinkMan2&gt; linkMan2s)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.linkMan2s = linkMan2s;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>4.åˆ›å»ºDaoæ¥å£</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.itcast.dao;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> cn.itcast.domain.Customer;</span><br><span class="line"><span class="keyword">import</span> cn.itcast.domain.Customer2;</span><br><span class="line"><span class="keyword">import</span> org.springframework.data.jpa.repository.JpaRepository;</span><br><span class="line"><span class="keyword">import</span> org.springframework.data.jpa.repository.JpaSpecificationExecutor;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">CustomerDao2</span> <span class="keyword">extends</span> <span class="title">JpaRepository</span>&lt;<span class="title">Customer2</span>,<span class="title">Long</span>&gt;,<span class="title">JpaSpecificationExecutor</span>&lt;<span class="title">Customer2</span>&gt; </span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">LinkManDao2</span> <span class="keyword">extends</span> <span class="title">JpaRepository</span>&lt;<span class="title">LinkMan2</span>,<span class="title">Long</span>&gt;,<span class="title">JpaSpecificationExecutor</span>&lt;<span class="title">LinkMan2</span>&gt; </span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>5.æµ‹è¯•</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.itcast.dao;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> cn.itcast.domain.Customer2;</span><br><span class="line"><span class="keyword">import</span> cn.itcast.domain.LinkMan2;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"><span class="keyword">import</span> org.junit.runner.RunWith;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.test.annotation.Rollback;</span><br><span class="line"><span class="keyword">import</span> org.springframework.test.context.ContextConfiguration;</span><br><span class="line"><span class="keyword">import</span> org.springframework.test.context.junit4.SpringJUnit4ClassRunner;</span><br><span class="line"><span class="keyword">import</span> org.springframework.transaction.annotation.Transactional;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.HashSet;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.Set;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RunWith</span>(SpringJUnit4ClassRunner.class)</span><br><span class="line"><span class="meta">@ContextConfiguration</span>(locations = <span class="string">"classpath:applicationContext.xml"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">One2ManyTest</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> CustomerDao2 customerDao2 ;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> LinkManDao2 linkManDao2;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="meta">@Transactional</span></span><br><span class="line">    <span class="meta">@Rollback</span>(<span class="keyword">false</span>)</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æµ‹è¯•ä¿å­˜</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">()</span></span>&#123;</span><br><span class="line">        LinkMan2 lm1 = <span class="keyword">new</span> LinkMan2();</span><br><span class="line">        lm1.setLkmEmail(<span class="string">"kefuA@foxmail.com"</span>);</span><br><span class="line">        lm1.setLkmGender(<span class="string">"ç”·"</span>);</span><br><span class="line">        lm1.setLkmMobile(<span class="string">"110"</span>);</span><br><span class="line">        lm1.setLkmName(<span class="string">"å®¢æœA"</span>);</span><br><span class="line"></span><br><span class="line">        LinkMan2 lm2 = <span class="keyword">new</span> LinkMan2();</span><br><span class="line">        lm2.setLkmEmail(<span class="string">"kefuB@foxmail.com"</span>);</span><br><span class="line">        lm2.setLkmGender(<span class="string">"å¥³"</span>);</span><br><span class="line">        lm2.setLkmMobile(<span class="string">"119"</span>);</span><br><span class="line">        lm2.setLkmName(<span class="string">"å®¢æœB"</span>);</span><br><span class="line"></span><br><span class="line">        Customer2 customer2 = <span class="keyword">new</span> Customer2();</span><br><span class="line">        customer2.setCustName(<span class="string">"JACK"</span>);</span><br><span class="line"></span><br><span class="line">        customer2.getLinkMan2s().add(lm1);<span class="comment">//é€šè¿‡å®¢æˆ·å®ä½“ç±»ç»´æŠ¤å’Œè”ç³»äººä¹‹é—´çš„å…³ç³»</span></span><br><span class="line">        customer2.getLinkMan2s().add(lm2);<span class="comment">//é€šè¿‡å®¢æˆ·å®ä½“ç±»ç»´æŠ¤å’Œè”ç³»äººä¹‹é—´çš„å…³ç³»</span></span><br><span class="line">        customerDao2.save(customer2);<span class="comment">//ä¿å­˜å®¢æˆ·</span></span><br><span class="line">        </span><br><span class="line">        </span><br><span class="line">        linkManDao2.save(lm1);<span class="comment">//ä¿å­˜è”ç³»äºº</span></span><br><span class="line">        linkManDao2.save(lm2);<span class="comment">//ä¿å­˜è”ç³»äºº</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>è¿è¡Œç»“æœ</p></blockquote><p><img src="//haoyongliang.gitee.io/2019/07/13/SpringBoot/SpringDataJpa/SpringDataJpa03/12.png" alt></p><h3 id="å¤šå¯¹ä¸€å…³ç³»é…ç½®åŠæµ‹è¯•"><a href="#å¤šå¯¹ä¸€å…³ç³»é…ç½®åŠæµ‹è¯•" class="headerlink" title="å¤šå¯¹ä¸€å…³ç³»é…ç½®åŠæµ‹è¯•"></a>å¤šå¯¹ä¸€å…³ç³»é…ç½®åŠæµ‹è¯•</h3><blockquote><p>1.è¯´æ˜</p></blockquote><p>å®¢æˆ·(Customer2)[ä¸»è¡¨]æ˜¯ä¸€çš„ä¸€æ–¹</p><p>è”ç³»äºº(LinkMan2)[å‰¯è¡¨]æ˜¯å¤šçš„ä¸€æ–¹</p><p>æˆ‘ä»¬éœ€è¦åœ¨å¤šçš„ä¸€æ–¹ä¸­é…ç½®å…³ç³»</p><blockquote><p>2.åœ¨LinkMan2ä¸­æ·»åŠ å±æ€§CUstomer2</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> Customer2 customer2;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> Customer2 <span class="title">getCustomer2</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> customer2;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCustomer2</span><span class="params">(Customer2 customer2)</span> </span>&#123;</span><br><span class="line"><span class="keyword">this</span>.customer2 = customer2;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>3.æ·»åŠ æ˜ å°„å…³ç³»</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">targetEntity æŒ‡å®šè¦å…³è”çš„å®ä½“ç±»</span></span><br><span class="line"><span class="comment"><span class="doctag">@JoinColumn</span> é…ç½®å¤–é”® </span></span><br><span class="line"><span class="comment">name å‰¯è¡¨ä¸­å¤–é”®çš„åå­—</span></span><br><span class="line"><span class="comment">referencedColumnName ä¸»è¡¨ä¸­ä¸»é”®çš„åå­—</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="meta">@ManyToOne</span>(targetEntity = Customer2.class)</span><br><span class="line"><span class="meta">@JoinColumn</span>(name=<span class="string">"lkm_cust_id"</span>,referencedColumnName = <span class="string">"cust_id"</span>)</span><br><span class="line"><span class="keyword">private</span> Customer2 customer2;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> Customer2 <span class="title">getCustomer2</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> customer2;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCustomer2</span><span class="params">(Customer2 customer2)</span> </span>&#123;</span><br><span class="line"><span class="keyword">this</span>.customer2 = customer2;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>4.æµ‹è¯•</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.itcast.dao;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> cn.itcast.domain.Customer2;</span><br><span class="line"><span class="keyword">import</span> cn.itcast.domain.LinkMan2;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"><span class="keyword">import</span> org.junit.runner.RunWith;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.test.annotation.Rollback;</span><br><span class="line"><span class="keyword">import</span> org.springframework.test.context.ContextConfiguration;</span><br><span class="line"><span class="keyword">import</span> org.springframework.test.context.junit4.SpringJUnit4ClassRunner;</span><br><span class="line"><span class="keyword">import</span> org.springframework.transaction.annotation.Transactional;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RunWith</span>(SpringJUnit4ClassRunner.class)</span><br><span class="line"><span class="meta">@ContextConfiguration</span>(locations = <span class="string">"classpath:applicationContext.xml"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Many2OneTest</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> CustomerDao2 customerDao2;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> LinkManDao2 linkManDao2;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">findAllTest</span><span class="params">()</span></span>&#123;</span><br><span class="line">        List&lt;LinkMan2&gt; all = linkManDao2.findAll();</span><br><span class="line">        <span class="keyword">for</span> (LinkMan2 linkMan2 : all) &#123;</span><br><span class="line">            Customer2 customer2 = linkMan2.getCustomer2();</span><br><span class="line">            System.out.println(customer2);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="meta">@Transactional</span></span><br><span class="line">    <span class="meta">@Rollback</span>(<span class="keyword">false</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addTest</span><span class="params">()</span></span>&#123;</span><br><span class="line">        LinkMan2 lm = <span class="keyword">new</span> LinkMan2();</span><br><span class="line">        lm.setLkmEmail(<span class="string">"kefuB@foxmail.com"</span>);</span><br><span class="line">        lm.setLkmGender(<span class="string">"å¥³"</span>);</span><br><span class="line">        lm.setLkmMobile(<span class="string">"119"</span>);</span><br><span class="line">        lm.setLkmName(<span class="string">"å®¢æœBBBB"</span>);</span><br><span class="line"></span><br><span class="line">        Customer2 customer2 = <span class="keyword">new</span> Customer2();</span><br><span class="line">        customer2.setCustName(<span class="string">"JACKBBB"</span>);</span><br><span class="line">        lm.setCustomer2(customer2);<span class="comment">//è®¾ç½®å…³ç³»</span></span><br><span class="line">        customerDao2.save(customer2);</span><br><span class="line">        linkManDao2.save(lm);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>è¿è¡Œç»“æœ</p></blockquote><p><img src="//haoyongliang.gitee.io/2019/07/13/SpringBoot/SpringDataJpa/SpringDataJpa03/11.png" alt></p><h3 id="æ”¾å¼ƒå…³ç³»ç»´æŠ¤"><a href="#æ”¾å¼ƒå…³ç³»ç»´æŠ¤" class="headerlink" title="æ”¾å¼ƒå…³ç³»ç»´æŠ¤"></a>æ”¾å¼ƒå…³ç³»ç»´æŠ¤</h3><blockquote><p>ä¸ºä»€ä¹ˆè¦æ”¾å¼ƒå…³ç³»ç»´æŠ¤</p></blockquote><p>åœ¨å¤šå¯¹ä¸€çš„æƒ…å†µä¸‹ä¿å­˜ç”¨æˆ·å’Œå®¢æˆ·åªéœ€è¦2æ¡SQLï¼Œéƒ½æ˜¯INSERT</p><p>åœ¨ä¸€å¯¹å¤šçš„æƒ…å†µä¸‹ä¿å­˜ç”¨æˆ·å’Œå®¢æˆ·éœ€è¦3æ¡SQLè¯­å¥ï¼Œ2æ¡INSERT,1æ¡UPDATE</p><p>å¦‚æœåŒå‘ä¸€å¯¹å¤šçš„æƒ…å†µä¸‹ï¼Œå¯èƒ½ä¼šå‡ºç°ä¸€ä¸‹æƒ…å†µ</p><blockquote><p>é—®é¢˜ä»£ç </p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.itcast.dao;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> cn.itcast.domain.Customer2;</span><br><span class="line"><span class="keyword">import</span> cn.itcast.domain.LinkMan2;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"><span class="keyword">import</span> org.junit.runner.RunWith;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.test.annotation.Rollback;</span><br><span class="line"><span class="keyword">import</span> org.springframework.test.context.ContextConfiguration;</span><br><span class="line"><span class="keyword">import</span> org.springframework.test.context.junit4.SpringJUnit4ClassRunner;</span><br><span class="line"><span class="keyword">import</span> org.springframework.transaction.annotation.Transactional;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RunWith</span>(SpringJUnit4ClassRunner.class)</span><br><span class="line"><span class="meta">@ContextConfiguration</span>(locations = <span class="string">"classpath:applicationContext.xml"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ManyToOne2</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> CustomerDao2 customerDao2 ;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> LinkManDao2 linkManDao2;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="meta">@Transactional</span></span><br><span class="line">    <span class="meta">@Rollback</span>(<span class="keyword">false</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addTest</span><span class="params">()</span></span>&#123;</span><br><span class="line">        LinkMan2 linkMan = <span class="keyword">new</span> LinkMan2();</span><br><span class="line">        linkMan.setLkmEmail(<span class="string">"éƒç¾ä¸½@foxmail.com"</span>);</span><br><span class="line">        linkMan.setLkmGender(<span class="string">"å¥³"</span>);</span><br><span class="line">        linkMan.setLkmMobile(<span class="string">"10086"</span>);</span><br><span class="line">        linkMan.setLkmName(<span class="string">"éƒç¾ä¸½"</span>);</span><br><span class="line"></span><br><span class="line">        Customer2 customer = <span class="keyword">new</span> Customer2();</span><br><span class="line">        customer.setCustName(<span class="string">"å®¢æˆ·"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//é€šè¿‡è”ç³»äººç»´æŠ¤å…³ç³»</span></span><br><span class="line">        linkMan.setCustomer2(customer);</span><br><span class="line">        <span class="comment">//é€šè¿‡å®¢æˆ·ç»´æŠ¤å…³ç³»</span></span><br><span class="line">        customer.getLinkMan2s().add(linkMan);</span><br><span class="line"></span><br><span class="line">        customerDao2.save(customer);</span><br><span class="line">        linkManDao2.save(linkMan);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>æ‰§è¡Œç»“æœ</p></blockquote><p><img src="//haoyongliang.gitee.io/2019/07/13/SpringBoot/SpringDataJpa/SpringDataJpa03/13.png" alt></p><blockquote><p>é—®é¢˜</p></blockquote><p>ä¸Šé¢ä»£ç ä¸¤ä¸ªå®ä½“ç±»éƒ½åœ¨ç»´æŠ¤å…³ç³»ï¼Œå¦‚æœç”±è”ç³»äººç»´æŠ¤åªéœ€è¦æ‰§è¡Œ2æ¡SQLï¼Œå¦‚æœæœ‰å®¢æˆ·è”ç³»åªéœ€è¦æ‰§è¡Œ3æ¡SQLã€‚è¿è¡Œåå‘ç°æ‰§è¡Œäº†3æ¡SQLï¼Œè¯´æ˜æ˜¯æœ‰å®¢æˆ·å®ä½“ç±»ç»´æŠ¤å…³ç³»çš„ï¼Œå¦‚æœå¯ä»¥ç”±è”ç³»äººå®ä½“ç±»ç»´æŠ¤å…³ç³»å²‚ä¸æ˜¯æ›´å¥½ã€‚</p><blockquote><p>è§£å†³åŠæ³•</p></blockquote><p>å…¶ä¸­ä¸€ä¸ªå®ä½“ç±»æ”¾å¼ƒå…³ç³»çš„ç»´æŠ¤ï¼Œæœ€å¥½å®¢æˆ·å®ä½“ç±»æ”¾å¼ƒï¼Œå› ä¸ºè”ç³»äººç»´æŠ¤å…³ç³»å¯ä»¥å°‘æ‰§è¡Œä¸€æ¡SQLè¯­å¥</p><p>ä¿®æ”¹å®¢æˆ·å®ä½“ç±»çš„OneToManyæ³¨è§£,å¹¶åˆ é™¤@JoinColumnæ³¨è§£ï¼Œä»£ç å¦‚ä¸‹</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//mappedBy å…³ç³»ç”±å¦ä¸€ä¸ªå®ä½“ç±»ç»´æŠ¤ï¼Œå€¼æ˜¯å¦ä¸€ä¸ªå®ä½“ç±»ä¸­å±æ€§çš„åå­—</span></span><br><span class="line"><span class="meta">@OneToMany</span>(mappedBy = <span class="string">"customer2"</span>)</span><br><span class="line"><span class="keyword">private</span> Set&lt;LinkMan2&gt; linkMan2s = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br></pre></td></tr></table></figure><h3 id="çº§è”æ“ä½œ"><a href="#çº§è”æ“ä½œ" class="headerlink" title="çº§è”æ“ä½œ"></a>çº§è”æ“ä½œ</h3><blockquote><p>æ¦‚å¿µ</p></blockquote><p>æ“ä½œä¸€ä¸ªå®ä½“ç±»å¯¹è±¡çš„åŒæ—¶ä¼šæ“ä½œå¦ä¸€ä¸ªå®ä½“ç±»ã€‚</p><blockquote><p>æ³¨æ„äº‹é¡¹</p></blockquote><p>1.çº§è”æ“ä½œä¸€å®šæ˜ç¡®æ“ä½œä¸»ä½“</p><p>2.æ˜ç¡®äº†æ“ä½œä¸»ä½“åï¼Œéœ€è¦åœ¨æ“ä½œä¸»ä½“ä¸ŠæŒ‡æ˜å…è®¸çº§è”æ“ä½œ</p><p>â€‹    æ“ä½œæ–¹å¼ï¼šåœ¨@OnetToManyã€@ManyToOneã€@ManyToManyæ³¨è§£ä¸­æ·»åŠ å±æ€§cascade = CascadeType.ALL</p><p>â€‹    cascade å±æ€§è¯´æ˜</p><p>â€‹        å®šä¹‰<strong>æºå®ä½“</strong>å’Œå…³è”çš„<strong>ç›®æ ‡å®ä½“</strong>é—´çš„çº§è”å…³ç³»ã€‚å½“å¯¹<strong>æºå®ä½“</strong>è¿›è¡Œæ“ä½œæ—¶ï¼Œæ˜¯å¦å¯¹å…³è”çš„<strong>ç›®æ ‡å®ä½“</strong>ä¹Ÿåšç›¸åŒçš„æ“ä½œã€‚é»˜è®¤æ²¡æœ‰çº§è”æ“ä½œã€‚è¯¥å‚æ•°çš„å¯é€‰å€¼æœ‰ï¼šCascadeType.PERSISTï¼ˆçº§è”æ–°å»ºï¼‰CascadeType.REMOVEï¼ˆçº§è”åˆ é™¤ï¼‰CascadeType.REFRESHï¼ˆçº§è”åˆ·æ–°ï¼‰CascadeType.MERGEï¼ˆçº§è”æ›´æ–°ï¼‰CascadeType.ALLï¼ˆåŒ…å«ä»¥ä¸Šå››é¡¹ï¼‰</p><h4 id="çº§è”ä¿å­˜"><a href="#çº§è”ä¿å­˜" class="headerlink" title="çº§è”ä¿å­˜"></a>çº§è”ä¿å­˜</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line">   <span class="meta">@Transactional</span></span><br><span class="line">   <span class="meta">@Rollback</span>(<span class="keyword">false</span>)</span><br><span class="line">   <span class="comment">/**</span></span><br><span class="line"><span class="comment">    * ä¿å­˜ä¸€çš„ä¸€æ–¹çš„åŒæ—¶å¤šçš„ä¸€æ–¹ä¼šè‡ªåŠ¨è¢«æ·»åŠ åˆ°æ•°æ®åº“</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">()</span></span>&#123;</span><br><span class="line">      LinkMan2 lm1 = <span class="keyword">new</span> LinkMan2();</span><br><span class="line">       lm1.setLkmEmail(<span class="string">"kefuA@foxmail.com"</span>);</span><br><span class="line">       lm1.setLkmGender(<span class="string">"ç”·"</span>);</span><br><span class="line">       lm1.setLkmMobile(<span class="string">"110"</span>);</span><br><span class="line">       lm1.setLkmName(<span class="string">"å®¢æœA"</span>);</span><br><span class="line"></span><br><span class="line">       LinkMan2 lm2 = <span class="keyword">new</span> LinkMan2();</span><br><span class="line">       lm2.setLkmEmail(<span class="string">"kefuB@foxmail.com"</span>);</span><br><span class="line">       lm2.setLkmGender(<span class="string">"å¥³"</span>);</span><br><span class="line">       lm2.setLkmMobile(<span class="string">"119"</span>);</span><br><span class="line">       lm2.setLkmName(<span class="string">"å®¢æœB"</span>);</span><br><span class="line"></span><br><span class="line">       Customer2 customer2 = <span class="keyword">new</span> Customer2();</span><br><span class="line">       customer2.setCustName(<span class="string">"JACK"</span>);</span><br><span class="line"></span><br><span class="line">       <span class="comment">/*</span></span><br><span class="line"><span class="comment">           ç”¨äºå…³è”è”ç³»äººçš„ï¼Œå…³è”ååœ¨ä¿å­˜å®¢æˆ·çš„åŒæ—¶å°±ä¼šé¡ºä¾¿ä¿å­˜è”ç³»äºº</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line">       customer2.getLinkMan2s().add(lm1);</span><br><span class="line">       customer2.getLinkMan2s().add(lm2);</span><br><span class="line"></span><br><span class="line">       <span class="comment">/*</span></span><br><span class="line"><span class="comment">           å…³è”å¤–é”®çš„</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line">       lm1.setCustomer2(customer2);</span><br><span class="line">       lm2.setCustomer2(customer2);</span><br><span class="line">       </span><br><span class="line">       <span class="comment">//è¿™é‡Œç›´æ¥ä¿å­˜å®¢æˆ·å®ä½“ç±»å°±å¯ä»¥ï¼Œè”ç³»äººå®ä½“ç±»ä¼šè¢«è‡ªåŠ¨ä¿å­˜</span></span><br><span class="line">       customer2Dao.save(customer2);</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><h4 id="çº§è”åˆ é™¤"><a href="#çº§è”åˆ é™¤" class="headerlink" title="çº§è”åˆ é™¤"></a>çº§è”åˆ é™¤</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="meta">@Transactional</span></span><br><span class="line"><span class="meta">@Rollback</span>(<span class="keyword">false</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">delete</span><span class="params">()</span></span>&#123;</span><br><span class="line">    Customer2 c = customerDao2.findOne(<span class="number">13L</span>);</span><br><span class="line">    <span class="comment">//ä¸cç”¨æˆ·ç›¸å…³è”çš„è”ç³»äººä¹Ÿä¼šè¢«åˆ é™¤</span></span><br><span class="line">    customerDao2.delete(c);</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="//haoyongliang.gitee.io/2019/07/13/SpringBoot/SpringDataJpa/SpringDataJpa03/14.png" alt></p><h2 id="å¤šå¯¹å¤š"><a href="#å¤šå¯¹å¤š" class="headerlink" title="å¤šå¯¹å¤š"></a>å¤šå¯¹å¤š</h2><h3 id="éœ€æ±‚-1"><a href="#éœ€æ±‚-1" class="headerlink" title="éœ€æ±‚"></a>éœ€æ±‚</h3><p>ä¸€ä¸ªç”¨æˆ·(User)å¯¹åº”å¤šä¸ªè§’è‰²(Role)</p><p>ä¸€ä¸ªè§’è‰²(Role)å¯ä»¥å¯¹åº”å¤šä¸ªç”¨æˆ·(User)</p><h3 id="åˆ›å»ºè¡¨-1"><a href="#åˆ›å»ºè¡¨-1" class="headerlink" title="åˆ›å»ºè¡¨"></a>åˆ›å»ºè¡¨</h3><p>è¿™é‡Œä¸æ‰‹åŠ¨åˆ›å»ºäº†ï¼Œç›´æ¥ç”±æ¡†æ¶è‡ªå·±ç”Ÿæˆè¡¨</p><h3 id="ç¼–å†™å®ä½“ç±»åŠæ˜ å°„å…³ç³»"><a href="#ç¼–å†™å®ä½“ç±»åŠæ˜ å°„å…³ç³»" class="headerlink" title="ç¼–å†™å®ä½“ç±»åŠæ˜ å°„å…³ç³»"></a>ç¼–å†™å®ä½“ç±»åŠæ˜ å°„å…³ç³»</h3><blockquote><p>ç”¨æˆ·</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.itcast.domain;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.persistence.*;</span><br><span class="line"><span class="keyword">import</span> java.util.HashSet;</span><br><span class="line"><span class="keyword">import</span> java.util.Set;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Entity</span></span><br><span class="line"><span class="meta">@Table</span>(name = <span class="string">"sys_role"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Role</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Id</span></span><br><span class="line">    <span class="meta">@GeneratedValue</span>(strategy = GenerationType.IDENTITY)</span><br><span class="line">    <span class="meta">@Column</span>(name = <span class="string">"role_id"</span>)</span><br><span class="line">    <span class="keyword">private</span> Long roleId;</span><br><span class="line">    <span class="meta">@Column</span>(name = <span class="string">"role_name"</span>)</span><br><span class="line">    <span class="keyword">private</span> String roleName;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Long <span class="title">getRoleId</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> roleId;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setRoleId</span><span class="params">(Long roleId)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.roleId = roleId;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getRoleName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> roleName;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setRoleName</span><span class="params">(String roleName)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.roleName = roleName;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>è§’è‰²</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.itcast.domain;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.persistence.*;</span><br><span class="line"><span class="keyword">import</span> java.util.HashSet;</span><br><span class="line"><span class="keyword">import</span> java.util.Set;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Entity</span></span><br><span class="line"><span class="meta">@Table</span>(name = <span class="string">"sys_user"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Id</span></span><br><span class="line">    <span class="meta">@GeneratedValue</span>(strategy = GenerationType.IDENTITY)</span><br><span class="line">    <span class="meta">@Column</span>(name=<span class="string">"user_id"</span>)</span><br><span class="line">    <span class="keyword">private</span> Long userId;</span><br><span class="line">    <span class="meta">@Column</span>(name=<span class="string">"user_name"</span>)</span><br><span class="line">    <span class="keyword">private</span> String userName;</span><br><span class="line">    <span class="meta">@Column</span>(name=<span class="string">"age"</span>)</span><br><span class="line">    <span class="keyword">private</span> Integer age;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Long <span class="title">getUserId</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> userId;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setUserId</span><span class="params">(Long userId)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.userId = userId;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getUserName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> userName;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setUserName</span><span class="params">(String userName)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.userName = userName;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Integer <span class="title">getAge</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAge</span><span class="params">(Integer age)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>å¤šå¯¹å¤šå…³ç³»é…ç½®</p></blockquote><blockquote><p>1.ç»™ç”¨æˆ·å®ä½“ç±»(User)æ·»åŠ å±æ€§åŠæ˜ å°„å…³ç³»</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@ManyToMany</span>(targetEntity = Role.class,cascade = CascadeType.ALL)</span><br><span class="line"><span class="comment">//JoinTableä¼šç”Ÿæˆä¸­é—´è¡¨ï¼Œè¡¨åå«åšsys_user_role</span></span><br><span class="line"><span class="meta">@JoinTable</span>(</span><br><span class="line">    name = <span class="string">"sys_user_role"</span>,</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        joinColumns,é…ç½®å¤–é”®(è¿™é‡Œæ˜¯é…ç½®ä¸­é—´è¡¨ä¸å½“å‰ç”¨æˆ·è¡¨çš„å…³ç³»)</span></span><br><span class="line"><span class="comment">        name:å‰¯è¡¨(ä¸­é—´è¡¨)ä¸­çš„å¤–é”®çš„åå­—</span></span><br><span class="line"><span class="comment">        referencedColumnNameä¸»è¡¨(ç”¨æˆ·è¡¨)çš„ä¸»é”®</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line">        joinColumns = &#123;</span><br><span class="line">            <span class="meta">@JoinColumn</span>(name = <span class="string">"sys_user_id"</span>,referencedColumnName = <span class="string">"user_id"</span>)</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        inverseJoinColumns,é…ç½®å¦ä¸€ä¸ªè¡¨çš„å¤–é”®(è¿™é‡Œæ˜¯é…ç½®ä¸­é—´ä¸è§’è‰²è¡¨çš„å…³ç³»)</span></span><br><span class="line"><span class="comment">        name:å‰¯è¡¨(ä¸­é—´è¡¨)ä¸­çš„å¤–é”®çš„åå­—</span></span><br><span class="line"><span class="comment">        referencedColumnNameä¸»è¡¨(ç”¨æˆ·è¡¨)çš„ä¸»é”®</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line">        inverseJoinColumns = &#123;</span><br><span class="line">            <span class="meta">@JoinColumn</span>(name = <span class="string">"sys_role_id"</span>,referencedColumnName = <span class="string">"role_id"</span>)</span><br><span class="line">        &#125;</span><br><span class="line">)</span><br><span class="line"><span class="keyword">private</span> Set&lt;Role&gt; roles = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line"><span class="function"><span class="keyword">public</span> Set&lt;Role&gt; <span class="title">getRoles</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> roles;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setRoles</span><span class="params">(Set&lt;Role&gt; roles)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.roles = roles;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>2.è§’è‰²(Role)å®ä½“ç±»æ·»åŠ å±æ€§åŠæ˜ å°„å…³ç³»</p><p>å…³ç³»ç”±ç”¨æˆ·ç»´æŠ¤å°±å¥½äº†ï¼Œæ‰€ä»¥åœ¨è§’è‰²å®ä½“ç±»ä¸­ç”¨mapppedBy</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//é…ç½®å¤šå¯¹å¤š</span></span><br><span class="line"><span class="meta">@ManyToMany</span>(mappedBy = <span class="string">"roles"</span>)  <span class="comment">//é…ç½®å¤šè¡¨å…³ç³»</span></span><br><span class="line"><span class="keyword">private</span> Set&lt;User&gt; users = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line"><span class="function"><span class="keyword">public</span> Set&lt;User&gt; <span class="title">getUsers</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> users;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setUsers</span><span class="params">(Set&lt;User&gt; users)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.users = users;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ç¼–å†™æ¥å£"><a href="#ç¼–å†™æ¥å£" class="headerlink" title="ç¼–å†™æ¥å£"></a>ç¼–å†™æ¥å£</h3><blockquote><p>UserDao</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.itcast.dao;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> cn.itcast.domain.User;</span><br><span class="line"><span class="keyword">import</span> org.springframework.data.jpa.repository.JpaRepository;</span><br><span class="line"><span class="keyword">import</span> org.springframework.data.jpa.repository.JpaSpecificationExecutor;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">UserDao</span> <span class="keyword">extends</span> <span class="title">JpaRepository</span>&lt;<span class="title">User</span>,<span class="title">Long</span>&gt;,<span class="title">JpaSpecificationExecutor</span>&lt;<span class="title">User</span>&gt; </span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>RoleDao</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.itcast.dao;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> cn.itcast.domain.Role;</span><br><span class="line"><span class="keyword">import</span> cn.itcast.domain.User;</span><br><span class="line"><span class="keyword">import</span> org.springframework.data.jpa.repository.JpaRepository;</span><br><span class="line"><span class="keyword">import</span> org.springframework.data.jpa.repository.JpaSpecificationExecutor;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">RoleDao</span> <span class="keyword">extends</span> <span class="title">JpaRepository</span>&lt;<span class="title">Role</span>,<span class="title">Long</span>&gt; ,<span class="title">JpaSpecificationExecutor</span>&lt;<span class="title">Role</span>&gt; </span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="çº§è”ä¿å­˜-1"><a href="#çº§è”ä¿å­˜-1" class="headerlink" title="çº§è”ä¿å­˜"></a>çº§è”ä¿å­˜</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.itcast.dao;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> cn.itcast.domain.Role;</span><br><span class="line"><span class="keyword">import</span> cn.itcast.domain.User;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"><span class="keyword">import</span> org.junit.runner.RunWith;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.test.context.ContextConfiguration;</span><br><span class="line"><span class="keyword">import</span> org.springframework.test.context.junit4.SpringJUnit4ClassRunner;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RunWith</span>(SpringJUnit4ClassRunner.class)</span><br><span class="line"><span class="meta">@ContextConfiguration</span>(locations = <span class="string">"classpath:applicationContext.xml"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Many2ManyTest</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> UserDao userDao;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> RoleDao roleDao;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addTest</span><span class="params">()</span></span>&#123;</span><br><span class="line">        Role role = <span class="keyword">new</span> Role();</span><br><span class="line">        role.setRoleName(<span class="string">"ç®¡ç†å‘˜"</span>);</span><br><span class="line"></span><br><span class="line">        User user = <span class="keyword">new</span> User();</span><br><span class="line">        user.setAge(<span class="number">13</span>);</span><br><span class="line">        user.setUserName(<span class="string">"è€ç‹"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//é…ç½®å…³ç³»</span></span><br><span class="line">        user.getRoles().add(role);</span><br><span class="line"></span><br><span class="line">        userDao.save(user);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>è¿è¡Œç»“æœ</p></blockquote><p><img src="//haoyongliang.gitee.io/2019/07/13/SpringBoot/SpringDataJpa/SpringDataJpa03/15.png" alt></p><h3 id="çº§è”åˆ é™¤-1"><a href="#çº§è”åˆ é™¤-1" class="headerlink" title="çº§è”åˆ é™¤"></a>çº§è”åˆ é™¤</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">deleteTest</span><span class="params">()</span></span>&#123;</span><br><span class="line">    User user = userDao.findOne(<span class="number">1L</span>);</span><br><span class="line">    userDao.delete(user);</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>è¿è¡Œç»“æœ</p></blockquote><p><img src="//haoyongliang.gitee.io/2019/07/13/SpringBoot/SpringDataJpa/SpringDataJpa03/16.png" alt></p><h3 id="çº§è”æŸ¥è¯¢-å¯¹è±¡å¯¼èˆªæŸ¥è¯¢"><a href="#çº§è”æŸ¥è¯¢-å¯¹è±¡å¯¼èˆªæŸ¥è¯¢" class="headerlink" title="çº§è”æŸ¥è¯¢(å¯¹è±¡å¯¼èˆªæŸ¥è¯¢)"></a>çº§è”æŸ¥è¯¢(å¯¹è±¡å¯¼èˆªæŸ¥è¯¢)</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">findTest</span><span class="params">()</span></span>&#123;</span><br><span class="line">       User user = userDao.findOne(<span class="number">2L</span>);</span><br><span class="line">       Set&lt;Role&gt; roles = user.getRoles();</span><br><span class="line">       <span class="keyword">for</span> (Role role : roles) &#123;</span><br><span class="line">           System.out.println(role.getRoleName());</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><blockquote><p>æŠ¥é”™</p></blockquote><p>org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role:</p><blockquote><p>è§£å†³æ–¹æ¡ˆ1ï¼šåœ¨Userå®ä½“ç±»çš„@ManyToManyæ³¨è§£ä¸­æ·»åŠ å€¼fetch</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">@ManyToMany(targetEntity = Role.class,cascade = CascadeType.ALL,fetch = FetchType.EAGER)</span><br></pre></td></tr></table></figure><blockquote><p>è§£å†³æ–¹æ¡ˆ2ï¼šåœ¨junitæµ‹è¯•æ–¹æ³•findTest()ä¸ŠåŠ @Transactional</p></blockquote><h2 id="ä¸€å¯¹å¤šå…³ç³»å¯¹è±¡æŸ¥è¯¢æ€»ç»“"><a href="#ä¸€å¯¹å¤šå…³ç³»å¯¹è±¡æŸ¥è¯¢æ€»ç»“" class="headerlink" title="ä¸€å¯¹å¤šå…³ç³»å¯¹è±¡æŸ¥è¯¢æ€»ç»“"></a>ä¸€å¯¹å¤šå…³ç³»å¯¹è±¡æŸ¥è¯¢æ€»ç»“</h2><p>é€šè¿‡ä¸€çš„ä¸€æ–¹æŸ¥è¯¢å¤šçš„ä¸€æ–¹é»˜è®¤æ˜¯å»¶è¿ŸæŸ¥è¯¢ï¼Œå› ä¸ºå¤šçš„ä¸€æ–¹å¯èƒ½æ•°æ®éå¸¸å¤šï¼Œæµªè´¹æ—¶é—´ï¼Œæµªè´¹å†…å­˜</p><p>é€šè¿‡å¤šçš„ä¸€æ–¹æŸ¥è¯¢ä¸€çš„ä¸€æ–¹é»˜è®¤æ˜¯ç«‹å³æŸ¥è¯¢ï¼Œå› ä¸ºä¸€çš„ä¸€æ–¹å°±ä¸€æ¡æ•°æ®ï¼Œæ€§èƒ½å¯ä»¥å¿½ç•¥ä¸è®¡</p><p>æ¨èï¼šä½¿ç”¨é»˜è®¤è®¾ç½®ï¼Œå¦‚æœä½¿ç”¨é»˜è®¤è®¾ç½®ï¼Œåœ¨è¿›è¡Œå¯¹è±¡æŸ¥è¯¢çš„æ—¶å€™å¯èƒ½ä¼šæŠ¥org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role:ï¼ŒåŸå› æ˜¯äº‹åŠ¡å…³é—­äº†ï¼Œæˆ‘ä»¬éœ€è¦åŠ @Transactional</p>]]></content>
      
      
      <categories>
          
          <category> æ¡†æ¶ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SpringDataJPA </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SpringDataJPA-è¯¦è§£æŸ¥è¯¢(äºŒ)</title>
      <link href="/2019/07/13/SpringBoot/SpringDataJpa/SpringDataJpa02/"/>
      <url>/2019/07/13/SpringBoot/SpringDataJpa/SpringDataJpa02/</url>
      
        <content type="html"><![CDATA[<h1 id="Spring-Data-JPA-æ¦‚è¿°"><a href="#Spring-Data-JPA-æ¦‚è¿°" class="headerlink" title="Spring-Data-JPA æ¦‚è¿°"></a>Spring-Data-JPA æ¦‚è¿°</h1><p>åŸºäºJPAå†å°è£…çš„ä¸€å¥—æ¡†æ¶ï¼Œåº•å±‚è¿˜æ˜¯ä½¿ç”¨ç¬¬ä¸‰æ–¹ORMæ¡†æ¶ï¼Œé»˜è®¤ä½¿ç”¨Hibernate</p><h1 id="ç¯å¢ƒæ­å»º"><a href="#ç¯å¢ƒæ­å»º" class="headerlink" title="ç¯å¢ƒæ­å»º"></a>ç¯å¢ƒæ­å»º</h1><h2 id="åˆ›å»ºé¡¹ç›®"><a href="#åˆ›å»ºé¡¹ç›®" class="headerlink" title="åˆ›å»ºé¡¹ç›®"></a>åˆ›å»ºé¡¹ç›®</h2><h2 id="å¼•å…¥ä¾èµ–-é…ç½®pom-xml"><a href="#å¼•å…¥ä¾èµ–-é…ç½®pom-xml" class="headerlink" title="å¼•å…¥ä¾èµ–[é…ç½®pom.xml]"></a>å¼•å…¥ä¾èµ–[é…ç½®pom.xml]</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">"http://maven.apache.org/POM/4.0.0"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>cn.itcast<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jpa-day2<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">spring.version</span>&gt;</span>5.0.2.RELEASE<span class="tag">&lt;/<span class="name">spring.version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">hibernate.version</span>&gt;</span>5.0.7.Final<span class="tag">&lt;/<span class="name">hibernate.version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">slf4j.version</span>&gt;</span>1.6.6<span class="tag">&lt;/<span class="name">slf4j.version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">log4j.version</span>&gt;</span>1.2.12<span class="tag">&lt;/<span class="name">log4j.version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">c3p0.version</span>&gt;</span>0.9.1.2<span class="tag">&lt;/<span class="name">c3p0.version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">mysql.version</span>&gt;</span>5.1.6<span class="tag">&lt;/<span class="name">mysql.version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- junitå•å…ƒæµ‹è¯• --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.12<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- spring beg --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.aspectj<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>aspectjweaver<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.6.8<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-aop<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;spring.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-context<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;spring.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-context-support<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;spring.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- springå¯¹ormæ¡†æ¶çš„æ”¯æŒåŒ…--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-orm<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;spring.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-beans<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;spring.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-core<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;spring.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- spring end --&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- hibernate beg --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.hibernate<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>hibernate-core<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;hibernate.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.hibernate<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>hibernate-entitymanager<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;hibernate.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.hibernate<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>hibernate-validator<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.2.1.Final<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- hibernate end --&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- c3p0 beg --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>c3p0<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>c3p0<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;c3p0.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- c3p0 end --&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- log end --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>log4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>log4j<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;log4j.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.slf4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>slf4j-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;slf4j.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.slf4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>slf4j-log4j12<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;slf4j.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- log end --&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;mysql.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- spring data jpa çš„åæ ‡--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.data<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-data-jpa<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.9.0.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-test<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;spring.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- el beg ä½¿ç”¨spring data jpa å¿…é¡»å¼•å…¥ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.el<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>javax.el-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.2.4<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.glassfish.web<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>javax.el<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.2.4<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- el end --&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="åˆ›å»ºåŒ…"><a href="#åˆ›å»ºåŒ…" class="headerlink" title="åˆ›å»ºåŒ…"></a>åˆ›å»ºåŒ…</h2><p>cn.itcast.service</p><p>cn.itcast.dao</p><p>cn.itcast.domain</p><h2 id="åˆ›å»ºapplicationContext-xml"><a href="#åˆ›å»ºapplicationContext-xml" class="headerlink" title="åˆ›å»ºapplicationContext.xml"></a>åˆ›å»ºapplicationContext.xml</h2><blockquote><p>Springæ•´åˆJpaå°±ä¸¤æ­¥</p><p>â€‹    1.ç”±springåˆ›å»ºentityManagerFactory</p><p>â€‹    2.ä½¿ç”¨æ ‡ç­¾jpa:repositorieså’Œspringè¿›è¡Œæ•´åˆ</p></blockquote><blockquote><p>æç¤ºï¼šè¯¥æ–‡ä»¶åº”è¯¥åœ¨java/main/resourceç›®å½•ä¸‹</p><p>æ³¨æ„ä¿®æ”¹æ•°æ®åº“å¯†ç </p></blockquote><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">"http://www.springframework.org/schema/beans"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="attr">xmlns:aop</span>=<span class="string">"http://www.springframework.org/schema/aop"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:context</span>=<span class="string">"http://www.springframework.org/schema/context"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:jdbc</span>=<span class="string">"http://www.springframework.org/schema/jdbc"</span> <span class="attr">xmlns:tx</span>=<span class="string">"http://www.springframework.org/schema/tx"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:jpa</span>=<span class="string">"http://www.springframework.org/schema/data/jpa"</span> <span class="attr">xmlns:task</span>=<span class="string">"http://www.springframework.org/schema/task"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">"</span></span></span><br><span class="line"><span class="tag"><span class="string">http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">http://www.springframework.org/schema/jdbc http://www.springframework.org/schema/jdbc/spring-jdbc.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">http://www.springframework.org/schema/data/jpa</span></span></span><br><span class="line"><span class="tag"><span class="string">http://www.springframework.org/schema/data/jpa/spring-jpa.xsd"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--S Springé…ç½®[ä¹‹å‰è¯¾ç¨‹é‡Œçš„æ—§ä¸œè¥¿]--&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--é…ç½®æ‰«æåŒ…--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">"cn.itcast"</span> &gt;</span><span class="tag">&lt;/<span class="name">context:component-scan</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--åˆ›å»ºæ•°æ®åº“è¿æ¥æ±  --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"dataSource"</span> <span class="attr">class</span>=<span class="string">"com.mchange.v2.c3p0.ComboPooledDataSource"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"user"</span> <span class="attr">value</span>=<span class="string">"root"</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"password"</span> <span class="attr">value</span>=<span class="string">"root"</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"jdbcUrl"</span> <span class="attr">value</span>=<span class="string">"jdbc:mysql:///jpa"</span> &gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"driverClass"</span> <span class="attr">value</span>=<span class="string">"com.mysql.jdbc.Driver"</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--é…ç½®äº‹åŠ¡ç®¡ç†å™¨--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"transactionManager"</span> <span class="attr">class</span>=<span class="string">"org.springframework.orm.jpa.JpaTransactionManager"</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--è¿™é‡Œä¸éœ€è¦é…ç½®</span></span><br><span class="line"><span class="comment">&lt;property name="dataSource" ref="dataSource" /&gt;</span></span><br><span class="line"><span class="comment">å› ä¸ºæ•°æ®æºå·²ç»é…ç½®åœ¨entityManagerFactoryä¸­äº†</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"entityManagerFactory"</span> <span class="attr">ref</span>=<span class="string">"entityManagerFactoty"</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">tx:advice</span> <span class="attr">id</span>=<span class="string">"txAdvice"</span> <span class="attr">transaction-manager</span>=<span class="string">"transactionManager"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tx:attributes</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">tx:method</span> <span class="attr">name</span>=<span class="string">"save*"</span> <span class="attr">propagation</span>=<span class="string">"REQUIRED"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">tx:method</span> <span class="attr">name</span>=<span class="string">"insert*"</span> <span class="attr">propagation</span>=<span class="string">"REQUIRED"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">tx:method</span> <span class="attr">name</span>=<span class="string">"update*"</span> <span class="attr">propagation</span>=<span class="string">"REQUIRED"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">tx:method</span> <span class="attr">name</span>=<span class="string">"delete*"</span> <span class="attr">propagation</span>=<span class="string">"REQUIRED"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">tx:method</span> <span class="attr">name</span>=<span class="string">"get*"</span> <span class="attr">read-only</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">tx:method</span> <span class="attr">name</span>=<span class="string">"find*"</span> <span class="attr">read-only</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">tx:method</span> <span class="attr">name</span>=<span class="string">"*"</span> <span class="attr">propagation</span>=<span class="string">"REQUIRED"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">tx:attributes</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tx:advice</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">aop:config</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">aop:pointcut</span> <span class="attr">id</span>=<span class="string">"pointcut"</span> <span class="attr">expression</span>=<span class="string">"execution(* cn.itcast.service.*.*(..))"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">aop:advisor</span> <span class="attr">advice-ref</span>=<span class="string">"txAdvice"</span> <span class="attr">pointcut-ref</span>=<span class="string">"pointcut"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">aop:config</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--E Springé…ç½®[ä¹‹å‰è¯¾ç¨‹é‡Œçš„æ—§ä¸œè¥¿]--&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--S Springæ•´åˆJPA[ä»Šå¤©è®²çš„æ–°é…ç½®]--&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 1.åˆ›å»ºentityManagerFactoryå¯¹è±¡äº¤ç»™springå®¹å™¨ç®¡ç†--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"entityManagerFactoty"</span> <span class="attr">class</span>=<span class="string">"org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"dataSource"</span> <span class="attr">ref</span>=<span class="string">"dataSource"</span> /&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--é…ç½®çš„æ‰«æçš„åŒ…ï¼ˆå®ä½“ç±»æ‰€åœ¨çš„åŒ…ï¼‰ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"packagesToScan"</span> <span class="attr">value</span>=<span class="string">"cn.itcast.domain"</span> /&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- jpaçš„å®ç°å‚å®¶ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"persistenceProvider"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">"org.hibernate.jpa.HibernatePersistenceProvider"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!--jpaçš„ä¾›åº”å•†é€‚é…å™¨ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"jpaVendorAdapter"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">"org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter"</span>&gt;</span></span><br><span class="line">                <span class="comment">&lt;!--é…ç½®æ˜¯å¦è‡ªåŠ¨åˆ›å»ºæ•°æ®åº“è¡¨ --&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"generateDdl"</span> <span class="attr">value</span>=<span class="string">"false"</span> /&gt;</span></span><br><span class="line">                <span class="comment">&lt;!--æŒ‡å®šæ•°æ®åº“ç±»å‹ --&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"database"</span> <span class="attr">value</span>=<span class="string">"MYSQL"</span> /&gt;</span></span><br><span class="line">                <span class="comment">&lt;!--æ•°æ®åº“æ–¹è¨€ï¼šæ”¯æŒçš„ç‰¹æœ‰è¯­æ³• --&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"databasePlatform"</span> <span class="attr">value</span>=<span class="string">"org.hibernate.dialect.MySQLDialect"</span> /&gt;</span></span><br><span class="line">                <span class="comment">&lt;!--æ˜¯å¦æ˜¾ç¤ºsql --&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"showSql"</span> <span class="attr">value</span>=<span class="string">"true"</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!--jpaçš„æ–¹è¨€ ï¼šé«˜çº§çš„ç‰¹æ€§ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"jpaDialect"</span> &gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">"org.springframework.orm.jpa.vendor.HibernateJpaDialect"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"jpaProperties"</span> &gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">props</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">prop</span> <span class="attr">key</span>=<span class="string">"hibernate.hbm2ddl.auto"</span>&gt;</span>update<span class="tag">&lt;/<span class="name">prop</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">props</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--2.æ•´åˆspring dataJpa--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">jpa:repositories</span> <span class="attr">base-package</span>=<span class="string">"cn.itcast.dao"</span> <span class="attr">transaction-manager-ref</span>=<span class="string">"transactionManager"</span></span></span><br><span class="line"><span class="tag">                      <span class="attr">entity-manager-factory-ref</span>=<span class="string">"entityManagerFactoty"</span> &gt;</span><span class="tag">&lt;/<span class="name">jpa:repositories</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--E Springæ•´åˆJPA[ä»Šå¤©è®²çš„æ–°é…ç½®]--&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><h1 id="å¿«é€Ÿå…¥é—¨"><a href="#å¿«é€Ÿå…¥é—¨" class="headerlink" title="å¿«é€Ÿå…¥é—¨"></a>å¿«é€Ÿå…¥é—¨</h1><h2 id="åˆ›å»ºè¡¨cst-customer"><a href="#åˆ›å»ºè¡¨cst-customer" class="headerlink" title="åˆ›å»ºè¡¨cst_customer"></a>åˆ›å»ºè¡¨cst_customer</h2><blockquote><p>æç¤ºï¼šday01å·²ç»åˆ›å»ºè¿‡äº†</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">USE</span> <span class="string">`jpa`</span>;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> <span class="keyword">IF</span> <span class="keyword">EXISTS</span> <span class="string">`cst_customer`</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="string">`cst_customer`</span> (</span><br><span class="line">  <span class="string">`cust_id`</span> <span class="built_in">bigint</span>(<span class="number">32</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span> AUTO_INCREMENT <span class="keyword">COMMENT</span> <span class="string">'å®¢æˆ·ç¼–å·(ä¸»é”®)'</span>,</span><br><span class="line">  <span class="string">`cust_name`</span> <span class="built_in">varchar</span>(<span class="number">32</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'å®¢æˆ·åç§°(å…¬å¸åç§°)'</span>,</span><br><span class="line">  <span class="string">`cust_source`</span> <span class="built_in">varchar</span>(<span class="number">32</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'å®¢æˆ·ä¿¡æ¯æ¥æº'</span>,</span><br><span class="line">  <span class="string">`cust_industry`</span> <span class="built_in">varchar</span>(<span class="number">32</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'å®¢æˆ·æ‰€å±è¡Œä¸š'</span>,</span><br><span class="line">  <span class="string">`cust_level`</span> <span class="built_in">varchar</span>(<span class="number">32</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'å®¢æˆ·çº§åˆ«'</span>,</span><br><span class="line">  <span class="string">`cust_address`</span> <span class="built_in">varchar</span>(<span class="number">128</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'å®¢æˆ·è”ç³»åœ°å€'</span>,</span><br><span class="line">  <span class="string">`cust_phone`</span> <span class="built_in">varchar</span>(<span class="number">64</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'å®¢æˆ·è”ç³»ç”µè¯'</span>,</span><br><span class="line">  PRIMARY <span class="keyword">KEY</span> (<span class="string">`cust_id`</span>)</span><br><span class="line">) <span class="keyword">ENGINE</span>=<span class="keyword">InnoDB</span> <span class="keyword">DEFAULT</span> <span class="keyword">CHARSET</span>=utf8;</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span>  <span class="keyword">into</span> <span class="string">`cst_customer`</span>(<span class="string">`cust_id`</span>,<span class="string">`cust_name`</span>,<span class="string">`cust_source`</span>,<span class="string">`cust_industry`</span>,<span class="string">`cust_level`</span>,<span class="string">`cust_address`</span>,<span class="string">`cust_phone`</span>) <span class="keyword">values</span> (<span class="number">1</span>,<span class="string">'é»‘é©¬ç¨‹åºå‘˜'</span>,<span class="literal">NULL</span>,<span class="string">'æ•™è‚²'</span>,<span class="literal">NULL</span>,<span class="literal">NULL</span>,<span class="literal">NULL</span>),(<span class="number">2</span>,<span class="string">'ä¼ æ™ºæ’­å®¢'</span>,<span class="literal">NULL</span>,<span class="string">'æ•™è‚²'</span>,<span class="literal">NULL</span>,<span class="literal">NULL</span>,<span class="literal">NULL</span>),(<span class="number">3</span>,<span class="string">'é…·ä¸é±¼'</span>,<span class="literal">NULL</span>,<span class="string">'æ•™è‚²'</span>,<span class="literal">NULL</span>,<span class="literal">NULL</span>,<span class="literal">NULL</span>),(<span class="number">4</span>,<span class="string">'ä¼ æ™ºæ±‡'</span>,<span class="literal">NULL</span>,<span class="string">'æ•™è‚²'</span>,<span class="literal">NULL</span>,<span class="literal">NULL</span>,<span class="literal">NULL</span>),(<span class="number">5</span>,<span class="string">'ä¼ æ™ºä¸“ä¿®å­¦é™¢'</span>,<span class="literal">NULL</span>,<span class="string">'æ•™è‚²'</span>,<span class="literal">NULL</span>,<span class="literal">NULL</span>,<span class="literal">NULL</span>),(<span class="number">6</span>,<span class="string">'è°·æ­Œ'</span>,<span class="literal">NULL</span>,<span class="string">'æ•™è‚²'</span>,<span class="literal">NULL</span>,<span class="literal">NULL</span>,<span class="literal">NULL</span>);</span><br></pre></td></tr></table></figure><h2 id="åˆ›å»ºå®ä½“ç±»Customer"><a href="#åˆ›å»ºå®ä½“ç±»Customer" class="headerlink" title="åˆ›å»ºå®ä½“ç±»Customer"></a>åˆ›å»ºå®ä½“ç±»Customer</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.itcast.domain;</span><br><span class="line"><span class="keyword">import</span> javax.persistence.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Customer</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Long custId; <span class="comment">//å®¢æˆ·çš„ä¸»é”®</span></span><br><span class="line">    <span class="keyword">private</span> String custName;<span class="comment">//å®¢æˆ·åç§°</span></span><br><span class="line">    <span class="keyword">private</span> String custSource;<span class="comment">//å®¢æˆ·æ¥æº</span></span><br><span class="line">    <span class="keyword">private</span> String custLevel;<span class="comment">//å®¢æˆ·çº§åˆ«</span></span><br><span class="line">    <span class="keyword">private</span> String custIndustry;<span class="comment">//å®¢æˆ·æ‰€å±è¡Œä¸š</span></span><br><span class="line">    <span class="keyword">private</span> String custPhone;<span class="comment">//å®¢æˆ·çš„è”ç³»æ–¹å¼</span></span><br><span class="line">    <span class="keyword">private</span> String custAddress;<span class="comment">//å®¢æˆ·åœ°å€</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Long <span class="title">getCustId</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> custId;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCustId</span><span class="params">(Long custId)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.custId = custId;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getCustName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> custName;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCustName</span><span class="params">(String custName)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.custName = custName;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getCustSource</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> custSource;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCustSource</span><span class="params">(String custSource)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.custSource = custSource;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getCustLevel</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> custLevel;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCustLevel</span><span class="params">(String custLevel)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.custLevel = custLevel;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getCustIndustry</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> custIndustry;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCustIndustry</span><span class="params">(String custIndustry)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.custIndustry = custIndustry;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getCustPhone</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> custPhone;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCustPhone</span><span class="params">(String custPhone)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.custPhone = custPhone;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getCustAddress</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> custAddress;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCustAddress</span><span class="params">(String custAddress)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.custAddress = custAddress;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"Customer&#123;"</span> +</span><br><span class="line">                <span class="string">"custId="</span> + custId +</span><br><span class="line">                <span class="string">", custName='"</span> + custName + <span class="string">'\''</span> +</span><br><span class="line">                <span class="string">", custSource='"</span> + custSource + <span class="string">'\''</span> +</span><br><span class="line">                <span class="string">", custLevel='"</span> + custLevel + <span class="string">'\''</span> +</span><br><span class="line">                <span class="string">", custIndustry='"</span> + custIndustry + <span class="string">'\''</span> +</span><br><span class="line">                <span class="string">", custPhone='"</span> + custPhone + <span class="string">'\''</span> +</span><br><span class="line">                <span class="string">", custAddress='"</span> + custAddress + <span class="string">'\''</span> +</span><br><span class="line">                <span class="string">'&#125;'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="é€šè¿‡æ³¨è§£é…ç½®æ˜ å°„å…³ç³»"><a href="#é€šè¿‡æ³¨è§£é…ç½®æ˜ å°„å…³ç³»" class="headerlink" title="é€šè¿‡æ³¨è§£é…ç½®æ˜ å°„å…³ç³»"></a>é€šè¿‡æ³¨è§£é…ç½®æ˜ å°„å…³ç³»</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.itcast.domain;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.persistence.*;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Entity</span></span><br><span class="line"><span class="meta">@Table</span>(name = <span class="string">"cst_customer"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Customer</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Id</span></span><br><span class="line">    <span class="meta">@GeneratedValue</span>(strategy = GenerationType.IDENTITY)</span><br><span class="line">    <span class="meta">@Column</span>(name = <span class="string">"cust_id"</span>)</span><br><span class="line">    <span class="keyword">private</span> Long custId; <span class="comment">//å®¢æˆ·çš„ä¸»é”®</span></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Column</span>(name = <span class="string">"cust_name"</span>)</span><br><span class="line">    <span class="keyword">private</span> String custName;<span class="comment">//å®¢æˆ·åç§°</span></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Column</span>(name=<span class="string">"cust_source"</span>)</span><br><span class="line">    <span class="keyword">private</span> String custSource;<span class="comment">//å®¢æˆ·æ¥æº</span></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Column</span>(name=<span class="string">"cust_level"</span>)</span><br><span class="line">    <span class="keyword">private</span> String custLevel;<span class="comment">//å®¢æˆ·çº§åˆ«</span></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Column</span>(name=<span class="string">"cust_industry"</span>)</span><br><span class="line">    <span class="keyword">private</span> String custIndustry;<span class="comment">//å®¢æˆ·æ‰€å±è¡Œä¸š</span></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Column</span>(name=<span class="string">"cust_phone"</span>)</span><br><span class="line">    <span class="keyword">private</span> String custPhone;<span class="comment">//å®¢æˆ·çš„è”ç³»æ–¹å¼</span></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Column</span>(name=<span class="string">"cust_address"</span>)</span><br><span class="line">    <span class="keyword">private</span> String custAddress;<span class="comment">//å®¢æˆ·åœ°å€</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Long <span class="title">getCustId</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> custId;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCustId</span><span class="params">(Long custId)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.custId = custId;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getCustName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> custName;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCustName</span><span class="params">(String custName)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.custName = custName;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getCustSource</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> custSource;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCustSource</span><span class="params">(String custSource)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.custSource = custSource;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getCustLevel</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> custLevel;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCustLevel</span><span class="params">(String custLevel)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.custLevel = custLevel;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getCustIndustry</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> custIndustry;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCustIndustry</span><span class="params">(String custIndustry)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.custIndustry = custIndustry;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getCustPhone</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> custPhone;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCustPhone</span><span class="params">(String custPhone)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.custPhone = custPhone;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getCustAddress</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> custAddress;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCustAddress</span><span class="params">(String custAddress)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.custAddress = custAddress;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"Customer&#123;"</span> +</span><br><span class="line">                <span class="string">"custId="</span> + custId +</span><br><span class="line">                <span class="string">", custName='"</span> + custName + <span class="string">'\''</span> +</span><br><span class="line">                <span class="string">", custSource='"</span> + custSource + <span class="string">'\''</span> +</span><br><span class="line">                <span class="string">", custLevel='"</span> + custLevel + <span class="string">'\''</span> +</span><br><span class="line">                <span class="string">", custIndustry='"</span> + custIndustry + <span class="string">'\''</span> +</span><br><span class="line">                <span class="string">", custPhone='"</span> + custPhone + <span class="string">'\''</span> +</span><br><span class="line">                <span class="string">", custAddress='"</span> + custAddress + <span class="string">'\''</span> +</span><br><span class="line">                <span class="string">'&#125;'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="åˆ›å»ºCustomerDaoæ¥å£"><a href="#åˆ›å»ºCustomerDaoæ¥å£" class="headerlink" title="åˆ›å»ºCustomerDaoæ¥å£"></a>åˆ›å»ºCustomerDaoæ¥å£</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.itcast.dao;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> cn.itcast.domain.Customer;</span><br><span class="line"><span class="keyword">import</span> org.springframework.data.jpa.repository.JpaRepository;</span><br><span class="line"><span class="keyword">import</span> org.springframework.data.jpa.repository.JpaSpecificationExecutor;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *  JpaRepository&lt;æ“ä½œçš„å®ä½“ç±», å®ä½“ç±»ä¸­ä¸»é”®çš„ç±»å‹&gt; æ¥å£ä¸­æä¾›äº†ç®€å•æ“ä½œæ•°æ®åº“çš„æ–¹æ³•</span></span><br><span class="line"><span class="comment"> *  JpaSpecificationExecutorr&lt;æ“ä½œçš„æ˜¯å®ä½“ç±»&gt;æ¥å£ä¸­æä¾›äº†å¤æ‚æ–¹æ³•ï¼Œæ¯”å¦‚å¤šæ¡ä»¶å’Œåˆ†é¡µæŸ¥è¯¢</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">CustomerDao</span> <span class="keyword">extends</span> <span class="title">JpaRepository</span>&lt;<span class="title">Customer</span>,<span class="title">Long</span>&gt;,</span></span><br><span class="line"><span class="class"><span class="title">JpaSpecificationExecutor</span>&lt;<span class="title">Customer</span>&gt;</span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ç¼–å†™æµ‹è¯•ç±»å¯¹æ¥å£è¿›è¡Œæµ‹è¯•"><a href="#ç¼–å†™æµ‹è¯•ç±»å¯¹æ¥å£è¿›è¡Œæµ‹è¯•" class="headerlink" title="ç¼–å†™æµ‹è¯•ç±»å¯¹æ¥å£è¿›è¡Œæµ‹è¯•"></a>ç¼–å†™æµ‹è¯•ç±»å¯¹æ¥å£è¿›è¡Œæµ‹è¯•</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.itcast.dao;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> cn.itcast.domain.Customer;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"><span class="keyword">import</span> org.junit.runner.RunWith;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.test.context.ContextConfiguration;</span><br><span class="line"><span class="keyword">import</span> org.springframework.test.context.junit.jupiter.SpringJUnitConfig;</span><br><span class="line"><span class="keyword">import</span> org.springframework.test.context.junit4.SpringJUnit4ClassRunner;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@RunWith</span>æ³¨è§£ï¼š å°±æ˜¯ä¸€ä¸ªè¿è¡Œå™¨ï¼ŒSpringJUnit4ClassRunner.classæ„æ€æ˜¯è®©æµ‹è¯•è¿è¡Œäºspringç¯å¢ƒ</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@ContextConfiguration</span>æ³¨è§£ï¼š Springæ•´åˆjunit4æ—¶éœ€è¦å¼•å…¥çš„springçš„é…ç½®æ–‡ä»¶</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@RunWith</span>(SpringJUnit4ClassRunner.class)</span><br><span class="line"><span class="meta">@ContextConfiguration</span>(locations = <span class="string">"classpath:applicationContext.xml"</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CustomerTest</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> CustomerDao customerDao;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testFindOne</span><span class="params">()</span></span>&#123;</span><br><span class="line">        Customer customer = customerDao.findOne(<span class="number">1L</span>);</span><br><span class="line">        System.out.println(customer);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>è¿è¡Œç»“æœ</p></blockquote><p><img src="//haoyongliang.gitee.io/2019/07/13/SpringBoot/SpringDataJpa/SpringDataJpa02/01.png" alt></p><h2 id="å¯èƒ½å‡ºç°çš„é—®é¢˜"><a href="#å¯èƒ½å‡ºç°çš„é—®é¢˜" class="headerlink" title="å¯èƒ½å‡ºç°çš„é—®é¢˜"></a>å¯èƒ½å‡ºç°çš„é—®é¢˜</h2><h3 id="é—®é¢˜1ï¼šjavax-xml-bind-JAXBException"><a href="#é—®é¢˜1ï¼šjavax-xml-bind-JAXBException" class="headerlink" title="é—®é¢˜1ï¼šjavax.xml.bind.JAXBException"></a>é—®é¢˜1ï¼šjavax.xml.bind.JAXBException</h3><p>åŸå› æ˜¯ä½¿ç”¨çš„JDK1.9éœ€è¦å¼•å…¥ä¾èµ–</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.xml.bind<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jaxb-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.3.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="é—®é¢˜2ï¼šorg-springframework-transaction-CannotCreateTransactionException"><a href="#é—®é¢˜2ï¼šorg-springframework-transaction-CannotCreateTransactionException" class="headerlink" title="é—®é¢˜2ï¼šorg.springframework.transaction.CannotCreateTransactionException"></a>é—®é¢˜2ï¼šorg.springframework.transaction.CannotCreateTransactionException</h3><p>å¯èƒ½æ˜¯applicationContext.xmlä¸­æ•°æ®åº“è´¦å·å¯†ç é…ç½®é”™äº†</p><h1 id="åŸºæœ¬æ“ä½œ"><a href="#åŸºæœ¬æ“ä½œ" class="headerlink" title="åŸºæœ¬æ“ä½œ"></a>åŸºæœ¬æ“ä½œ</h1><h2 id="å¢åŠ "><a href="#å¢åŠ " class="headerlink" title="å¢åŠ "></a>å¢åŠ </h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testAdd</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    æ³¨æ„ï¼šä¸éœ€è¦è®¾ç½®IDï¼Œæ˜¯æ·»åŠ ï¼Œå¦‚æœè®¾ç½®äº†IDï¼Œåˆ™æ˜¯æ›´æ–°ï¼Œæ‰€ä»¥èƒ½è®¾ç½®ä¸»é”®</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    Customer customer = <span class="keyword">new</span> Customer();</span><br><span class="line">    customer.setCustName(<span class="string">"æå››"</span>);<span class="comment">//è®¾ç½®é¡¾å®¢å§“å</span></span><br><span class="line">    customer.setCustAddress(<span class="string">"å±±è¥¿å¤ªåŸ"</span>);<span class="comment">//è®¾ç½®é¡¾å®¢çš„ä½å€</span></span><br><span class="line">    customer.setCustPhone(<span class="string">"1390000000"</span>);<span class="comment">//è®¾ç½®é¡¾å®¢çš„ç”µè¯</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//æ·»åŠ æˆåŠŸåä¼šè¿”å›æ·»åŠ è¿›å»çš„é‚£ä¸ªå¯¹è±¡ï¼Œæ‰€ä»¥å½“å‰å¯¹è±¡ä¸­åŒ…å«ID</span></span><br><span class="line">    Customer cust = customerDao.save(customer);</span><br><span class="line">    System.out.println(cust);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>è¿è¡Œç»“æœ</p></blockquote><p><img src="//haoyongliang.gitee.io/2019/07/13/SpringBoot/SpringDataJpa/SpringDataJpa02/02.png" alt></p><h2 id="åˆ é™¤"><a href="#åˆ é™¤" class="headerlink" title="åˆ é™¤"></a>åˆ é™¤</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testDelete</span><span class="params">()</span></span>&#123;</span><br><span class="line">    customerDao.delete(<span class="number">9L</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>è¿è¡Œç»“æœ</p></blockquote><p><img src="//haoyongliang.gitee.io/2019/07/13/SpringBoot/SpringDataJpa/SpringDataJpa02/04.png" alt></p><h2 id="ä¿®æ”¹"><a href="#ä¿®æ”¹" class="headerlink" title="ä¿®æ”¹"></a>ä¿®æ”¹</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testUpdate</span><span class="params">()</span></span>&#123;</span><br><span class="line">       <span class="comment">/*</span></span><br><span class="line"><span class="comment">       æ³¨æ„ï¼šä¸éœ€è¦è®¾ç½®IDï¼Œæ˜¯æ·»åŠ ï¼Œå¦‚æœè®¾ç½®äº†IDï¼Œåˆ™æ˜¯æ›´æ–°ï¼Œæ‰€ä»¥èƒ½è®¾ç½®ä¸»é”®</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line">       Customer customer = <span class="keyword">new</span> Customer();</span><br><span class="line">       customer.setCustId(<span class="number">8L</span>);</span><br><span class="line">       customer.setCustName(<span class="string">"æå››"</span>);<span class="comment">//è®¾ç½®é¡¾å®¢å§“å</span></span><br><span class="line">       customer.setCustAddress(<span class="string">"åŒ—äº¬"</span>);<span class="comment">//è®¾ç½®é¡¾å®¢çš„ä½å€</span></span><br><span class="line">       customer.setCustPhone(<span class="string">"1390000001"</span>);<span class="comment">//è®¾ç½®é¡¾å®¢çš„ç”µè¯</span></span><br><span class="line"></span><br><span class="line">       <span class="comment">//æ·»åŠ æˆåŠŸåä¼šè¿”å›æ·»åŠ è¿›å»çš„é‚£ä¸ªå¯¹è±¡ï¼Œæ‰€ä»¥å½“å‰å¯¹è±¡ä¸­åŒ…å«ID</span></span><br><span class="line">       Customer cust = customerDao.save(customer);</span><br><span class="line">       System.out.println(cust);</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><blockquote><p>è¿è¡Œç»“æœ</p></blockquote><p><img src="//haoyongliang.gitee.io/2019/07/13/SpringBoot/SpringDataJpa/SpringDataJpa02/03.png" alt></p><h2 id="æŸ¥è¯¢"><a href="#æŸ¥è¯¢" class="headerlink" title="æŸ¥è¯¢"></a>æŸ¥è¯¢</h2><h3 id="æ ¹æ®IDæŸ¥è¯¢"><a href="#æ ¹æ®IDæŸ¥è¯¢" class="headerlink" title="æ ¹æ®IDæŸ¥è¯¢"></a>æ ¹æ®IDæŸ¥è¯¢</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testFindOne</span><span class="params">()</span></span>&#123;</span><br><span class="line">       Customer customer = customerDao.findOne(<span class="number">1L</span>);</span><br><span class="line">       System.out.println(customer);</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><blockquote><p>è¿è¡Œç»“æœ</p></blockquote><p><img src="//haoyongliang.gitee.io/2019/07/13/SpringBoot/SpringDataJpa/SpringDataJpa02/05.png" alt></p><h3 id="æŸ¥è¯¢æ‰€æœ‰"><a href="#æŸ¥è¯¢æ‰€æœ‰" class="headerlink" title="æŸ¥è¯¢æ‰€æœ‰"></a>æŸ¥è¯¢æ‰€æœ‰</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testFindAll</span><span class="params">()</span></span>&#123;</span><br><span class="line">       List&lt;Customer&gt; customers = customerDao.findAll();</span><br><span class="line"></span><br><span class="line">       <span class="comment">//éå†æŸ¥è¯¢ç»“æœ</span></span><br><span class="line">       <span class="keyword">for</span> (Customer customer : customers) &#123;</span><br><span class="line">           System.out.println(customer);</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><blockquote><p>è¿è¡Œç»“æœ</p></blockquote><p><img src="//haoyongliang.gitee.io/2019/07/13/SpringBoot/SpringDataJpa/SpringDataJpa02/06.png" alt></p><h3 id="æŸ¥è¯¢æ€»è®°å½•æ•°"><a href="#æŸ¥è¯¢æ€»è®°å½•æ•°" class="headerlink" title="æŸ¥è¯¢æ€»è®°å½•æ•°"></a>æŸ¥è¯¢æ€»è®°å½•æ•°</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testCount</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">long</span> count = customerDao.count();</span><br><span class="line">    System.out.println(<span class="string">"ä¸€å…±æœ‰"</span>+count+<span class="string">"æ¡è®°å½•"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>è¿è¡Œç»“æœ</p></blockquote><p><img src="//haoyongliang.gitee.io/2019/07/13/SpringBoot/SpringDataJpa/SpringDataJpa02/07.png" alt></p><h3 id="æ ¹æ®IDæŸ¥è¯¢æ˜¯å¦æœ‰è®°å½•"><a href="#æ ¹æ®IDæŸ¥è¯¢æ˜¯å¦æœ‰è®°å½•" class="headerlink" title="æ ¹æ®IDæŸ¥è¯¢æ˜¯å¦æœ‰è®°å½•"></a>æ ¹æ®IDæŸ¥è¯¢æ˜¯å¦æœ‰è®°å½•</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testExists</span><span class="params">()</span></span>&#123;</span><br><span class="line">       <span class="keyword">boolean</span> exists = customerDao.exists(<span class="number">1L</span>);</span><br><span class="line">       System.out.println(exists?<span class="string">"å­˜åœ¨"</span>:<span class="string">"ä¸å­˜åœ¨"</span>);</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><blockquote><p>è¿è¡Œç»“æœ</p></blockquote><p><img src="//haoyongliang.gitee.io/2019/07/13/SpringBoot/SpringDataJpa/SpringDataJpa02/08.png" alt></p><h3 id="findOneå’ŒgetOneçš„åŒºåˆ«"><a href="#findOneå’ŒgetOneçš„åŒºåˆ«" class="headerlink" title="findOneå’ŒgetOneçš„åŒºåˆ«"></a>findOneå’ŒgetOneçš„åŒºåˆ«</h3><h4 id="ç«‹åˆ»æŸ¥è¯¢findOne"><a href="#ç«‹åˆ»æŸ¥è¯¢findOne" class="headerlink" title="ç«‹åˆ»æŸ¥è¯¢findOne"></a>ç«‹åˆ»æŸ¥è¯¢findOne</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testFindOne</span><span class="params">()</span></span>&#123;</span><br><span class="line">    Customer customer = customerDao.findOne(<span class="number">1L</span>);</span><br><span class="line">    <span class="comment">//æ³¨æ„è·å–åˆ°å¯¹è±¡ä»¥åå¹¶æ²¡æœ‰æ“ä½œè¯¥å¯¹è±¡</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>è¿è¡Œç»“æœ</p></blockquote><p><img src="//haoyongliang.gitee.io/2019/07/13/SpringBoot/SpringDataJpa/SpringDataJpa02/09.png" alt></p><h4 id="å»¶è¿ŸæŸ¥è¯¢-getOne"><a href="#å»¶è¿ŸæŸ¥è¯¢-getOne" class="headerlink" title="å»¶è¿ŸæŸ¥è¯¢ getOne"></a>å»¶è¿ŸæŸ¥è¯¢ getOne</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="meta">@Transactional</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testGetOne</span><span class="params">()</span></span>&#123;</span><br><span class="line">       Customer one = customerDao.getOne(<span class="number">1L</span>);</span><br><span class="line">       <span class="comment">//æ³¨æ„è·å–åˆ°å¯¹è±¡åå¹¶æ²¡æœ‰æ“ä½œå¯¹è±¡</span></span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><blockquote><p>è¿è¡Œç»“æœ</p></blockquote><p><img src="//haoyongliang.gitee.io/2019/07/13/SpringBoot/SpringDataJpa/SpringDataJpa02/10.png" alt></p><h4 id="åŒºåˆ«"><a href="#åŒºåˆ«" class="headerlink" title="åŒºåˆ«"></a>åŒºåˆ«</h4><p>ç«‹åˆ»æŸ¥è¯¢ï¼šæ— è®ºæ˜¯å¦æ“ä½œå¯¹è±¡éƒ½ä¼šæ‰§è¡ŒSQL</p><p>å»¶è¿ŸæŸ¥è¯¢ï¼šå¦‚æœä¸æ“ä½œå¯¹è±¡ä¸ä¼šæ‰§è¡ŒSQL</p><h1 id="ä½¿ç”¨JPQLè¯­å¥æ“ä½œæ•°æ®åº“"><a href="#ä½¿ç”¨JPQLè¯­å¥æ“ä½œæ•°æ®åº“" class="headerlink" title="ä½¿ç”¨JPQLè¯­å¥æ“ä½œæ•°æ®åº“"></a>ä½¿ç”¨JPQLè¯­å¥æ“ä½œæ•°æ®åº“</h1><h2 id="å¥½å¤„"><a href="#å¥½å¤„" class="headerlink" title="å¥½å¤„"></a>å¥½å¤„</h2><p>å¯ä»¥ä½¿ç”¨ç±»ä¼¼SQLçš„è¯­å¥è¿›è¡Œè‡ªå®šä¹‰æŸ¥è¯¢</p><h2 id="æ³¨æ„äº‹é¡¹"><a href="#æ³¨æ„äº‹é¡¹" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h2><p>éœ€è¦æ³¨æ„çš„æ˜¯æŸ¥è¯¢çš„æ˜¯å®ä½“ç±»å’Œå±æ€§ï¼Œä¸æ˜¯è¡¨åå’Œå­—æ®µ</p><h2 id="ä½¿ç”¨æ–¹å¼"><a href="#ä½¿ç”¨æ–¹å¼" class="headerlink" title="ä½¿ç”¨æ–¹å¼"></a>ä½¿ç”¨æ–¹å¼</h2><h3 id="CustomDaoæ¥å£ä»£ç "><a href="#CustomDaoæ¥å£ä»£ç " class="headerlink" title="CustomDaoæ¥å£ä»£ç "></a>CustomDaoæ¥å£ä»£ç </h3><p>åœ¨æ¥å£çš„æ–¹æ³•ä¸Šä½¿ç”¨@Queryæ³¨è§£</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *  JpaRepository&lt;æ“ä½œçš„å®ä½“ç±», å®ä½“ç±»ä¸­ä¸»é”®çš„ç±»å‹&gt; æ¥å£ä¸­æä¾›äº†ç®€å•æ“ä½œæ•°æ®åº“çš„æ–¹æ³•</span></span><br><span class="line"><span class="comment"> *  JpaSpecificationExecutorr&lt;æ“ä½œçš„æ˜¯å®ä½“ç±»&gt;æ¥å£ä¸­æä¾›äº†å¤æ‚æ–¹æ³•ï¼Œæ¯”å¦‚å¤šæ¡ä»¶å’Œåˆ†é¡µæŸ¥è¯¢</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">CustomerDao</span> <span class="keyword">extends</span> <span class="title">JpaRepository</span>&lt;<span class="title">Customer</span>,<span class="title">Long</span>&gt;,<span class="title">JpaSpecificationExecutor</span>&lt;<span class="title">Customer</span>&gt;</span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * é€šè¿‡å®¢æˆ·åæŸ¥è¯¢å®¢æˆ·ä¿¡æ¯</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> name å®¢æˆ·å§“å</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Query</span>(value = <span class="string">"from Customer where custName = ?"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Customer <span class="title">findByCustomerName</span><span class="params">(String name)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æµ‹è¯•ä»£ç "><a href="#æµ‹è¯•ä»£ç " class="headerlink" title="æµ‹è¯•ä»£ç "></a>æµ‹è¯•ä»£ç </h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testFindByCustomerName</span><span class="params">()</span></span>&#123;</span><br><span class="line">       Customer lisi = customerDao.findByCustomerName(<span class="string">"æå››"</span>);</span><br><span class="line">       System.out.println(lisi);</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><h3 id="çº¢çº¿æŠ¥é”™"><a href="#çº¢çº¿æŠ¥é”™" class="headerlink" title="çº¢çº¿æŠ¥é”™"></a>çº¢çº¿æŠ¥é”™</h3><p>fromå’Œ?é‚£é‡Œå¯èƒ½ä¼šæŠ¥ from unexpectedé”™è¯¯ï¼Œä¸ç”¨ç†ä¼šï¼Œè¿™æ˜¯å› ä¸ºæˆ‘ä»¬çš„JPQLè¯­å¥ä¹¦å†™ä¸æ ‡å‡†,å½“ç„¶ä¹Ÿå¯ä»¥ä¹¦å†™æ ‡å‡†çš„HPQLè¯­å¥ï¼Œåç»­ä¼šè®²</p><h2 id="å¤šå ä½ç¬¦èµ‹å€¼-è§£å†³çº¢çº¿è­¦å‘Š"><a href="#å¤šå ä½ç¬¦èµ‹å€¼-è§£å†³çº¢çº¿è­¦å‘Š" class="headerlink" title="å¤šå ä½ç¬¦èµ‹å€¼(è§£å†³çº¢çº¿è­¦å‘Š)"></a>å¤šå ä½ç¬¦èµ‹å€¼(è§£å†³çº¢çº¿è­¦å‘Š)</h2><blockquote><p>éœ€æ±‚: æ ¹æ®Idå’Œå§“åèµ‹å€¼</p></blockquote><h3 id="å ä½ç¬¦çš„ç¬¬ä¸€ä¸­å†™æ³•"><a href="#å ä½ç¬¦çš„ç¬¬ä¸€ä¸­å†™æ³•" class="headerlink" title="å ä½ç¬¦çš„ç¬¬ä¸€ä¸­å†™æ³•"></a>å ä½ç¬¦çš„ç¬¬ä¸€ä¸­å†™æ³•</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Query</span>(value = <span class="string">"from Customer where custName=? and custId=?"</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> Customer <span class="title">findByCustomerNameAndId</span><span class="params">(String name, Long id)</span></span>;</span><br></pre></td></tr></table></figure><p><img src="//haoyongliang.gitee.io/2019/07/13/SpringBoot/SpringDataJpa/SpringDataJpa02/12.png" alt></p><h3 id="å ä½ç¬¦çš„ç¬¬äºŒç§å†™æ³•"><a href="#å ä½ç¬¦çš„ç¬¬äºŒç§å†™æ³•" class="headerlink" title="å ä½ç¬¦çš„ç¬¬äºŒç§å†™æ³•"></a>å ä½ç¬¦çš„ç¬¬äºŒç§å†™æ³•</h3><blockquote><p>ç´¢å¼•å¿…é¡»ä»1å¼€å§‹</p><p>?åé¢çš„æ•°å­—è¡¨ä½¿ç”¨ç¬¬å‡ ä¸ªå½¢å¼å‚æ•°çš„å€¼</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"> <span class="meta">@Query</span>(value = <span class="string">"from Customer where custId=?2 and custName=?1 "</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> Customer <span class="title">findByCustomerNameAndId</span><span class="params">(String name, Long id)</span></span>;</span><br></pre></td></tr></table></figure><p><img src="//haoyongliang.gitee.io/2019/07/13/SpringBoot/SpringDataJpa/SpringDataJpa02/13.png" alt></p><h3 id="å ä½ç¬¦çš„ç¬¬ä¸‰ç§å†™æ³•"><a href="#å ä½ç¬¦çš„ç¬¬ä¸‰ç§å†™æ³•" class="headerlink" title="å ä½ç¬¦çš„ç¬¬ä¸‰ç§å†™æ³•"></a>å ä½ç¬¦çš„ç¬¬ä¸‰ç§å†™æ³•</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Query</span>(value = <span class="string">"from Customer where custId=:custId and custName=:custName "</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> Customer <span class="title">findByCustomerNameAndId</span><span class="params">(@Param(<span class="string">"custName"</span>)</span> String name, @<span class="title">Param</span><span class="params">(<span class="string">"custId"</span>)</span> Long id)</span>;</span><br></pre></td></tr></table></figure><p><img src="//haoyongliang.gitee.io/2019/07/13/SpringBoot/SpringDataJpa/SpringDataJpa02/14.png" alt></p><h3 id="å®Œå…¨ç¬¦åˆè§„èŒƒçš„å§¿åŠ¿"><a href="#å®Œå…¨ç¬¦åˆè§„èŒƒçš„å§¿åŠ¿" class="headerlink" title="å®Œå…¨ç¬¦åˆè§„èŒƒçš„å§¿åŠ¿"></a>å®Œå…¨ç¬¦åˆè§„èŒƒçš„å§¿åŠ¿</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Query</span>(value = <span class="string">"select c from Customer c where c.custId=:custId and c.custName=:custName "</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> Customer <span class="title">findByCustomerNameAndId</span><span class="params">(@Param(<span class="string">"custName"</span>)</span> String name, @<span class="title">Param</span><span class="params">(<span class="string">"custId"</span>)</span> Long id)</span>;</span><br></pre></td></tr></table></figure><h2 id="æ ¹æ®å®¢æˆ·åæŸ¥è¯¢"><a href="#æ ¹æ®å®¢æˆ·åæŸ¥è¯¢" class="headerlink" title="æ ¹æ®å®¢æˆ·åæŸ¥è¯¢"></a>æ ¹æ®å®¢æˆ·åæŸ¥è¯¢</h2><blockquote><p>æ¥å£</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Query</span>(value = <span class="string">"from Customer where custName = ?"</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> Customer <span class="title">findByCustomerName</span><span class="params">(String name)</span></span>;</span><br></pre></td></tr></table></figure><blockquote><p>æµ‹è¯•ä»£ç </p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testFindByCustomerName</span><span class="params">()</span></span>&#123;</span><br><span class="line">       Customer lisi = customerDao.findByCustomerName(<span class="string">"æå››"</span>);</span><br><span class="line">       System.out.println(lisi);</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><blockquote><p>è¿è¡Œç»“æœ</p></blockquote><p><img src="//haoyongliang.gitee.io/2019/07/13/SpringBoot/SpringDataJpa/SpringDataJpa02/11.png" alt></p><h2 id="æ›´æ–°æˆ–è€…åˆ é™¤"><a href="#æ›´æ–°æˆ–è€…åˆ é™¤" class="headerlink" title="æ›´æ–°æˆ–è€…åˆ é™¤"></a>æ›´æ–°æˆ–è€…åˆ é™¤</h2><h3 id="CustomDaoæ¥å£ä¸­çš„ä»£ç "><a href="#CustomDaoæ¥å£ä¸­çš„ä»£ç " class="headerlink" title="CustomDaoæ¥å£ä¸­çš„ä»£ç "></a>CustomDaoæ¥å£ä¸­çš„ä»£ç </h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Modifying</span></span><br><span class="line"><span class="meta">@Query</span>(value = <span class="string">"update Customer  set custPhone=:custPhone where custId=:custId"</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">updatePhoneById</span><span class="params">(@Param(<span class="string">"custId"</span>)</span> Long id,@<span class="title">Param</span><span class="params">(<span class="string">"custPhone"</span>)</span>String phone)</span>;</span><br></pre></td></tr></table></figure><h3 id="æµ‹è¯•ä»£ç -1"><a href="#æµ‹è¯•ä»£ç -1" class="headerlink" title="æµ‹è¯•ä»£ç "></a>æµ‹è¯•ä»£ç </h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="meta">@Transactional</span></span><br><span class="line"><span class="meta">@Rollback</span>(<span class="keyword">false</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testUpdatePhone</span><span class="params">()</span></span>&#123;</span><br><span class="line">customerDao.updatePhoneById(<span class="number">7L</span>,<span class="string">"1388887777"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å¯èƒ½å‡ºç°çš„é—®é¢˜-1"><a href="#å¯èƒ½å‡ºç°çš„é—®é¢˜-1" class="headerlink" title="å¯èƒ½å‡ºç°çš„é—®é¢˜"></a>å¯èƒ½å‡ºç°çš„é—®é¢˜</h3><h4 id="é—®é¢˜1ï¼šNot-supported-for-DML-operations"><a href="#é—®é¢˜1ï¼šNot-supported-for-DML-operations" class="headerlink" title="é—®é¢˜1ï¼šNot supported for DML operations"></a>é—®é¢˜1ï¼šNot supported for DML operations</h4><p>åŸå› æ˜¯å› ä¸ºæ¥å£ä¸Šæ²¡æœ‰æ·»åŠ @Modifying æ³¨è§£</p><h4 id="é—®é¢˜2ï¼šExecuting-an-update-delete-query-nested-exception-is-javax-persistence"><a href="#é—®é¢˜2ï¼šExecuting-an-update-delete-query-nested-exception-is-javax-persistence" class="headerlink" title="é—®é¢˜2ï¼šExecuting an update/delete query; nested exception is javax.persistence"></a>é—®é¢˜2ï¼šExecuting an update/delete query; nested exception is javax.persistence</h4><p>åŸå› æ˜¯æµ‹è¯•ç±»æ²¡æœ‰å¼€å¯äº‹åŠ¡ï¼Œéœ€è¦åŠ @org.springframework.transaction.annotation.Transactional æ³¨è§£</p><h4 id="é—®é¢˜3ï¼šæ•°æ®åº“æ²¡æœ‰æ›´æ–°æˆåŠŸ"><a href="#é—®é¢˜3ï¼šæ•°æ®åº“æ²¡æœ‰æ›´æ–°æˆåŠŸ" class="headerlink" title="é—®é¢˜3ï¼šæ•°æ®åº“æ²¡æœ‰æ›´æ–°æˆåŠŸ"></a>é—®é¢˜3ï¼šæ•°æ®åº“æ²¡æœ‰æ›´æ–°æˆåŠŸ</h4><p>æµ‹è¯•æ–¹æ³•é»˜è®¤æ‰§è¡Œå®Œåè¦äº‹åŠ¡å›æ»šï¼Œä¿®æ”¹ä¸ºæäº¤ï¼Œåœ¨æµ‹è¯•ç±»æ·»åŠ @Rollback(false)æ³¨è§£</p><h1 id="ä½¿ç”¨åŸç”ŸSQLæ“ä½œæ•°æ®åº“"><a href="#ä½¿ç”¨åŸç”ŸSQLæ“ä½œæ•°æ®åº“" class="headerlink" title="ä½¿ç”¨åŸç”ŸSQLæ“ä½œæ•°æ®åº“"></a>ä½¿ç”¨åŸç”ŸSQLæ“ä½œæ•°æ®åº“</h1><h2 id="ä½¿ç”¨åŸç”ŸSQLæŸ¥è¯¢å…¨éƒ¨"><a href="#ä½¿ç”¨åŸç”ŸSQLæŸ¥è¯¢å…¨éƒ¨" class="headerlink" title="ä½¿ç”¨åŸç”ŸSQLæŸ¥è¯¢å…¨éƒ¨"></a>ä½¿ç”¨åŸç”ŸSQLæŸ¥è¯¢å…¨éƒ¨</h2><h3 id="æ¥å£ä»£ç "><a href="#æ¥å£ä»£ç " class="headerlink" title="æ¥å£ä»£ç "></a>æ¥å£ä»£ç </h3><blockquote><p>éœ€è¦åœ¨@Queryæ³¨è§£ä¸­æŒ‡å®šå±æ€§navtiveQuery=true è¡¨ç¤ºä½¿ç”¨çš„æ˜¯åŸç”ŸSQL</p><p>è¿™é‡ŒSQLè¯­å¥æˆ‘æ²¡æœ‰å†™ select * â€¦ ï¼Œæ¡†æ¶è®¤ä¸ºæ˜¯ä¸æ ‡å‡†çš„å†™æ³•è¦é€šè¿‡è¡¨çš„åˆ«å.*æ“ä½œ</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Query</span>(value = <span class="string">"select * from cst_customer "</span>, nativeQuery = <span class="keyword">true</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> List&lt;Customer&gt; <span class="title">selectAll</span><span class="params">()</span></span>;</span><br></pre></td></tr></table></figure><p>###æµ‹è¯•ä»£ç </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testFindAllBySql</span><span class="params">()</span></span>&#123;</span><br><span class="line">       List&lt;Customer&gt; customers = customerDao.selectAll();</span><br><span class="line"></span><br><span class="line">       <span class="keyword">for</span> (Customer customer : customers) &#123;</span><br><span class="line">           System.out.println(customer);</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><h3 id="è¿è¡Œç»“æœ"><a href="#è¿è¡Œç»“æœ" class="headerlink" title="è¿è¡Œç»“æœ"></a>è¿è¡Œç»“æœ</h3><p><img src="//haoyongliang.gitee.io/2019/07/13/SpringBoot/SpringDataJpa/SpringDataJpa02/15.png" alt></p><h2 id="ä½¿ç”¨åŸç”ŸSQLæ¨¡ç³ŠæŸ¥è¯¢"><a href="#ä½¿ç”¨åŸç”ŸSQLæ¨¡ç³ŠæŸ¥è¯¢" class="headerlink" title="ä½¿ç”¨åŸç”ŸSQLæ¨¡ç³ŠæŸ¥è¯¢"></a>ä½¿ç”¨åŸç”ŸSQLæ¨¡ç³ŠæŸ¥è¯¢</h2><h3 id="æ¥å£ä»£ç -1"><a href="#æ¥å£ä»£ç -1" class="headerlink" title="æ¥å£ä»£ç "></a>æ¥å£ä»£ç </h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    è¿™é‡Œå¦‚æœå ä½ç¬¦ä½¿ç”¨çš„æ˜¯? é‚£ä¹ˆ?ä¸¤è¾¹ä¸èƒ½ä½¿ç”¨%ï¼Œå¦‚æœä½¿ç”¨çš„æ˜¯?ä½ç½® æˆ–è€… :å˜é‡å è¿™ç§å ä½ç¬¦åˆ™å¯ä»¥ä½¿ç”¨%</span></span><br><span class="line"><span class="comment">    select * from cst_customer c where cust_name LIKE %?%           é”™è¯¯çš„å†™æ³•</span></span><br><span class="line"><span class="comment">    select * from cst_customer c where cust_name LIKE %?1%          æ­£ç¡®çš„å†™æ³•</span></span><br><span class="line"><span class="comment">    select * from cst_customer c where cust_name LIKE %:cust_name%  æ­£ç¡®çš„å†™æ³•</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="meta">@Query</span>(value = <span class="string">"select * from cst_customer c where cust_name LIKE ?"</span>, nativeQuery = <span class="keyword">true</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> List&lt;Customer&gt; <span class="title">selectByCustomerName</span><span class="params">( String name)</span></span>;<span class="comment">//</span></span><br></pre></td></tr></table></figure><h3 id="æµ‹è¯•ä»£ç -2"><a href="#æµ‹è¯•ä»£ç -2" class="headerlink" title="æµ‹è¯•ä»£ç "></a>æµ‹è¯•ä»£ç </h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testFindByNameWithSQL</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="comment">//å¦‚æœSQLè¯­å¥ä¸­å·²ç»ä½¿ç”¨%ï¼Œé‚£ä¹ˆè¿™é‡Œä¼ å‚çš„æ—¶å€™å°±ä¸è¦å†æ·»åŠ %å·äº†</span></span><br><span class="line">    List&lt;Customer&gt; customers = customerDao.selectByCustomerName(<span class="string">"ä¼ æ™º"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (Customer customer : customers) &#123;</span><br><span class="line">    System.out.println(customer);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="è¿è¡Œç»“æœ-1"><a href="#è¿è¡Œç»“æœ-1" class="headerlink" title="è¿è¡Œç»“æœ"></a>è¿è¡Œç»“æœ</h3><p><img src="//haoyongliang.gitee.io/2019/07/13/SpringBoot/SpringDataJpa/SpringDataJpa02/16.png" alt></p><h2 id="ä½¿ç”¨åŸç”ŸSQLä¿®æ”¹æˆ–åˆ é™¤"><a href="#ä½¿ç”¨åŸç”ŸSQLä¿®æ”¹æˆ–åˆ é™¤" class="headerlink" title="ä½¿ç”¨åŸç”ŸSQLä¿®æ”¹æˆ–åˆ é™¤"></a>ä½¿ç”¨åŸç”ŸSQLä¿®æ”¹æˆ–åˆ é™¤</h2><h3 id="æ¥å£ä»£ç -2"><a href="#æ¥å£ä»£ç -2" class="headerlink" title="æ¥å£ä»£ç "></a>æ¥å£ä»£ç </h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * é€šè¿‡SQLè¯­å¥æ›´æ–°å®¢æˆ·å</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="meta">@Modifying</span></span><br><span class="line"><span class="meta">@Query</span>(value = <span class="string">"update cst_customer set cust_name = :cust_name where cust_id=:cust_id"</span>, nativeQuery = <span class="keyword">true</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">updateCustomerNameByIdWithSQL</span><span class="params">(@Param(<span class="string">"cust_name"</span>)</span> String name,@<span class="title">Param</span><span class="params">(<span class="string">"cust_id"</span>)</span> Long id)</span>;</span><br></pre></td></tr></table></figure><h3 id="æµ‹è¯•ä»£ç -3"><a href="#æµ‹è¯•ä»£ç -3" class="headerlink" title="æµ‹è¯•ä»£ç "></a>æµ‹è¯•ä»£ç </h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line">   <span class="meta">@Transactional</span></span><br><span class="line">   <span class="meta">@Rollback</span>(<span class="keyword">false</span>)</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testUpdateWithSQL</span><span class="params">()</span></span>&#123;</span><br><span class="line">       customerDao.updateCustomerNameByIdWithSQL(<span class="string">"ä¼ æ™ºæ’­å®¢å®¢"</span>,<span class="number">2L</span>);</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><h3 id="è¿è¡Œç»“æœ-2"><a href="#è¿è¡Œç»“æœ-2" class="headerlink" title="è¿è¡Œç»“æœ"></a>è¿è¡Œç»“æœ</h3><p><img src="//haoyongliang.gitee.io/2019/07/13/SpringBoot/SpringDataJpa/SpringDataJpa02/17.png" alt></p><h1 id="è‡ªå®šä¹‰ç®€å•æŸ¥è¯¢"><a href="#è‡ªå®šä¹‰ç®€å•æŸ¥è¯¢" class="headerlink" title="è‡ªå®šä¹‰ç®€å•æŸ¥è¯¢"></a>è‡ªå®šä¹‰ç®€å•æŸ¥è¯¢</h1><h2 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h2><blockquote><p>è‡ªå®šä¹‰çš„ç®€å•æŸ¥è¯¢å°±æ˜¯æ ¹æ®æ–¹æ³•åæ¥è‡ªåŠ¨ç”Ÿæˆ SQLï¼Œä¸»è¦çš„è¯­æ³•æ˜¯ findXXByã€readAXXByã€queryXXByã€countXXByã€getXXBy åé¢è·Ÿå±æ€§åç§°ï¼š</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">User <span class="title">findByUsername</span><span class="params">(String userName)</span></span>;</span><br></pre></td></tr></table></figure><blockquote><p>ä¹Ÿå¯ä»¥åŠ ä¸€äº›å…³é”®å­— Andã€Orï¼š</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">User <span class="title">findByUsernameOrAddress</span><span class="params">(String username, String address)</span></span>;</span><br></pre></td></tr></table></figure><blockquote><p>ä¿®æ”¹ã€åˆ é™¤ã€ç»Ÿè®¡ä¹Ÿæ˜¯ç±»ä¼¼è¯­æ³•ï¼š</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">Long <span class="title">deleteById</span><span class="params">(Long id)</span></span>;</span><br><span class="line"><span class="function">Long <span class="title">countByUsername</span><span class="params">(String userName)</span></span></span><br></pre></td></tr></table></figure><blockquote><p>åŸºæœ¬ä¸Š SQL ä½“ç³»ä¸­çš„å…³é”®è¯éƒ½å¯ä»¥ä½¿ç”¨ï¼Œå¦‚ LIKEã€IgnoreCaseã€OrderByã€‚</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">List&lt;User&gt; <span class="title">findByAddressLike</span><span class="params">(String address)</span></span>;</span><br><span class="line"><span class="function">User <span class="title">findByAddressIgnoreCase</span><span class="params">(String address)</span></span>;</span><br><span class="line"><span class="function">List&lt;User&gt; <span class="title">findByAddressOrderByBalanceDesc</span><span class="params">(String address)</span></span>;</span><br></pre></td></tr></table></figure><h2 id="æ–¹æ³•å‘½åè§„èŒƒ"><a href="#æ–¹æ³•å‘½åè§„èŒƒ" class="headerlink" title="æ–¹æ³•å‘½åè§„èŒƒ"></a>æ–¹æ³•å‘½åè§„èŒƒ</h2><table><thead><tr><th align="left">Keyword</th><th align="left">Sample</th><th>JPQL snippet</th></tr></thead><tbody><tr><td align="left">And</td><td align="left">findByLastnameAndFirstname</td><td>â€¦ where x.lastname = ?1 and x.firstname = ?2</td></tr><tr><td align="left">Or</td><td align="left">findByLastnameOrFirstname</td><td>â€¦ where x.lastname = ?1 or x.firstname = ?2</td></tr><tr><td align="left">Is,Equals</td><td align="left">findByFirstnameIs,findByFirstnameEquals</td><td>â€¦ where x.firstname = ?1</td></tr><tr><td align="left">Between</td><td align="left">findByStartDateBetween</td><td>â€¦ where x.startDate between ?1 and ?2</td></tr><tr><td align="left">LessThan</td><td align="left">findByAgeLessThan</td><td>â€¦ where x.age &lt; ?1</td></tr><tr><td align="left">LessThanEqual</td><td align="left">findByAgeLessThanEqual</td><td>â€¦ where x.age &lt;= ?1</td></tr><tr><td align="left">GreaterThan</td><td align="left">findByAgeGreaterThan</td><td>â€¦ where x.age &gt; ?1</td></tr><tr><td align="left">GreaterThanEqual</td><td align="left">findByAgeGreaterThanEqual</td><td>â€¦ where x.age &gt;= ?1</td></tr><tr><td align="left">After</td><td align="left">findByStartDateAfter</td><td>â€¦ where x.startDate &gt; ?1</td></tr><tr><td align="left">Before</td><td align="left">findByStartDateBefore</td><td>â€¦ where x.startDate &lt; ?1</td></tr><tr><td align="left">IsNull</td><td align="left">findByAgeIsNull</td><td>â€¦ where x.age is null</td></tr><tr><td align="left">IsNotNull,NotNull</td><td align="left">findByAge(Is)NotNull</td><td>â€¦ where x.age not null</td></tr><tr><td align="left">Like</td><td align="left">findByFirstnameLike</td><td>â€¦ where x.firstname like ?1</td></tr><tr><td align="left">NotLike</td><td align="left">findByFirstnameNotLike</td><td>â€¦ where x.firstname not like ?1</td></tr><tr><td align="left">StartingWith</td><td align="left">findByFirstnameStartingWith</td><td>â€¦ where x.firstname like ?1 (parameter bound with appended %)</td></tr><tr><td align="left">EndingWith</td><td align="left">findByFirstnameEndingWith</td><td>â€¦ where x.firstname like ?1 (parameter bound with prepended %)</td></tr><tr><td align="left">Containing</td><td align="left">findByFirstnameContaining</td><td>â€¦ where x.firstname like ?1 (parameter bound wrapped in %)</td></tr><tr><td align="left">OrderBy</td><td align="left">findByAgeOrderByLastnameDesc</td><td>â€¦ where x.age = ?1 order by x.lastname desc</td></tr><tr><td align="left">Not</td><td align="left">findByLastnameNot</td><td>â€¦ where x.lastname &lt;&gt; ?1</td></tr><tr><td align="left">In</td><td align="left">findByAgeIn(Collection<age> ages)</age></td><td>â€¦ where x.age in ?1</td></tr><tr><td align="left">NotIn</td><td align="left">findByAgeNotIn(Collection<age> age)</age></td><td>â€¦ where x.age not in ?1</td></tr><tr><td align="left">TRUE</td><td align="left">findByActiveTrue()</td><td>â€¦ where x.active = true</td></tr><tr><td align="left">FALSE</td><td align="left">findByActiveFalse()</td><td>â€¦ where x.active = false</td></tr><tr><td align="left">IgnoreCase</td><td align="left">findByFirstnameIgnoreCase</td><td>â€¦ where UPPER(x.firstame) = UPPER(?1)</td></tr></tbody></table><p>##6.2åŸºæœ¬æŸ¥è¯¢ </p><h3 id="æ–¹æ³•å‘½åæ ¼å¼"><a href="#æ–¹æ³•å‘½åæ ¼å¼" class="headerlink" title="æ–¹æ³•å‘½åæ ¼å¼"></a>æ–¹æ³•å‘½åæ ¼å¼</h3><blockquote><p>å±æ€§åé¦–å­—æ¯è¦å¤§å†™</p></blockquote><p>æŸ¥è¯¢ä¸€ä¸ªå®ä½“ç±»ï¼šfindBy<strong>å±æ€§å1</strong>And<strong>å±æ€§å2</strong></p><p>æŸ¥è¯¢å¤šä¸ªå®ä½“ç±»ï¼šfindAllBy<strong>å±æ€§å1</strong>And<strong>å±æ€§å2</strong></p><h3 id="æ¥å£ä»£ç -3"><a href="#æ¥å£ä»£ç -3" class="headerlink" title="æ¥å£ä»£ç "></a>æ¥å£ä»£ç </h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">    * ç”Ÿæˆçš„SQL select * from cst_customer where cust_name = ?</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@param</span> custName</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> Customer <span class="title">findByCustName</span><span class="params">(String custName)</span></span>;</span><br></pre></td></tr></table></figure><h3 id="æµ‹è¯•ä»£ç -4"><a href="#æµ‹è¯•ä»£ç -4" class="headerlink" title="æµ‹è¯•ä»£ç "></a>æµ‹è¯•ä»£ç </h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testFindByCustName</span><span class="params">()</span></span>&#123;</span><br><span class="line">       Customer customer = customerDao.findByCustName(<span class="string">"ä¼ æ™ºæ±‡"</span>);</span><br><span class="line">       System.out.println(customer);</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><h3 id="è¿è¡Œç»“æœ-3"><a href="#è¿è¡Œç»“æœ-3" class="headerlink" title="è¿è¡Œç»“æœ"></a>è¿è¡Œç»“æœ</h3><p><img src="//haoyongliang.gitee.io/2019/07/13/SpringBoot/SpringDataJpa/SpringDataJpa02/18.png" alt></p><h2 id="æ¨¡ç³ŠæŸ¥è¯¢"><a href="#æ¨¡ç³ŠæŸ¥è¯¢" class="headerlink" title="æ¨¡ç³ŠæŸ¥è¯¢"></a>æ¨¡ç³ŠæŸ¥è¯¢</h2><h3 id="æ–¹æ³•å‘½åæ ¼å¼-1"><a href="#æ–¹æ³•å‘½åæ ¼å¼-1" class="headerlink" title="æ–¹æ³•å‘½åæ ¼å¼"></a>æ–¹æ³•å‘½åæ ¼å¼</h3><blockquote><p>å±æ€§åé¦–å­—æ¯è¦å¤§å†™</p></blockquote><p>æŸ¥è¯¢ä¸€ä¸ªå®ä½“ç±»ï¼šfindBy<strong>å±æ€§å1</strong>And<strong>å±æ€§å2</strong>+Like</p><p>æŸ¥è¯¢å¤šä¸ªå®ä½“ç±»ï¼šfindAllBy<strong>å±æ€§å1</strong>And<strong>å±æ€§å2</strong>+Like</p><h3 id="è¡¨æ•°æ®"><a href="#è¡¨æ•°æ®" class="headerlink" title="è¡¨æ•°æ®"></a>è¡¨æ•°æ®</h3><p><img src="//haoyongliang.gitee.io/2019/07/13/SpringBoot/SpringDataJpa/SpringDataJpa02/20.png" alt></p><h3 id="æ¥å£ä»£ç -4"><a href="#æ¥å£ä»£ç -4" class="headerlink" title="æ¥å£ä»£ç "></a>æ¥å£ä»£ç </h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å•ä¸ªæ¡ä»¶æ¨¡ç³ŠæŸ¥è¯¢</span></span><br><span class="line"><span class="comment">     * æ ¼å¼ å±æ€§åååŠ Likeï¼Œ findAllByå±æ€§åLike()</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> name</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;Customer&gt; <span class="title">findAllByCustNameLike</span><span class="params">(String name)</span></span>;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ä½¿ç”¨å¤šä¸ªæ¡ä»¶æ¨¡ç³ŠæŸ¥è¯¢</span></span><br><span class="line"><span class="comment">     * æ ¼å¼ å±æ€§åååŠ Likeå°±å¥½ï¼ŒfindAllByå±æ€§å1LikeAndå±æ€§å2Like</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> phone</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> name</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     select * from è¡¨å where custphone like ? or custName like</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="comment">//select * from è¡¨å where cust_industry like ? or cust_name liek ?</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;Customer&gt; <span class="title">findAllByCustIndustryLikeOrCustNameLike</span><span class="params">(String industry, String name)</span></span>;</span><br></pre></td></tr></table></figure><h3 id="æµ‹è¯•ä»£ç -5"><a href="#æµ‹è¯•ä»£ç -5" class="headerlink" title="æµ‹è¯•ä»£ç "></a>æµ‹è¯•ä»£ç </h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testLike</span><span class="params">()</span></span>&#123;</span><br><span class="line">    List&lt;Customer&gt; customers = customerDao.findAllByCustNameLike(<span class="string">"%ä¼ æ™º%"</span>);</span><br><span class="line">    System.out.println(customers.size());</span><br><span class="line"></span><br><span class="line">    List&lt;Customer&gt; li = dao.findAllByCustIndustryLikeOrCustNameLike(<span class="string">"æ•™%"</span>, <span class="string">"ä¼ æ™º%"</span>);</span><br><span class="line">    System.out.println(li.size());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="è¿è¡Œç»“æœ-4"><a href="#è¿è¡Œç»“æœ-4" class="headerlink" title="è¿è¡Œç»“æœ"></a>è¿è¡Œç»“æœ</h3><p><img src="//haoyongliang.gitee.io/2019/07/13/SpringBoot/SpringDataJpa/SpringDataJpa02/19.png" alt></p>]]></content>
      
      
      <categories>
          
          <category> æ¡†æ¶ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SpringDataJPA </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SpringDataJPA-å…¥é—¨(ä¸€)</title>
      <link href="/2019/07/13/SpringBoot/SpringDataJpa/SpringDataJpa01/"/>
      <url>/2019/07/13/SpringBoot/SpringDataJpa/SpringDataJpa01/</url>
      
        <content type="html"><![CDATA[<h1 id="JPAæ¦‚è¿°"><a href="#JPAæ¦‚è¿°" class="headerlink" title="JPAæ¦‚è¿°"></a>JPAæ¦‚è¿°</h1><p>æ˜¯ä¸€å¥—è§„èŒƒï¼Œmybatisï¼Œhiberanteæ˜¯äº§å“</p><p>mybatis SQLè¯­å¥ç”¨æˆ·è‡ªå·±å»å†™</p><p>hibernate ä¸éœ€è¦æ‰‹åŠ¨å†™SQLï¼Œç¨‹åºè¿è¡Œæ—¶ä¼šè‡ªåŠ¨ç”Ÿæˆå¹¶æ‰§è¡Œï¼Œå¦‚æœéè¦å†™SQLè¯­å¥ï¼ŒHIbernateå»ºè®®ä½¿ç”¨é¢å‘å¯¹è±¡çš„æŸ¥è¯¢è¯­å¥æ¥å®Œæˆ</p><h1 id="ç¯å¢ƒæ­å»º"><a href="#ç¯å¢ƒæ­å»º" class="headerlink" title="ç¯å¢ƒæ­å»º"></a>ç¯å¢ƒæ­å»º</h1><h2 id="åˆ›å»ºç©ºmavenå·¥ç¨‹å¹¶å¯¼å…¥ä¾èµ–"><a href="#åˆ›å»ºç©ºmavenå·¥ç¨‹å¹¶å¯¼å…¥ä¾èµ–" class="headerlink" title="åˆ›å»ºç©ºmavenå·¥ç¨‹å¹¶å¯¼å…¥ä¾èµ–"></a>åˆ›å»ºç©ºmavenå·¥ç¨‹å¹¶å¯¼å…¥ä¾èµ–</h2><blockquote><p>pom.xmlæ–‡ä»¶å¦‚ä¸‹</p></blockquote><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">"http://maven.apache.org/POM/4.0.0"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>cn.itcast<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>springDataJpaDemo<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">packaging</span>&gt;</span>pom<span class="tag">&lt;/<span class="name">packaging</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">project.build.sourceEncoding</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">project.build.sourceEncoding</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">project.hibernate.version</span>&gt;</span>5.0.7.Final<span class="tag">&lt;/<span class="name">project.hibernate.version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- junit --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.12<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- hibernateå¯¹jpaçš„æ”¯æŒåŒ… --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.hibernate<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>hibernate-entitymanager<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;project.hibernate.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- c3p0 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.hibernate<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>hibernate-c3p0<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;project.hibernate.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- logæ—¥å¿— --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>log4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>log4j<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2.17<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- Mysql and MariaDB --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.1.6<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="æ·»åŠ é…ç½®æ–‡ä»¶"><a href="#æ·»åŠ é…ç½®æ–‡ä»¶" class="headerlink" title="æ·»åŠ é…ç½®æ–‡ä»¶"></a>æ·»åŠ é…ç½®æ–‡ä»¶</h2><blockquote><p>åœ¨resourceç›®å½•ä¸‹åˆ›å»ºæ–‡ä»¶å¤¹META-INF,åœ¨é‡Œé¢åˆ›å»ºpersistence.xmlæ–‡ä»¶</p></blockquote><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">persistence</span> <span class="attr">xmlns</span>=<span class="string">"http://java.sun.com/xml/ns/persistence"</span> <span class="attr">version</span>=<span class="string">"2.0"</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--éœ€è¦é…ç½®persistence-unitèŠ‚ç‚¹</span></span><br><span class="line"><span class="comment">        æŒä¹…åŒ–å•å…ƒï¼š</span></span><br><span class="line"><span class="comment">            nameï¼šæŒä¹…åŒ–å•å…ƒåç§°</span></span><br><span class="line"><span class="comment">            transaction-typeï¼šäº‹åŠ¡ç®¡ç†çš„æ–¹å¼</span></span><br><span class="line"><span class="comment">                    JTAï¼šåˆ†å¸ƒå¼äº‹åŠ¡ç®¡ç†</span></span><br><span class="line"><span class="comment">                    RESOURCE_LOCALï¼šæœ¬åœ°äº‹åŠ¡ç®¡ç†</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">persistence-unit</span> <span class="attr">name</span>=<span class="string">"hibernateConfig"</span> <span class="attr">transaction-type</span>=<span class="string">"RESOURCE_LOCAL"</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--jpaçš„å®ç°æ–¹å¼ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">provider</span>&gt;</span>org.hibernate.jpa.HibernatePersistenceProvider<span class="tag">&lt;/<span class="name">provider</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!--å¯é€‰é…ç½®ï¼šé…ç½®jpaå®ç°æ–¹çš„é…ç½®ä¿¡æ¯--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- æ•°æ®åº“ä¿¡æ¯</span></span><br><span class="line"><span class="comment">                ç”¨æˆ·åï¼Œjavax.persistence.jdbc.user</span></span><br><span class="line"><span class="comment">                å¯†ç ï¼Œ  javax.persistence.jdbc.password</span></span><br><span class="line"><span class="comment">                é©±åŠ¨ï¼Œ  javax.persistence.jdbc.driver</span></span><br><span class="line"><span class="comment">                æ•°æ®åº“åœ°å€   javax.persistence.jdbc.url</span></span><br><span class="line"><span class="comment">            --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"javax.persistence.jdbc.user"</span> <span class="attr">value</span>=<span class="string">"root"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"javax.persistence.jdbc.password"</span> <span class="attr">value</span>=<span class="string">"root"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"javax.persistence.jdbc.driver"</span> <span class="attr">value</span>=<span class="string">"com.mysql.jdbc.Driver"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"javax.persistence.jdbc.url"</span> <span class="attr">value</span>=<span class="string">"jdbc:mysql:///jpa"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">&lt;!--é…ç½®jpaå®ç°æ–¹(hibernate)çš„é…ç½®ä¿¡æ¯</span></span><br><span class="line"><span class="comment">                æ˜¾ç¤ºsql           ï¼š   false|true</span></span><br><span class="line"><span class="comment">                è‡ªåŠ¨åˆ›å»ºæ•°æ®åº“è¡¨    ï¼š  hibernate.hbm2ddl.auto</span></span><br><span class="line"><span class="comment">                        create      : ç¨‹åºè¿è¡Œæ—¶åˆ›å»ºæ•°æ®åº“è¡¨ï¼ˆå¦‚æœæœ‰è¡¨ï¼Œå…ˆåˆ é™¤è¡¨å†åˆ›å»ºï¼‰</span></span><br><span class="line"><span class="comment">                        update      ï¼šç¨‹åºè¿è¡Œæ—¶åˆ›å»ºè¡¨ï¼ˆå¦‚æœæœ‰è¡¨ï¼Œä¸ä¼šåˆ›å»ºè¡¨ï¼‰</span></span><br><span class="line"><span class="comment">                        none        ï¼šä¸ä¼šåˆ›å»ºè¡¨</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">            --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"hibernate.show_sql"</span> <span class="attr">value</span>=<span class="string">"true"</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"hibernate.hbm2ddl.auto"</span> <span class="attr">value</span>=<span class="string">"update"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">persistence-unit</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">persistence</span>&gt;</span></span><br></pre></td></tr></table></figure><h1 id="å¿«é€Ÿä¸Šæ‰‹"><a href="#å¿«é€Ÿä¸Šæ‰‹" class="headerlink" title="å¿«é€Ÿä¸Šæ‰‹"></a>å¿«é€Ÿä¸Šæ‰‹</h1><h2 id="åˆ›å»ºè¡¨"><a href="#åˆ›å»ºè¡¨" class="headerlink" title="åˆ›å»ºè¡¨"></a>åˆ›å»ºè¡¨</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">USE</span> <span class="string">`jpa`</span>;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> <span class="keyword">IF</span> <span class="keyword">EXISTS</span> <span class="string">`cst_customer`</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="string">`cst_customer`</span> (</span><br><span class="line">  <span class="string">`cust_id`</span> <span class="built_in">bigint</span>(<span class="number">32</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span> AUTO_INCREMENT <span class="keyword">COMMENT</span> <span class="string">'å®¢æˆ·ç¼–å·(ä¸»é”®)'</span>,</span><br><span class="line">  <span class="string">`cust_name`</span> <span class="built_in">varchar</span>(<span class="number">32</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'å®¢æˆ·åç§°(å…¬å¸åç§°)'</span>,</span><br><span class="line">  <span class="string">`cust_source`</span> <span class="built_in">varchar</span>(<span class="number">32</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'å®¢æˆ·ä¿¡æ¯æ¥æº'</span>,</span><br><span class="line">  <span class="string">`cust_industry`</span> <span class="built_in">varchar</span>(<span class="number">32</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'å®¢æˆ·æ‰€å±è¡Œä¸š'</span>,</span><br><span class="line">  <span class="string">`cust_level`</span> <span class="built_in">varchar</span>(<span class="number">32</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'å®¢æˆ·çº§åˆ«'</span>,</span><br><span class="line">  <span class="string">`cust_address`</span> <span class="built_in">varchar</span>(<span class="number">128</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'å®¢æˆ·è”ç³»åœ°å€'</span>,</span><br><span class="line">  <span class="string">`cust_phone`</span> <span class="built_in">varchar</span>(<span class="number">64</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'å®¢æˆ·è”ç³»ç”µè¯'</span>,</span><br><span class="line">  PRIMARY <span class="keyword">KEY</span> (<span class="string">`cust_id`</span>)</span><br><span class="line">) <span class="keyword">ENGINE</span>=<span class="keyword">InnoDB</span> <span class="keyword">DEFAULT</span> <span class="keyword">CHARSET</span>=utf8;</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span>  <span class="keyword">into</span> <span class="string">`cst_customer`</span>(<span class="string">`cust_id`</span>,<span class="string">`cust_name`</span>,<span class="string">`cust_source`</span>,<span class="string">`cust_industry`</span>,<span class="string">`cust_level`</span>,<span class="string">`cust_address`</span>,<span class="string">`cust_phone`</span>) <span class="keyword">values</span> (<span class="number">1</span>,<span class="string">'é»‘é©¬ç¨‹åºå‘˜'</span>,<span class="literal">NULL</span>,<span class="string">'æ•™è‚²'</span>,<span class="literal">NULL</span>,<span class="literal">NULL</span>,<span class="literal">NULL</span>),(<span class="number">2</span>,<span class="string">'ä¼ æ™ºæ’­å®¢'</span>,<span class="literal">NULL</span>,<span class="string">'æ•™è‚²'</span>,<span class="literal">NULL</span>,<span class="literal">NULL</span>,<span class="literal">NULL</span>),(<span class="number">3</span>,<span class="string">'é…·ä¸é±¼'</span>,<span class="literal">NULL</span>,<span class="string">'æ•™è‚²'</span>,<span class="literal">NULL</span>,<span class="literal">NULL</span>,<span class="literal">NULL</span>),(<span class="number">4</span>,<span class="string">'ä¼ æ™ºæ±‡'</span>,<span class="literal">NULL</span>,<span class="string">'æ•™è‚²'</span>,<span class="literal">NULL</span>,<span class="literal">NULL</span>,<span class="literal">NULL</span>),(<span class="number">5</span>,<span class="string">'ä¼ æ™ºä¸“ä¿®å­¦é™¢'</span>,<span class="literal">NULL</span>,<span class="string">'æ•™è‚²'</span>,<span class="literal">NULL</span>,<span class="literal">NULL</span>,<span class="literal">NULL</span>),(<span class="number">6</span>,<span class="string">'è°·æ­Œ'</span>,<span class="literal">NULL</span>,<span class="string">'æ•™è‚²'</span>,<span class="literal">NULL</span>,<span class="literal">NULL</span>,<span class="literal">NULL</span>);</span><br></pre></td></tr></table></figure><h2 id="åˆ›å»ºå®ä½“ç±»"><a href="#åˆ›å»ºå®ä½“ç±»" class="headerlink" title="åˆ›å»ºå®ä½“ç±»"></a>åˆ›å»ºå®ä½“ç±»</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.itcast.domain;</span><br><span class="line"><span class="keyword">import</span> javax.persistence.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Customer</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Long custId; <span class="comment">//å®¢æˆ·çš„ä¸»é”®</span></span><br><span class="line">    <span class="keyword">private</span> String custName;<span class="comment">//å®¢æˆ·åç§°</span></span><br><span class="line">    <span class="keyword">private</span> String custSource;<span class="comment">//å®¢æˆ·æ¥æº</span></span><br><span class="line">    <span class="keyword">private</span> String custLevel;<span class="comment">//å®¢æˆ·çº§åˆ«</span></span><br><span class="line">    <span class="keyword">private</span> String custIndustry;<span class="comment">//å®¢æˆ·æ‰€å±è¡Œä¸š</span></span><br><span class="line">    <span class="keyword">private</span> String custPhone;<span class="comment">//å®¢æˆ·çš„è”ç³»æ–¹å¼</span></span><br><span class="line">    <span class="keyword">private</span> String custAddress;<span class="comment">//å®¢æˆ·åœ°å€</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Long <span class="title">getCustId</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> custId;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCustId</span><span class="params">(Long custId)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.custId = custId;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getCustName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> custName;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCustName</span><span class="params">(String custName)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.custName = custName;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getCustSource</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> custSource;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCustSource</span><span class="params">(String custSource)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.custSource = custSource;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getCustLevel</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> custLevel;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCustLevel</span><span class="params">(String custLevel)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.custLevel = custLevel;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getCustIndustry</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> custIndustry;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCustIndustry</span><span class="params">(String custIndustry)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.custIndustry = custIndustry;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getCustPhone</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> custPhone;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCustPhone</span><span class="params">(String custPhone)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.custPhone = custPhone;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getCustAddress</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> custAddress;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCustAddress</span><span class="params">(String custAddress)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.custAddress = custAddress;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"Customer&#123;"</span> +</span><br><span class="line">                <span class="string">"custId="</span> + custId +</span><br><span class="line">                <span class="string">", custName='"</span> + custName + <span class="string">'\''</span> +</span><br><span class="line">                <span class="string">", custSource='"</span> + custSource + <span class="string">'\''</span> +</span><br><span class="line">                <span class="string">", custLevel='"</span> + custLevel + <span class="string">'\''</span> +</span><br><span class="line">                <span class="string">", custIndustry='"</span> + custIndustry + <span class="string">'\''</span> +</span><br><span class="line">                <span class="string">", custPhone='"</span> + custPhone + <span class="string">'\''</span> +</span><br><span class="line">                <span class="string">", custAddress='"</span> + custAddress + <span class="string">'\''</span> +</span><br><span class="line">                <span class="string">'&#125;'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="é€šè¿‡æ³¨è§£é…ç½®æ˜ å°„å…³ç³»"><a href="#é€šè¿‡æ³¨è§£é…ç½®æ˜ å°„å…³ç³»" class="headerlink" title="é€šè¿‡æ³¨è§£é…ç½®æ˜ å°„å…³ç³»"></a>é€šè¿‡æ³¨è§£é…ç½®æ˜ å°„å…³ç³»</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.itcast.domain;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.persistence.*;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å®¢æˆ·çš„å®ä½“ç±»</span></span><br><span class="line"><span class="comment"> *      é…ç½®æ˜ å°„å…³ç³»</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> *   1.å®ä½“ç±»å’Œè¡¨çš„æ˜ å°„å…³ç³»</span></span><br><span class="line"><span class="comment"> *      <span class="doctag">@Entity</span>:å£°æ˜å®ä½“ç±»</span></span><br><span class="line"><span class="comment"> *      <span class="doctag">@Table</span> : é…ç½®å®ä½“ç±»å’Œè¡¨çš„æ˜ å°„å…³ç³»</span></span><br><span class="line"><span class="comment"> *          name : é…ç½®æ•°æ®åº“è¡¨çš„åç§°</span></span><br><span class="line"><span class="comment"> *   2.å®ä½“ç±»ä¸­å±æ€§å’Œè¡¨ä¸­å­—æ®µçš„æ˜ å°„å…³ç³»</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Entity</span></span><br><span class="line"><span class="meta">@Table</span>(name = <span class="string">"cst_customer"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Customer</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@Id</span>ï¼šå£°æ˜ä¸»é”®çš„é…ç½®</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@GeneratedValue</span>:é…ç½®ä¸»é”®çš„ç”Ÿæˆç­–ç•¥</span></span><br><span class="line"><span class="comment">     *      strategy</span></span><br><span class="line"><span class="comment">     *          GenerationType.IDENTITY ï¼šè‡ªå¢ï¼Œmysql</span></span><br><span class="line"><span class="comment">     *                 * åº•å±‚æ•°æ®åº“å¿…é¡»æ”¯æŒè‡ªåŠ¨å¢é•¿ï¼ˆåº•å±‚æ•°æ®åº“æ”¯æŒçš„è‡ªåŠ¨å¢é•¿æ–¹å¼ï¼Œå¯¹idè‡ªå¢ï¼‰</span></span><br><span class="line"><span class="comment">     *          GenerationType.SEQUENCE : åºåˆ—ï¼Œoracle</span></span><br><span class="line"><span class="comment">     *                  * åº•å±‚æ•°æ®åº“å¿…é¡»æ”¯æŒåºåˆ—</span></span><br><span class="line"><span class="comment">     *          GenerationType.TABLE : jpaæä¾›çš„ä¸€ç§æœºåˆ¶ï¼Œé€šè¿‡ä¸€å¼ æ•°æ®åº“è¡¨çš„å½¢å¼å¸®åŠ©æˆ‘ä»¬å®Œæˆä¸»é”®è‡ªå¢</span></span><br><span class="line"><span class="comment">     *          GenerationType.AUTO ï¼š ç”±ç¨‹åºè‡ªåŠ¨çš„å¸®åŠ©æˆ‘ä»¬é€‰æ‹©ä¸»é”®ç”Ÿæˆç­–ç•¥</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@Column</span>:é…ç½®å±æ€§å’Œå­—æ®µçš„æ˜ å°„å…³ç³»</span></span><br><span class="line"><span class="comment">     *      nameï¼šæ•°æ®åº“è¡¨ä¸­å­—æ®µçš„åç§°</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Id</span></span><br><span class="line">    <span class="meta">@GeneratedValue</span>(strategy = GenerationType.IDENTITY)</span><br><span class="line">    <span class="meta">@Column</span>(name = <span class="string">"cust_id"</span>)</span><br><span class="line">    <span class="keyword">private</span> Long custId; <span class="comment">//å®¢æˆ·çš„ä¸»é”®</span></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Column</span>(name = <span class="string">"cust_name"</span>)</span><br><span class="line">    <span class="keyword">private</span> String custName;<span class="comment">//å®¢æˆ·åç§°</span></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Column</span>(name=<span class="string">"cust_source"</span>)</span><br><span class="line">    <span class="keyword">private</span> String custSource;<span class="comment">//å®¢æˆ·æ¥æº</span></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Column</span>(name=<span class="string">"cust_level"</span>)</span><br><span class="line">    <span class="keyword">private</span> String custLevel;<span class="comment">//å®¢æˆ·çº§åˆ«</span></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Column</span>(name=<span class="string">"cust_industry"</span>)</span><br><span class="line">    <span class="keyword">private</span> String custIndustry;<span class="comment">//å®¢æˆ·æ‰€å±è¡Œä¸š</span></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Column</span>(name=<span class="string">"cust_phone"</span>)</span><br><span class="line">    <span class="keyword">private</span> String custPhone;<span class="comment">//å®¢æˆ·çš„è”ç³»æ–¹å¼</span></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Column</span>(name=<span class="string">"cust_address"</span>)</span><br><span class="line">    <span class="keyword">private</span> String custAddress;<span class="comment">//å®¢æˆ·åœ°å€</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Long <span class="title">getCustId</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> custId;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCustId</span><span class="params">(Long custId)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.custId = custId;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getCustName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> custName;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCustName</span><span class="params">(String custName)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.custName = custName;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getCustSource</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> custSource;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCustSource</span><span class="params">(String custSource)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.custSource = custSource;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getCustLevel</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> custLevel;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCustLevel</span><span class="params">(String custLevel)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.custLevel = custLevel;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getCustIndustry</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> custIndustry;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCustIndustry</span><span class="params">(String custIndustry)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.custIndustry = custIndustry;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getCustPhone</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> custPhone;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCustPhone</span><span class="params">(String custPhone)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.custPhone = custPhone;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getCustAddress</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> custAddress;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCustAddress</span><span class="params">(String custAddress)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.custAddress = custAddress;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"Customer&#123;"</span> +</span><br><span class="line">                <span class="string">"custId="</span> + custId +</span><br><span class="line">                <span class="string">", custName='"</span> + custName + <span class="string">'\''</span> +</span><br><span class="line">                <span class="string">", custSource='"</span> + custSource + <span class="string">'\''</span> +</span><br><span class="line">                <span class="string">", custLevel='"</span> + custLevel + <span class="string">'\''</span> +</span><br><span class="line">                <span class="string">", custIndustry='"</span> + custIndustry + <span class="string">'\''</span> +</span><br><span class="line">                <span class="string">", custPhone='"</span> + custPhone + <span class="string">'\''</span> +</span><br><span class="line">                <span class="string">", custAddress='"</span> + custAddress + <span class="string">'\''</span> +</span><br><span class="line">                <span class="string">'&#125;'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ç¼–å†™æµ‹è¯•ç±»"><a href="#ç¼–å†™æµ‹è¯•ç±»" class="headerlink" title="ç¼–å†™æµ‹è¯•ç±»"></a>ç¼–å†™æµ‹è¯•ç±»</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.itcast.test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> cn.itcast.domain.Customer;</span><br><span class="line"><span class="keyword">import</span> cn.itcast.utils.JpaUtils;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.persistence.EntityManager;</span><br><span class="line"><span class="keyword">import</span> javax.persistence.EntityManagerFactory;</span><br><span class="line"><span class="keyword">import</span> javax.persistence.EntityTransaction;</span><br><span class="line"><span class="keyword">import</span> javax.persistence.Persistence;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æµ‹è¯•jpaçš„ä¿å­˜</span></span><br><span class="line"><span class="comment">     *      æ¡ˆä¾‹ï¼šä¿å­˜ä¸€ä¸ªå®¢æˆ·åˆ°æ•°æ®åº“ä¸­</span></span><br><span class="line"><span class="comment">     *  Jpaçš„æ“ä½œæ­¥éª¤</span></span><br><span class="line"><span class="comment">     *     1.åŠ è½½é…ç½®æ–‡ä»¶åˆ›å»ºå·¥å‚ï¼ˆå®ä½“ç®¡ç†å™¨å·¥å‚ï¼‰å¯¹è±¡</span></span><br><span class="line"><span class="comment">     *     2.é€šè¿‡å®ä½“ç®¡ç†å™¨å·¥å‚è·å–å®ä½“ç®¡ç†å™¨</span></span><br><span class="line"><span class="comment">     *     3.è·å–äº‹åŠ¡å¯¹è±¡ï¼Œå¼€å¯äº‹åŠ¡</span></span><br><span class="line"><span class="comment">     *     4.å®Œæˆå¢åˆ æ”¹æŸ¥æ“ä½œ</span></span><br><span class="line"><span class="comment">     *     5.æäº¤äº‹åŠ¡ï¼ˆå›æ»šäº‹åŠ¡ï¼‰</span></span><br><span class="line"><span class="comment">     *     6.é‡Šæ”¾èµ„æº</span></span><br><span class="line"><span class="comment">*/</span>     </span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">JpaTest</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ·»åŠ ç”¨æˆ·</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testSave</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">//1.åŠ è½½é…ç½®æ–‡ä»¶åˆ›å»ºå·¥å‚ï¼ˆå®ä½“ç®¡ç†å™¨å·¥å‚ï¼‰å¯¹è±¡</span></span><br><span class="line">        EntityManagerFactory factory = Persistence.createEntityManagerFactory(<span class="string">"myJpa"</span>);</span><br><span class="line">        <span class="comment">//2.é€šè¿‡å®ä½“ç®¡ç†å™¨å·¥å‚è·å–å®ä½“ç®¡ç†å™¨</span></span><br><span class="line">        EntityManager em = factory.createEntityManager();</span><br><span class="line">        <span class="comment">//3.è·å–äº‹åŠ¡å¯¹è±¡ï¼Œå¼€å¯äº‹åŠ¡</span></span><br><span class="line">        EntityTransaction tx = em.getTransaction(); <span class="comment">//è·å–äº‹åŠ¡å¯¹è±¡</span></span><br><span class="line">        tx.begin();<span class="comment">//å¼€å¯äº‹åŠ¡</span></span><br><span class="line">        <span class="comment">//4.å®Œæˆå¢åˆ æ”¹æŸ¥æ“ä½œï¼šä¿å­˜ä¸€ä¸ªå®¢æˆ·åˆ°æ•°æ®åº“ä¸­</span></span><br><span class="line">        Customer customer = <span class="keyword">new</span> Customer();</span><br><span class="line">        customer.setCustName(<span class="string">"ä¼ æ™ºæ’­å®¢"</span>);</span><br><span class="line">        customer.setCustIndustry(<span class="string">"æ•™è‚²"</span>);</span><br><span class="line">        <span class="comment">//ä¿å­˜ï¼Œ</span></span><br><span class="line">        em.persist(customer); <span class="comment">//ä¿å­˜æ“ä½œ</span></span><br><span class="line">        <span class="comment">//5.æäº¤äº‹åŠ¡</span></span><br><span class="line">        tx.commit();</span><br><span class="line">        <span class="comment">//6.é‡Šæ”¾èµ„æº</span></span><br><span class="line">        em.close();</span><br><span class="line">        factory.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å¯èƒ½å‡ºç°çš„é”™è¯¯ä¿¡æ¯"><a href="#å¯èƒ½å‡ºç°çš„é”™è¯¯ä¿¡æ¯" class="headerlink" title="å¯èƒ½å‡ºç°çš„é”™è¯¯ä¿¡æ¯"></a>å¯èƒ½å‡ºç°çš„é”™è¯¯ä¿¡æ¯</h2><h3 id="é—®é¢˜1ï¼šCannot-resolve-xxx"><a href="#é—®é¢˜1ï¼šCannot-resolve-xxx" class="headerlink" title="é—®é¢˜1ï¼šCannot resolve xxx"></a>é—®é¢˜1ï¼šCannot resolve xxx</h3><p><img src="//haoyongliang.gitee.io/2019/07/13/SpringBoot/SpringDataJpa/SpringDataJpa01/01.png" alt></p><p>è§£å†³åŠæ³•</p><p>â€‹    1.alt+enter é€‰æ‹©æ•°æ®æº assign data source </p><p><img src="//haoyongliang.gitee.io/2019/07/13/SpringBoot/SpringDataJpa/SpringDataJpa01/%E8%AF%BE%E7%A8%8B/%E7%AC%AC%E4%BA%94%E7%89%88/%E5%B0%B1%E4%B8%9A%E7%8F%AD/%E6%A1%86%E6%9E%B6/SpringData%E4%BA%A7%E5%93%81/day01/01-%E8%A7%86%E9%A2%91/%E7%AC%94%E8%AE%B0/img/02.png" alt></p><p>â€‹    2.é€‰æ‹©æ•°æ®åº“è¿æ¥(å¦‚æœæ²¡æœ‰æ•°æ®æºè¯·å…ˆæ·»åŠ ï¼Œæ•™ç¨‹åœ°å€ï¼š<a href="https://www.jianshu.com/p/d7db42636e63" target="_blank" rel="noopener">https://www.jianshu.com/p/d7db42636e63</a>)</p><p><img src="//haoyongliang.gitee.io/2019/07/13/SpringBoot/SpringDataJpa/SpringDataJpa01/%E8%AF%BE%E7%A8%8B/%E7%AC%AC%E4%BA%94%E7%89%88/%E5%B0%B1%E4%B8%9A%E7%8F%AD/%E6%A1%86%E6%9E%B6/SpringData%E4%BA%A7%E5%93%81/day01/01-%E8%A7%86%E9%A2%91/%E7%AC%94%E8%AE%B0/img/03.png" alt></p><h3 id="é—®é¢˜2ï¼šjava-lang-NoClassDefFoundError-javax-xml-bind-JAXBException"><a href="#é—®é¢˜2ï¼šjava-lang-NoClassDefFoundError-javax-xml-bind-JAXBException" class="headerlink" title="é—®é¢˜2ï¼šjava.lang.NoClassDefFoundError: javax/xml/bind/JAXBException"></a>é—®é¢˜2ï¼šjava.lang.NoClassDefFoundError: javax/xml/bind/JAXBException</h3><p><img src="//haoyongliang.gitee.io/2019/07/13/SpringBoot/SpringDataJpa/SpringDataJpa01/05.png" alt></p><p>è§£å†³åŠæ³•</p><p>â€‹    è¯¥é—®é¢˜æ˜¯å› ä¸ºjdk1.9æ²¡æœ‰JAXBç›¸å…³APIçš„jaråŒ…ï¼Œæ·»åŠ ä¾èµ–å³å¯</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.xml.bind<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jaxb-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.3.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h1 id="å·¥å…·ç±»æŠ½å–"><a href="#å·¥å…·ç±»æŠ½å–" class="headerlink" title="å·¥å…·ç±»æŠ½å–"></a>å·¥å…·ç±»æŠ½å–</h1><h2 id="æŠ½å–ç†ç”±"><a href="#æŠ½å–ç†ç”±" class="headerlink" title="æŠ½å–ç†ç”±"></a>æŠ½å–ç†ç”±</h2><p>ç†ç”±1ï¼šEntityManagerFactoryå¯¹è±¡æ¯æ¬¡åˆ›å»ºéƒ½éœ€è¦è¯»å–é…ç½®æ–‡ä»¶ï¼Œæ¯”è¾ƒè€—æ—¶</p><p>ç†ç”±2ï¼šè¯¥å¯¹è±¡æ˜¯çº¿ç¨‹å®‰å…¨çš„åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸­ä¸ä¼šå‡ºç°çº¿ç¨‹å®‰å…¨é—®é¢˜</p><h2 id="å·¥å…·ç±»ä»£ç "><a href="#å·¥å…·ç±»ä»£ç " class="headerlink" title="å·¥å…·ç±»ä»£ç "></a>å·¥å…·ç±»ä»£ç </h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.itcast.utils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.persistence.EntityManager;</span><br><span class="line"><span class="keyword">import</span> javax.persistence.EntityManagerFactory;</span><br><span class="line"><span class="keyword">import</span> javax.persistence.Persistence;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">JpaUtils</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> EntityManagerFactory factory;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span>  &#123;</span><br><span class="line">        <span class="comment">//1.åŠ è½½é…ç½®æ–‡ä»¶ï¼Œåˆ›å»ºentityManagerFactory</span></span><br><span class="line">        factory = Persistence.createEntityManagerFactory(<span class="string">"myJpa"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è·å–EntityManagerå¯¹è±¡</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> EntityManager <span class="title">getEntityManager</span><span class="params">()</span> </span>&#123;</span><br><span class="line">       <span class="keyword">return</span> factory.createEntityManager();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ä½¿ç”¨å·¥å…·ç±»æ”¹è¿›æµ‹è¯•ä»£ç "><a href="#ä½¿ç”¨å·¥å…·ç±»æ”¹è¿›æµ‹è¯•ä»£ç " class="headerlink" title="ä½¿ç”¨å·¥å…·ç±»æ”¹è¿›æµ‹è¯•ä»£ç "></a>ä½¿ç”¨å·¥å…·ç±»æ”¹è¿›æµ‹è¯•ä»£ç </h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.itcast.domain;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> cn.itcast.utils.JpaUtils;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.persistence.EntityManager;</span><br><span class="line"><span class="keyword">import</span> javax.persistence.EntityManagerFactory;</span><br><span class="line"><span class="keyword">import</span> javax.persistence.EntityTransaction;</span><br><span class="line"><span class="keyword">import</span> javax.persistence.Persistence;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CustomerTest</span> </span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ·»åŠ ç”¨æˆ·</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testSave</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">//1.åˆ›å»ºEntityManager</span></span><br><span class="line">        EntityManager em = JpaUtils.getEntityManager();</span><br><span class="line">        <span class="comment">//2.è·å–äº‹åŠ¡å¯¹è±¡ï¼Œå¼€å¯äº‹åŠ¡</span></span><br><span class="line">        EntityTransaction tx = em.getTransaction(); <span class="comment">//è·å–äº‹åŠ¡å¯¹è±¡</span></span><br><span class="line">        tx.begin();<span class="comment">//å¼€å¯äº‹åŠ¡</span></span><br><span class="line">        </span><br><span class="line">        </span><br><span class="line">        <span class="comment">//3.å®Œæˆå¢åˆ æ”¹æŸ¥æ“ä½œï¼šä¿å­˜ä¸€ä¸ªå®¢æˆ·åˆ°æ•°æ®åº“ä¸­</span></span><br><span class="line">        Customer customer = <span class="keyword">new</span> Customer();</span><br><span class="line">        customer.setCustName(<span class="string">"ä¼ æ™ºæ’­å®¢"</span>);</span><br><span class="line">        customer.setCustIndustry(<span class="string">"æ•™è‚²"</span>);</span><br><span class="line">        <span class="comment">//ä¿å­˜ï¼Œ</span></span><br><span class="line">        em.persist(customer); <span class="comment">//ä¿å­˜æ“ä½œ</span></span><br><span class="line">        </span><br><span class="line">        </span><br><span class="line">        <span class="comment">//4.æäº¤äº‹åŠ¡</span></span><br><span class="line">        tx.commit();</span><br><span class="line">        <span class="comment">//5.é‡Šæ”¾èµ„æº</span></span><br><span class="line">        em.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="å‡çº§Junitæµ‹è¯•ä»£ç "><a href="#å‡çº§Junitæµ‹è¯•ä»£ç " class="headerlink" title="å‡çº§Junitæµ‹è¯•ä»£ç "></a>å‡çº§Junitæµ‹è¯•ä»£ç </h1><h2 id="è§‚å¯Ÿä»¥ä¸‹ä»£ç æ€è€ƒé—®é¢˜"><a href="#è§‚å¯Ÿä»¥ä¸‹ä»£ç æ€è€ƒé—®é¢˜" class="headerlink" title="è§‚å¯Ÿä»¥ä¸‹ä»£ç æ€è€ƒé—®é¢˜"></a>è§‚å¯Ÿä»¥ä¸‹ä»£ç æ€è€ƒé—®é¢˜</h2><p><img src="//haoyongliang.gitee.io/2019/07/13/SpringBoot/SpringDataJpa/SpringDataJpa01/06.png" alt></p><h2 id="After-Before-Testå›é¡¾"><a href="#After-Before-Testå›é¡¾" class="headerlink" title="@After @Before @Testå›é¡¾"></a>@After @Before @Testå›é¡¾</h2><blockquote><p>æ‰§è¡Œé¡ºåº @Before &gt; @Test &gt; @After</p></blockquote><p><img src="//haoyongliang.gitee.io/2019/07/13/SpringBoot/SpringDataJpa/SpringDataJpa01/07.png" alt></p><h2 id="æ”¹é€ æ€è·¯"><a href="#æ”¹é€ æ€è·¯" class="headerlink" title="æ”¹é€ æ€è·¯"></a>æ”¹é€ æ€è·¯</h2><p>å°†åˆå§‹åŒ–EntityManagerå’ŒEntityTransactionï¼ŒåŒ…æ‹¬å¼€å¯äº‹åŠ¡çš„æ“ä½œæ”¾åˆ°@Beforeä¸­</p><p>å°†æäº¤äº‹åŠ¡å’Œé‡Šæ”¾èµ„æºçš„ä»£ç æ”¾åˆ°@afterä¸­</p><p>è®©å…¶ä»–æµ‹è¯•ç±»ç»§æ‰¿è¯¥BaseTestç±»</p><h2 id="BaseTestä»£ç "><a href="#BaseTestä»£ç " class="headerlink" title="BaseTestä»£ç "></a>BaseTestä»£ç </h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.itcast.domain;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> cn.itcast.utils.JpaUtils;</span><br><span class="line"><span class="keyword">import</span> org.junit.After;</span><br><span class="line"><span class="keyword">import</span> org.junit.Before;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.persistence.EntityManager;</span><br><span class="line"><span class="keyword">import</span> javax.persistence.EntityTransaction;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BaseTest</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> EntityManager entityManager;</span><br><span class="line">    <span class="keyword">public</span> EntityTransaction tx;</span><br><span class="line">    <span class="meta">@Before</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span>&#123;</span><br><span class="line">        entityManager = JpaUtils.getEntityManager();</span><br><span class="line">        <span class="comment">//3.è·å–äº‹åŠ¡å¯¹è±¡ï¼Œå¼€å¯äº‹åŠ¡</span></span><br><span class="line">        tx = entityManager.getTransaction(); <span class="comment">//è·å–äº‹åŠ¡å¯¹è±¡</span></span><br><span class="line">        tx.begin();</span><br><span class="line">        System.out.println(<span class="string">"1.åˆå§‹åŒ–EntityManagerå’ŒEntityTransactionå¯¹è±¡å®Œæ¯•"</span>);</span><br><span class="line">        System.out.println(<span class="string">"2.å¼€å¯äº‹åŠ¡,å¼€å§‹æ‰§è¡Œè‡ªå®šä¹‰(CRUD)æ“ä½œ"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@After</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">destory</span><span class="params">()</span></span>&#123;</span><br><span class="line">        tx.commit();</span><br><span class="line">        entityManager.close();</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">"3.æäº¤äº‹åŠ¡"</span>);</span><br><span class="line">        System.out.println(<span class="string">"4.é‡Šæ”¾èµ„æº"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="åŸºæœ¬æ“ä½œ"><a href="#åŸºæœ¬æ“ä½œ" class="headerlink" title="åŸºæœ¬æ“ä½œ"></a>åŸºæœ¬æ“ä½œ</h1><h2 id="å¢åŠ "><a href="#å¢åŠ " class="headerlink" title="å¢åŠ "></a>å¢åŠ </h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> javax.persistence.EntityTransaction;</span><br><span class="line"><span class="keyword">import</span> javax.persistence.Persistence;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CustomerTest</span> <span class="keyword">extends</span> <span class="title">BaseTest</span> </span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ·»åŠ ç”¨æˆ·</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testSave</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">//4.å®Œæˆå¢åˆ æ”¹æŸ¥æ“ä½œï¼šä¿å­˜ä¸€ä¸ªå®¢æˆ·åˆ°æ•°æ®åº“ä¸­</span></span><br><span class="line">        Customer customer = <span class="keyword">new</span> Customer();</span><br><span class="line">        customer.setCustName(<span class="string">"ä¼ æ™ºæ’­å®¢"</span>);</span><br><span class="line">        customer.setCustIndustry(<span class="string">"æ•™è‚²"</span>);</span><br><span class="line">        <span class="comment">//ä¿å­˜ï¼Œ</span></span><br><span class="line">        entityManager.persist(customer); <span class="comment">//ä¿å­˜æ“ä½œ</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>è¿è¡Œç»“æœ</p></blockquote><p><img src="//haoyongliang.gitee.io/2019/07/13/SpringBoot/SpringDataJpa/SpringDataJpa01/09.png" alt></p><h2 id="åˆ é™¤"><a href="#åˆ é™¤" class="headerlink" title="åˆ é™¤"></a>åˆ é™¤</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.itcast.domain;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test4</span> <span class="keyword">extends</span> <span class="title">BaseTest</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testDelete</span><span class="params">()</span></span>&#123;</span><br><span class="line">        Customer customer = entityManager.find(Customer.class, <span class="number">3L</span>);</span><br><span class="line">        <span class="keyword">if</span>(customer != <span class="keyword">null</span>)&#123;</span><br><span class="line">            entityManager.remove(customer);<span class="comment">//åˆ é™¤</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="//haoyongliang.gitee.io/2019/07/13/SpringBoot/SpringDataJpa/SpringDataJpa01/12.png" alt></p><h2 id="ä¿®æ”¹"><a href="#ä¿®æ”¹" class="headerlink" title="ä¿®æ”¹"></a>ä¿®æ”¹</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test5</span> <span class="keyword">extends</span> <span class="title">BaseTest</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testUpdate</span><span class="params">()</span></span>&#123;</span><br><span class="line">        Customer customer = entityManager.find(Customer.class, <span class="number">1L</span>);</span><br><span class="line">        <span class="keyword">if</span>(customer != <span class="keyword">null</span>)&#123;</span><br><span class="line">            customer.setCustName(<span class="string">"é»‘é©¬ç¨‹åºå‘˜"</span>);</span><br><span class="line">            entityManager.merge(customer);<span class="comment">//æ›´æ–°</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æŸ¥è¯¢"><a href="#æŸ¥è¯¢" class="headerlink" title="æŸ¥è¯¢"></a>æŸ¥è¯¢</h2><h3 id="æ ¹æ®IDæŸ¥è¯¢"><a href="#æ ¹æ®IDæŸ¥è¯¢" class="headerlink" title="æ ¹æ®IDæŸ¥è¯¢"></a>æ ¹æ®IDæŸ¥è¯¢</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.itcast.domain;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CustomerTest2</span> <span class="keyword">extends</span> <span class="title">BaseTest</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testFindById</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="comment">//è¿™é‡Œå› ä¸ºä¸»é”®æ˜¯Longç±»å‹ï¼Œæ‰€ä»¥è¦ä¼ å…¥Longç±»å‹çš„æ•°æ®</span></span><br><span class="line">        Customer customer = entityManager.find(Customer.class, <span class="number">1L</span>);</span><br><span class="line">        System.out.println(customer);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>è¿è¡Œç»“æœ</p></blockquote><p><img src="//haoyongliang.gitee.io/2019/07/13/SpringBoot/SpringDataJpa/SpringDataJpa01/08.png" alt></p><h3 id="å»¶è¿ŸæŸ¥è¯¢"><a href="#å»¶è¿ŸæŸ¥è¯¢" class="headerlink" title="å»¶è¿ŸæŸ¥è¯¢"></a>å»¶è¿ŸæŸ¥è¯¢</h3><h4 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.itcast.domain;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CustomerTest3</span> <span class="keyword">extends</span> <span class="title">BaseTest</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testLazyFindById</span><span class="params">()</span></span>&#123;</span><br><span class="line">        Customer customer = entityManager.getReference(Customer.class, <span class="number">1L</span>);</span><br><span class="line">        System.out.println(customer);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="å»¶è¿ŸæŸ¥è¯¢å’Œç«‹å³æŸ¥è¯¢çš„åŒºåˆ«"><a href="#å»¶è¿ŸæŸ¥è¯¢å’Œç«‹å³æŸ¥è¯¢çš„åŒºåˆ«" class="headerlink" title="å»¶è¿ŸæŸ¥è¯¢å’Œç«‹å³æŸ¥è¯¢çš„åŒºåˆ«"></a>å»¶è¿ŸæŸ¥è¯¢å’Œç«‹å³æŸ¥è¯¢çš„åŒºåˆ«</h4><p> å»¶è¿ŸåŠ è½½ï¼ˆæ‡’åŠ è½½ï¼‰</p><p>â€‹    å¾—åˆ°çš„æ˜¯ä¸€ä¸ªåŠ¨æ€ä»£ç†å¯¹è±¡</p><p>â€‹    ä»€ä¹ˆæ—¶å€™ç”¨ï¼Œä»€ä¹ˆä½¿ç”¨æ‰ä¼šæŸ¥è¯¢</p><p>ç«‹å³æŸ¥è¯¢</p><p>â€‹    è°ƒç”¨æŸ¥è¯¢æ–¹æ³•å°±ä¼šé©¬ä¸Šæ‰§è¡ŒSQLè¯­å¥</p><h4 id="ä½¿ç”¨å»¶è¿ŸæŸ¥è¯¢åœ¨æ§åˆ¶å°çš„ç»“æœ"><a href="#ä½¿ç”¨å»¶è¿ŸæŸ¥è¯¢åœ¨æ§åˆ¶å°çš„ç»“æœ" class="headerlink" title="ä½¿ç”¨å»¶è¿ŸæŸ¥è¯¢åœ¨æ§åˆ¶å°çš„ç»“æœ"></a>ä½¿ç”¨å»¶è¿ŸæŸ¥è¯¢åœ¨æ§åˆ¶å°çš„ç»“æœ</h4><blockquote><p>ä½¿ç”¨çš„æ˜¯getRerenceå»¶è¿ŸåŠ è½½æ–¹æ³•,å¹¶ä¸”æ²¡æœ‰è·å–ç»“æœå¯¹è±¡ï¼Œæ‰€ä»¥ä¸ä¼šæ‰§è¡ŒSQLè¯­å¥</p></blockquote><p><img src="//haoyongliang.gitee.io/2019/07/13/SpringBoot/SpringDataJpa/SpringDataJpa01/10.png" alt></p><h4 id="ç«‹å³æŸ¥è¯¢åœ¨æ§åˆ¶å°çš„ç»“æœ"><a href="#ç«‹å³æŸ¥è¯¢åœ¨æ§åˆ¶å°çš„ç»“æœ" class="headerlink" title="ç«‹å³æŸ¥è¯¢åœ¨æ§åˆ¶å°çš„ç»“æœ"></a>ç«‹å³æŸ¥è¯¢åœ¨æ§åˆ¶å°çš„ç»“æœ</h4><blockquote><p> ä½¿ç”¨çš„æ˜¯findæ–¹æ³•,è™½ç„¶æ²¡æœ‰è·å–ç»“æœå¯¹è±¡ï¼Œä½†æ˜¯ä¼šæ‰§è¡ŒSQLè¯­å¥ï¼Œåªè¦è°ƒç”¨æ–¹æ³•å°±ä¼šæ‰§è¡Œ</p></blockquote><p><img src="//haoyongliang.gitee.io/2019/07/13/SpringBoot/SpringDataJpa/SpringDataJpa01/11.png" alt></p><h1 id="é¢å‘å¯¹è±¡è¯­å¥-JPQL-æŸ¥è¯¢æ•°æ®åº“"><a href="#é¢å‘å¯¹è±¡è¯­å¥-JPQL-æŸ¥è¯¢æ•°æ®åº“" class="headerlink" title="é¢å‘å¯¹è±¡è¯­å¥(JPQL)æŸ¥è¯¢æ•°æ®åº“"></a>é¢å‘å¯¹è±¡è¯­å¥(JPQL)æŸ¥è¯¢æ•°æ®åº“</h1><blockquote><p>è¯­æ³•</p><p>SQL ï¼š select * from è¡¨å</p><p>â€‹        select  * from è¡¨å order  by å­—æ®µå desc</p><p>JPQL/HQLï¼š from å®ä½“ç±»å </p></blockquote><p>##7.1 æŸ¥è¯¢å…¨éƒ¨</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.itcast.domain;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.persistence.Query;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test6</span> <span class="keyword">extends</span>  <span class="title">BaseTest</span></span>&#123;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testFindAll</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="comment">//String jpql = "from cn.itcast.domain.Customer";</span></span><br><span class="line">        <span class="comment">//ç®€å†™ è¿™é‡Œçš„Customeræ˜¯ç±»å</span></span><br><span class="line">        String jpql = <span class="string">"from Customer ordery by custId asc"</span>;</span><br><span class="line">        Query query = entityManager.createQuery(jpql);</span><br><span class="line">        List&lt;Customer&gt; customers = query.getResultList();</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//éå†ç»“æœ</span></span><br><span class="line">        <span class="keyword">for</span> (Customer customer : customers) &#123;</span><br><span class="line">            System.out.println(customer);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="//haoyongliang.gitee.io/2019/07/13/SpringBoot/SpringDataJpa/SpringDataJpa01/13.png" alt></p><h2 id="å€’å™æŸ¥è¯¢"><a href="#å€’å™æŸ¥è¯¢" class="headerlink" title="å€’å™æŸ¥è¯¢"></a>å€’å™æŸ¥è¯¢</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.itcast.domain;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.persistence.Query;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test7</span> <span class="keyword">extends</span>  <span class="title">BaseTest</span></span>&#123;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testFindAllDesc</span><span class="params">()</span></span>&#123;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//ç®€å†™ è¿™é‡Œçš„Customeræ˜¯ç±»å,æ ¹æ®IDå€’å™æŸ¥è¯¢</span></span><br><span class="line">        Query query = entityManager.createQuery(<span class="string">"from Customer order by custId desc "</span>);</span><br><span class="line">        List&lt;Customer&gt; customers = query.getResultList();</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//éå†ç»“æœ</span></span><br><span class="line">        <span class="keyword">for</span> (Customer customer : customers) &#123;</span><br><span class="line">            System.out.println(customer);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ç»Ÿè®¡æŸ¥è¯¢"><a href="#ç»Ÿè®¡æŸ¥è¯¢" class="headerlink" title="ç»Ÿè®¡æŸ¥è¯¢"></a>ç»Ÿè®¡æŸ¥è¯¢</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testFindCount</span><span class="params">()</span></span>&#123;</span><br><span class="line">       <span class="comment">//ç®€å†™ è¿™é‡Œçš„Customeræ˜¯ç±»å</span></span><br><span class="line">       Query query = entityManager.createQuery(<span class="string">"select  count(*) from  Customer "</span>);</span><br><span class="line">       Long cnt = (Long)query.getSingleResult();<span class="comment">//åªèƒ½è£…æˆLongç±»å‹</span></span><br><span class="line">       System.out.println(cnt);</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><blockquote><p>æ§åˆ¶å°æ‰“å°</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">1.åˆå§‹åŒ–EntityManagerå’ŒEntityTransactionå¯¹è±¡å®Œæ¯•</span><br><span class="line">2.å¼€å¯äº‹åŠ¡,å¼€å§‹æ‰§è¡Œè‡ªå®šä¹‰(CRUD)æ“ä½œ</span><br><span class="line">Hibernate: select count(*) as col_0_0_ from cst_customer customer0_</span><br><span class="line">3</span><br><span class="line">3.æäº¤äº‹åŠ¡</span><br><span class="line">4.é‡Šæ”¾èµ„æº</span><br></pre></td></tr></table></figure><h2 id="åˆ†é¡µæŸ¥è¯¢"><a href="#åˆ†é¡µæŸ¥è¯¢" class="headerlink" title="åˆ†é¡µæŸ¥è¯¢"></a>åˆ†é¡µæŸ¥è¯¢</h2><h3 id="éœ€æ±‚"><a href="#éœ€æ±‚" class="headerlink" title="éœ€æ±‚"></a>éœ€æ±‚</h3><p><img src="//haoyongliang.gitee.io/2019/07/13/SpringBoot/SpringDataJpa/SpringDataJpa01/14.png" alt></p><h3 id="ä»£ç -1"><a href="#ä»£ç -1" class="headerlink" title="ä»£ç "></a>ä»£ç </h3><blockquote><p>æ³¨æ„è¿™é‡Œä¸èƒ½ä½¿ç”¨limitè¯­å¥ï¼ï¼ï¼</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testFindByPage</span><span class="params">()</span></span>&#123;</span><br><span class="line">       <span class="comment">//ç®€å†™ è¿™é‡Œçš„Customeræ˜¯ç±»å</span></span><br><span class="line">       Query query = entityManager.createQuery(<span class="string">"from  Customer"</span>);</span><br><span class="line">       query.setFirstResult(<span class="number">2</span>);<span class="comment">//ä»ç´¢å¼•ä¸º2çš„ä½ç½®å¼€å§‹æŸ¥è¯¢</span></span><br><span class="line">       query.setMaxResults(<span class="number">2</span>);<span class="comment">//æŸ¥è¯¢2æ¡è®°å½•</span></span><br><span class="line">       List&lt;Customer&gt; list = query.getResultList();</span><br><span class="line"></span><br><span class="line">       <span class="comment">//éå†</span></span><br><span class="line">       <span class="keyword">for</span> (Customer customer : list) &#123;</span><br><span class="line">           System.out.println(customer);</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><h3 id="æŸ¥è¯¢ç»“æœ"><a href="#æŸ¥è¯¢ç»“æœ" class="headerlink" title="æŸ¥è¯¢ç»“æœ"></a>æŸ¥è¯¢ç»“æœ</h3><p><img src="//haoyongliang.gitee.io/2019/07/13/SpringBoot/SpringDataJpa/SpringDataJpa01/15.png" alt></p><h2 id="æ¡ä»¶æŸ¥è¯¢"><a href="#æ¡ä»¶æŸ¥è¯¢" class="headerlink" title="æ¡ä»¶æŸ¥è¯¢"></a>æ¡ä»¶æŸ¥è¯¢</h2><blockquote><p>æç¤º:æ–¹å¼1æ¯”è¾ƒè€ï¼Œå»ºè®®ä½¿ç”¨æ–¹å¼2å’Œæ–¹å¼3</p></blockquote><h3 id="æ–¹å¼1ä½¿ç”¨-å ä½ç¬¦-æ—§"><a href="#æ–¹å¼1ä½¿ç”¨-å ä½ç¬¦-æ—§" class="headerlink" title="æ–¹å¼1ä½¿ç”¨?å ä½ç¬¦(æ—§)"></a>æ–¹å¼1ä½¿ç”¨?å ä½ç¬¦(æ—§)</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testCondition1</span><span class="params">()</span></span>&#123;</span><br><span class="line">    Query query = entityManager.createQuery(<span class="string">"from Customer  where custName = ?"</span>);</span><br><span class="line">    query.setParameter(<span class="number">1</span>,<span class="string">"ä¼ æ™ºæ’­å®¢"</span>);</span><br><span class="line">    List&lt;Customer&gt; list = query.getResultList();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (Customer customer : list) &#123;</span><br><span class="line">        System.out.println(customer);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p> 1é‚£é‡Œä¼šæŠ¥çº¢çº¿ï¼Œå¿½ç•¥å°±å¥½äº†</p><p><img src="//haoyongliang.gitee.io/2019/07/13/SpringBoot/SpringDataJpa/SpringDataJpa01/16.png" alt></p><h3 id="æ–¹å¼2ä½¿ç”¨å‘½åå‚æ•°å ä½ç¬¦"><a href="#æ–¹å¼2ä½¿ç”¨å‘½åå‚æ•°å ä½ç¬¦" class="headerlink" title="æ–¹å¼2ä½¿ç”¨å‘½åå‚æ•°å ä½ç¬¦"></a>æ–¹å¼2ä½¿ç”¨å‘½åå‚æ•°å ä½ç¬¦</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testCondition</span><span class="params">()</span></span>&#123;</span><br><span class="line">       Query query = entityManager.createQuery(<span class="string">"from Customer  where custName = :custName"</span>);</span><br><span class="line">       query.setParameter(<span class="string">"custName"</span>,<span class="string">"ä¼ æ™ºæ’­å®¢"</span>);</span><br><span class="line">       List&lt;Customer&gt; list = query.getResultList();</span><br><span class="line"></span><br><span class="line">       <span class="keyword">for</span> (Customer customer : list) &#123;</span><br><span class="line">           System.out.println(customer);</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><h3 id="æ–¹å¼3-ä½¿ç”¨JPAå ä½ç¬¦"><a href="#æ–¹å¼3-ä½¿ç”¨JPAå ä½ç¬¦" class="headerlink" title="æ–¹å¼3 ä½¿ç”¨JPAå ä½ç¬¦"></a>æ–¹å¼3 ä½¿ç”¨JPAå ä½ç¬¦</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testCondition3</span><span class="params">()</span></span>&#123;</span><br><span class="line">       <span class="comment">//è¿™é‡Œç´¢å¼•ä»0å¼€å§‹è®¡æ•°ï¼Œä½†æ˜¯åœ¨ä¹¦å†™çš„æ—¶å€™è¿™ä¸ªæ•°å­—éšä¾¿å†™ï¼Œå°±å†™ä¸ª9éƒ½æ²¡é—®é¢˜</span></span><br><span class="line">       Query query = entityManager.createQuery(<span class="string">"from Customer  where custName = ?"</span>);</span><br><span class="line">       query.setParameter(<span class="string">"1"</span>,<span class="string">"ä¼ æ™ºæ’­å®¢"</span>);</span><br><span class="line">       List&lt;Customer&gt; list = query.getResultList();</span><br><span class="line"></span><br><span class="line">       <span class="keyword">for</span> (Customer customer : list) &#123;</span><br><span class="line">           System.out.println(customer);</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> æ¡†æ¶ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SpringDataJPA </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>01.mysqlä¼˜åŒ–-å»ºè¡¨çš„åŸåˆ™</title>
      <link href="/2019/07/11/mysql/01-mysql%E4%BC%98%E5%8C%96-%E5%BB%BA%E8%A1%A8%E7%9A%84%E5%8E%9F%E5%88%99/"/>
      <url>/2019/07/11/mysql/01-mysql%E4%BC%98%E5%8C%96-%E5%BB%BA%E8%A1%A8%E7%9A%84%E5%8E%9F%E5%88%99/</url>
      
        <content type="html"><![CDATA[<h1 id="åºè¨€"><a href="#åºè¨€" class="headerlink" title="åºè¨€"></a>åºè¨€</h1><p>DDL çš„è‹±æ–‡å…¨ç§°æ˜¯ Data Definition Languageã€‚å®šä¹‰äº†æ•°æ®åº“çš„ç»“æ„å’Œæ•°æ®è¡¨çš„ç»“æ„ã€‚DDL æ˜¯ DBMS çš„æ ¸å¿ƒç»„ä»¶ï¼Œä¹Ÿæ˜¯ SQL çš„é‡è¦ç»„æˆéƒ¨ï¼ŒDDLçš„æ­£ç¡®æ€§å’Œç¨³å®šæ€§æ˜¯æ•´ä¸ªSQLè¿è¡Œçš„é‡è¦åŸºç¡€ã€‚æ‰€ä»¥é¦–å…ˆåº”è¯¥ä»å»ºè¡¨ä¸Šä¼˜åŒ–æ•°æ®åº“</p><h1 id="æ•°æ®åº“å¯¹åº“çš„å®šä¹‰"><a href="#æ•°æ®åº“å¯¹åº“çš„å®šä¹‰" class="headerlink" title="æ•°æ®åº“å¯¹åº“çš„å®šä¹‰"></a>æ•°æ®åº“å¯¹åº“çš„å®šä¹‰</h1><h2 id="åˆ›å»º"><a href="#åˆ›å»º" class="headerlink" title="åˆ›å»º"></a>åˆ›å»º</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- åˆ›å»ºçš„åŸºæœ¬æ ¼å¼</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">database</span> æ•°æ®åº“åç§°;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- åˆ›å»ºæ•°æ®åº“ï¼Œåˆ¤æ–­ä¸å­˜åœ¨ï¼Œå†åˆ›å»ºï¼š</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">database</span> <span class="keyword">if</span> <span class="keyword">not</span> <span class="keyword">exists</span> æ•°æ®åº“åç§°;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- åˆ›å»ºæ•°æ®åº“ï¼Œå¹¶æŒ‡å®šå­—ç¬¦é›†ã€‚å­—ç¬¦é›†å¸¸ç”¨UTF8</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">database</span> æ•°æ®åº“åç§° <span class="built_in">character</span> <span class="keyword">set</span> å­—ç¬¦é›†å;</span><br></pre></td></tr></table></figure><h2 id="æŸ¥è¯¢"><a href="#æŸ¥è¯¢" class="headerlink" title="æŸ¥è¯¢"></a>æŸ¥è¯¢</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">-- æŸ¥è¯¢æ‰€æœ‰æ•°æ®åº“çš„åç§°:</span><br><span class="line">show databases;</span><br><span class="line">-- æŸ¥è¯¢æŸä¸ªæ•°æ®åº“çš„å­—ç¬¦é›†:æŸ¥è¯¢æŸä¸ªæ•°æ®åº“çš„åˆ›å»ºè¯­å¥</span><br><span class="line">show create database æ•°æ®åº“åç§°;</span><br></pre></td></tr></table></figure><h2 id="ä¿®æ”¹"><a href="#ä¿®æ”¹" class="headerlink" title="ä¿®æ”¹"></a>ä¿®æ”¹</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- ä¿®æ”¹æ•°æ®åº“çš„å­—ç¬¦é›†</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">database</span> æ•°æ®åº“åç§° <span class="built_in">character</span> <span class="keyword">set</span> å­—ç¬¦é›†åç§°;</span><br></pre></td></tr></table></figure><h2 id="åˆ é™¤"><a href="#åˆ é™¤" class="headerlink" title="åˆ é™¤"></a>åˆ é™¤</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- åˆ é™¤æ•°æ®åº“</span></span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">database</span> æ•°æ®åº“åç§°;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- åˆ¤æ–­æ•°æ®åº“å­˜åœ¨ï¼Œå­˜åœ¨å†åˆ é™¤</span></span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">database</span> <span class="keyword">if</span> <span class="keyword">exists</span> æ•°æ®åº“åç§°;</span><br></pre></td></tr></table></figure><h2 id="ä½¿ç”¨æ•°æ®åº“"><a href="#ä½¿ç”¨æ•°æ®åº“" class="headerlink" title="ä½¿ç”¨æ•°æ®åº“"></a>ä½¿ç”¨æ•°æ®åº“</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">use</span> æ•°æ®åº“åç§°;</span><br></pre></td></tr></table></figure><h2 id="æŸ¥è¯¢å½“å‰æ­£åœ¨ä½¿ç”¨çš„åº“å"><a href="#æŸ¥è¯¢å½“å‰æ­£åœ¨ä½¿ç”¨çš„åº“å" class="headerlink" title="æŸ¥è¯¢å½“å‰æ­£åœ¨ä½¿ç”¨çš„åº“å"></a>æŸ¥è¯¢å½“å‰æ­£åœ¨ä½¿ç”¨çš„åº“å</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">database</span>();</span><br></pre></td></tr></table></figure><h1 id="æ•°æ®åº“å¯¹è¡¨çš„å®šä¹‰"><a href="#æ•°æ®åº“å¯¹è¡¨çš„å®šä¹‰" class="headerlink" title="æ•°æ®åº“å¯¹è¡¨çš„å®šä¹‰"></a>æ•°æ®åº“å¯¹è¡¨çš„å®šä¹‰</h1><h2 id="åˆ›å»º-1"><a href="#åˆ›å»º-1" class="headerlink" title="åˆ›å»º"></a>åˆ›å»º</h2><h3 id="æ ¼å¼"><a href="#æ ¼å¼" class="headerlink" title="æ ¼å¼"></a>æ ¼å¼</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> è¡¨å(</span><br><span class="line">    åˆ—å<span class="number">1</span> æ•°æ®ç±»å‹<span class="number">1</span> çº¦æŸ,</span><br><span class="line">    åˆ—å<span class="number">2</span> æ•°æ®ç±»å‹<span class="number">2</span> çº¦æŸ,</span><br><span class="line">    ....</span><br><span class="line">    åˆ—ån æ•°æ®ç±»å‹n çº¦æŸ</span><br><span class="line">);</span><br></pre></td></tr></table></figure><h3 id="æ³¨æ„"><a href="#æ³¨æ„" class="headerlink" title="æ³¨æ„"></a>æ³¨æ„</h3><p>æœ€åä¸€åˆ—ä¸åŠ ,</p><p>å»ºè¡¨æœ€ååŠ ;</p><p>è¡¨åå¦‚ä½•å’Œä¿ç•™å­—å†²çªï¼ŒåŠ sï¼Œæ¯”å¦‚è¡¨åuseråˆ™åº”è¯¥åˆ›å»ºä¸ºusers</p><p>mysqlé»˜è®¤ä¸åŒºåˆ†å¤§å°å†™ï¼Œåˆ—æ˜å¦‚æœè¦åŒºåˆ†å¤§å°å†™å°±ç”¨_åˆ†éš”å•è¯</p><p>å¦‚æœè®¾ç½®çš„å­—ç¬¦é›†æ˜¯UTF8,é‚£ä¹ˆæ’åºè§„åˆ™æ˜¯utf8_general_ciï¼Œä»£è¡¨å¯¹å¤§å°å†™ä¸æ•æ„Ÿï¼Œå¦‚æœè®¾ç½®ä¸ºutf8_bin,ä»£è¡¨å¯¹å¤§å°å†™æ•æ„Ÿ</p><h3 id="å¸¸è§çš„æ•°æ®ç±»å‹"><a href="#å¸¸è§çš„æ•°æ®ç±»å‹" class="headerlink" title="å¸¸è§çš„æ•°æ®ç±»å‹"></a>å¸¸è§çš„æ•°æ®ç±»å‹</h3><p><strong>æ•´æ•°</strong> int</p><p><strong>å°æ•°</strong> double(å°æ•°çš„æœ€å¤§é•¿åº¦,å°æ•°ç‚¹åä¿ç•™å‡ ä½)ã€‚æ¯”å¦‚åˆ†æ•°score(5,2)  åˆ†æ•°100.00</p><p><strong>æ—¥æœŸ</strong> </p><p>â€‹    date:æ—¥æœŸï¼ŒåªåŒ…å«å¹´æœˆæ—¥ï¼Œyyyy-MM-dd</p><p>â€‹    datetime:æ—¥æœŸï¼ŒåŒ…å«å¹´æœˆæ—¥æ—¶åˆ†ç§’,yyyy-MM-dd HH:mm:ss</p><p>â€‹    timestamp:æ—¶é—´é”™ç±»å‹,åŒ…å«å¹´æœˆæ—¥æ—¶åˆ†ç§’,yyyy-MM-dd HH:mm:ssã€‚å¦‚æœå°†æ¥ä¸ç»™è¿™ä¸ªå­—æ®µèµ‹å€¼ï¼Œæˆ–èµ‹å€¼ä¸ºnullï¼Œåˆ™é»˜è®¤ä½¿ç”¨å½“å‰çš„ç³»ç»Ÿæ—¶é—´ï¼Œæ¥è‡ªåŠ¨èµ‹å€¼</p><p><strong>å­—ç¬¦ä¸²</strong></p><p>â€‹    varchar é•¿åº¦ä¼šéšç€å®é™…å­˜å‚¨æ•°æ®çš„å˜åŒ–è€Œæ”¹å˜</p><p>â€‹    char é•¿åº¦å›ºå®šã€‚</p><h3 id="ä¸¾ä¾‹"><a href="#ä¸¾ä¾‹" class="headerlink" title="ä¸¾ä¾‹"></a>ä¸¾ä¾‹</h3><p>æ¯”å¦‚æˆ‘ä»¬æƒ³åˆ›å»ºä¸€ä¸ªçƒå‘˜è¡¨ï¼Œè¡¨åä¸º playerï¼Œé‡Œé¢æœ‰ä¸¤ä¸ªå­—æ®µï¼Œä¸€ä¸ªæ˜¯ player_idï¼Œå®ƒæ˜¯ int ç±»å‹ï¼Œå¦ä¸€ä¸ª player_name å­—æ®µæ˜¯varchar(255)ç±»å‹ã€‚è¿™ä¸¤ä¸ªå­—æ®µéƒ½ä¸ä¸ºç©ºï¼Œä¸” player_id æ˜¯é€’å¢çš„ã€‚</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> player  (</span><br><span class="line">  player_id <span class="built_in">int</span>(<span class="number">11</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span> AUTO_INCREMENT,</span><br><span class="line">  player_name <span class="built_in">varchar</span>(<span class="number">255</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¯­å¥æœ€åä»¥åˆ†å·ï¼ˆ;ï¼‰ä½œä¸ºç»“æŸç¬¦ï¼Œæœ€åä¸€ä¸ªå­—æ®µçš„å®šä¹‰ç»“æŸåæ²¡æœ‰é€—å·ã€‚æ•°æ®ç±»å‹ä¸­ int(11) ä»£è¡¨æ•´æ•°ç±»å‹ï¼Œæ˜¾ç¤ºé•¿åº¦ä¸º 11 ä½ï¼Œæ‹¬å·ä¸­çš„å‚æ•° 11 ä»£è¡¨çš„æ˜¯æœ€å¤§æœ‰æ•ˆæ˜¾ç¤ºé•¿åº¦ï¼Œä¸ç±»å‹åŒ…å«çš„æ•°å€¼èŒƒå›´å¤§å°æ— å…³ã€‚varchar(255)ä»£è¡¨çš„æ˜¯æœ€å¤§é•¿åº¦ä¸º 255 çš„å¯å˜å­—ç¬¦ä¸²ç±»å‹ã€‚NOT NULLè¡¨æ˜æ•´ä¸ªå­—æ®µä¸èƒ½æ˜¯ç©ºå€¼ï¼Œæ˜¯ä¸€ç§æ•°æ®çº¦æŸã€‚AUTO_INCREMENTä»£è¡¨ä¸»é”®è‡ªåŠ¨å¢é•¿ã€‚</p><h2 id="æŸ¥è¯¢è¡¨ç»“æ„"><a href="#æŸ¥è¯¢è¡¨ç»“æ„" class="headerlink" title="æŸ¥è¯¢è¡¨ç»“æ„"></a>æŸ¥è¯¢è¡¨ç»“æ„</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">desc è¡¨å</span><br></pre></td></tr></table></figure><h2 id="ä¿®æ”¹è¡¨ç»“æ„"><a href="#ä¿®æ”¹è¡¨ç»“æ„" class="headerlink" title="ä¿®æ”¹è¡¨ç»“æ„"></a>ä¿®æ”¹è¡¨ç»“æ„</h2><h3 id="ä¿®æ”¹è¡¨å"><a href="#ä¿®æ”¹è¡¨å" class="headerlink" title="ä¿®æ”¹è¡¨å"></a>ä¿®æ”¹è¡¨å</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> è¡¨å <span class="keyword">rename</span> <span class="keyword">to</span> æ–°çš„è¡¨å;</span><br></pre></td></tr></table></figure><h3 id="ä¿®æ”¹å­—ç¬¦é›†"><a href="#ä¿®æ”¹å­—ç¬¦é›†" class="headerlink" title="ä¿®æ”¹å­—ç¬¦é›†"></a>ä¿®æ”¹å­—ç¬¦é›†</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> è¡¨å <span class="built_in">character</span> <span class="keyword">set</span> å­—ç¬¦é›†åç§°;</span><br></pre></td></tr></table></figure><h3 id="æ·»åŠ ä¸€åˆ—"><a href="#æ·»åŠ ä¸€åˆ—" class="headerlink" title="æ·»åŠ ä¸€åˆ—"></a>æ·»åŠ ä¸€åˆ—</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> è¡¨å <span class="keyword">add</span> åˆ—å æ•°æ®ç±»å‹;</span><br></pre></td></tr></table></figure><h3 id="ä¿®æ”¹åˆ—å"><a href="#ä¿®æ”¹åˆ—å" class="headerlink" title="ä¿®æ”¹åˆ—å"></a>ä¿®æ”¹åˆ—å</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> è¡¨å <span class="keyword">change</span> åˆ—å æ–°åˆ—åˆ« æ–°æ•°æ®ç±»å‹;</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> è¡¨å <span class="keyword">modify</span> åˆ—å æ–°æ•°æ®ç±»å‹;</span><br></pre></td></tr></table></figure><h3 id="åˆ é™¤åˆ—"><a href="#åˆ é™¤åˆ—" class="headerlink" title="åˆ é™¤åˆ—"></a>åˆ é™¤åˆ—</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> è¡¨å <span class="keyword">drop</span> åˆ—å;</span><br></pre></td></tr></table></figure><pre><code>3. U(Update):ä¿®æ”¹    1. ä¿®æ”¹è¡¨å        alter table è¡¨å rename to æ–°çš„è¡¨å;    2. ä¿®æ”¹è¡¨çš„å­—ç¬¦é›†        alter table è¡¨å character set å­—ç¬¦é›†åç§°;    3. æ·»åŠ ä¸€åˆ—        alter table è¡¨å add åˆ—å æ•°æ®ç±»å‹;    4. ä¿®æ”¹åˆ—åç§° ç±»å‹        alter table è¡¨å change åˆ—å æ–°åˆ—åˆ« æ–°æ•°æ®ç±»å‹;        alter table è¡¨å modify åˆ—å æ–°æ•°æ®ç±»å‹;    5. åˆ é™¤åˆ—</code></pre><h2 id="è¡¨ä¸­å¸¸è§çš„çº¦æŸç±»å‹"><a href="#è¡¨ä¸­å¸¸è§çš„çº¦æŸç±»å‹" class="headerlink" title="è¡¨ä¸­å¸¸è§çš„çº¦æŸç±»å‹"></a>è¡¨ä¸­å¸¸è§çš„çº¦æŸç±»å‹</h2><p>å½“æˆ‘ä»¬åˆ›å»ºæ•°æ®è¡¨çš„æ—¶å€™ï¼Œè¿˜ä¼šå¯¹å­—æ®µè¿›è¡Œçº¦æŸï¼Œçº¦æŸçš„ç›®çš„åœ¨äºä¿è¯ RDBMS é‡Œé¢æ•°æ®çš„å‡†ç¡®æ€§å’Œä¸€è‡´æ€§ã€‚ä¸‹é¢ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸‹å¸¸è§çš„çº¦æŸæœ‰å“ªäº›ã€‚  </p><h3 id="ä¸»é”®çº¦æŸ"><a href="#ä¸»é”®çº¦æŸ" class="headerlink" title="ä¸»é”®çº¦æŸ"></a>ä¸»é”®çº¦æŸ</h3><p>â€‹     ä¸»é”®èµ·çš„ä½œç”¨æ˜¯å”¯ä¸€æ ‡è¯†ä¸€æ¡è®°å½•ï¼Œä¸èƒ½é‡å¤ï¼Œä¸èƒ½ä¸ºç©ºï¼Œå³ UNIQUE+NOT NULLã€‚ä¸€ä¸ªæ•°æ®è¡¨çš„ä¸»é”®åªèƒ½æœ‰ä¸€ä¸ªã€‚ä¸»é”®å¯ä»¥æ˜¯ä¸€ä¸ªå­—æ®µï¼Œä¹Ÿå¯ä»¥ç”±å¤šä¸ªå­—æ®µå¤åˆç»„æˆã€‚åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å°±æŠŠ player_id è®¾ç½®ä¸ºäº†ä¸»é”®ã€‚  </p><h3 id="å¤–é”®çº¦æŸ"><a href="#å¤–é”®çº¦æŸ" class="headerlink" title="å¤–é”®çº¦æŸ"></a>å¤–é”®çº¦æŸ</h3><p>â€‹    å¤–é”®ç¡®ä¿äº†è¡¨ä¸è¡¨ä¹‹é—´å¼•ç”¨çš„å®Œæ•´æ€§ã€‚ä¸€ä¸ªè¡¨ä¸­çš„å¤–é”®å¯¹åº”å¦ä¸€å¼ è¡¨çš„ä¸»é”®ã€‚å¤–é”®å¯ä»¥æ˜¯é‡å¤çš„ï¼Œä¹Ÿå¯ä»¥ä¸ºç©ºã€‚æ¯”å¦‚ player_id åœ¨ player è¡¨ä¸­æ˜¯ä¸»é”®ï¼Œå¦‚æœä½ æƒ³è®¾ç½®ä¸€ä¸ªçƒå‘˜æ¯”åˆ†è¡¨å³ player_scoreï¼Œå°±å¯ä»¥åœ¨ player_score ä¸­è®¾ç½® player_id ä¸ºå¤–é”®ï¼Œå…³è”åˆ° player è¡¨ä¸­ã€‚ </p><h3 id="å­—æ®µçº¦æŸ"><a href="#å­—æ®µçº¦æŸ" class="headerlink" title="å­—æ®µçº¦æŸ"></a>å­—æ®µçº¦æŸ</h3><h4 id="å”¯ä¸€æ€§çº¦æŸ"><a href="#å”¯ä¸€æ€§çº¦æŸ" class="headerlink" title="å”¯ä¸€æ€§çº¦æŸ"></a>å”¯ä¸€æ€§çº¦æŸ</h4><p>â€‹    å”¯ä¸€æ€§çº¦æŸè¡¨æ˜äº†å­—æ®µåœ¨è¡¨ä¸­çš„æ•°å€¼æ˜¯å”¯ä¸€çš„ï¼Œå³ä½¿æˆ‘ä»¬å·²ç»æœ‰äº†ä¸»é”®ï¼Œè¿˜å¯ä»¥å¯¹å…¶ä»–å­—æ®µè¿›è¡Œå”¯ä¸€æ€§çº¦æŸã€‚æ¯”å¦‚æˆ‘ä»¬åœ¨ player è¡¨ä¸­ç»™ player_name è®¾ç½®å”¯ä¸€æ€§çº¦æŸï¼Œå°±è¡¨æ˜ä»»ä½•ä¸¤ä¸ªçƒå‘˜çš„å§“åä¸èƒ½ç›¸åŒã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå”¯ä¸€æ€§çº¦æŸå’Œæ™®é€šç´¢å¼•ï¼ˆNORMAL INDEXï¼‰ä¹‹é—´æ˜¯æœ‰åŒºåˆ«çš„ã€‚å”¯ä¸€æ€§çº¦æŸç›¸å½“äºåˆ›å»ºäº†ä¸€ä¸ªçº¦æŸå’Œæ™®é€šç´¢å¼•ï¼Œç›®çš„æ˜¯ä¿è¯å­—æ®µçš„æ­£ç¡®æ€§ï¼Œè€Œæ™®é€šç´¢å¼•åªæ˜¯æå‡æ•°æ®æ£€ç´¢çš„é€Ÿåº¦ï¼Œå¹¶ä¸å¯¹å­—æ®µçš„å”¯ä¸€æ€§è¿›è¡Œçº¦æŸã€‚  </p><h4 id="NOT-NULL-çº¦æŸ"><a href="#NOT-NULL-çº¦æŸ" class="headerlink" title="NOT NULL çº¦æŸ"></a>NOT NULL çº¦æŸ</h4><p>â€‹    å¯¹å­—æ®µå®šä¹‰äº† NOT NULLï¼Œå³è¡¨æ˜è¯¥å­—æ®µä¸åº”ä¸ºç©ºï¼Œå¿…é¡»æœ‰å–å€¼ã€‚  </p><h4 id="DEFAULT"><a href="#DEFAULT" class="headerlink" title="DEFAULT"></a>DEFAULT</h4><p>â€‹    è¡¨æ˜äº†å­—æ®µçš„é»˜è®¤å€¼ã€‚å¦‚æœåœ¨æ’å…¥æ•°æ®çš„æ—¶å€™ï¼Œè¿™ä¸ªå­—æ®µæ²¡æœ‰å–å€¼ï¼Œå°±è®¾ç½®ä¸ºé»˜è®¤å€¼ã€‚æ¯”å¦‚æˆ‘ä»¬å°†èº«é«˜ height å­—æ®µçš„å–å€¼é»˜è®¤è®¾ç½®ä¸º 0.00ï¼Œå³DEFAULT 0.00ã€‚  </p><h4 id="CHECK-çº¦æŸ"><a href="#CHECK-çº¦æŸ" class="headerlink" title="CHECK çº¦æŸ"></a>CHECK çº¦æŸ</h4><p>â€‹    ç”¨æ¥æ£€æŸ¥ç‰¹å®šå­—æ®µå–å€¼èŒƒå›´çš„æœ‰æ•ˆæ€§ï¼Œæ¯”å¦‚æˆ‘ä»¬å¯ä»¥å¯¹èº«é«˜ height çš„æ•°å€¼è¿›è¡Œ CHECK çº¦æŸï¼Œå¿…é¡»â‰¥0ï¼Œä¸”ï¼œ3ï¼Œå³CHECK(height&gt;=0 AND height&lt;3)ã€‚</p><h1 id="è®¾è®¡æ•°æ®è¡¨çš„åŸåˆ™"><a href="#è®¾è®¡æ•°æ®è¡¨çš„åŸåˆ™" class="headerlink" title="è®¾è®¡æ•°æ®è¡¨çš„åŸåˆ™"></a>è®¾è®¡æ•°æ®è¡¨çš„åŸåˆ™</h1><p>â€‹    æˆ‘ä»¬åœ¨è®¾è®¡æ•°æ®è¡¨çš„æ—¶å€™ï¼Œç»å¸¸ä¼šè€ƒè™‘åˆ°å„ç§é—®é¢˜ï¼Œæ¯”å¦‚ï¼šç”¨æˆ·éƒ½éœ€è¦ä»€ä¹ˆæ•°æ®ï¼Ÿéœ€è¦åœ¨æ•°æ®è¡¨ä¸­ä¿å­˜å“ªäº›æ•°æ®ï¼Ÿå“ªäº›æ•°æ®æ˜¯ç»å¸¸è®¿é—®çš„æ•°æ®ï¼Ÿå¦‚ä½•æå‡æ£€ç´¢æ•ˆç‡ï¼Ÿ  å¦‚ä½•ä¿è¯æ•°æ®è¡¨ä¸­æ•°æ®çš„æ­£ç¡®æ€§ï¼Œå½“æ’å…¥ã€åˆ é™¤ã€æ›´æ–°çš„æ—¶å€™è¯¥è¿›è¡Œæ€æ ·çš„çº¦æŸæ£€æŸ¥ï¼Ÿ  å¦‚ä½•é™ä½æ•°æ®è¡¨çš„æ•°æ®å†—ä½™åº¦ï¼Œä¿è¯æ•°æ®è¡¨ä¸ä¼šå› ä¸ºç”¨æˆ·é‡çš„å¢é•¿è€Œè¿…é€Ÿæ‰©å¼ ï¼Ÿ  å¦‚ä½•è®©è´Ÿè´£æ•°æ®åº“ç»´æŠ¤çš„äººå‘˜æ›´æ–¹ä¾¿åœ°ä½¿ç”¨æ•°æ®åº“ï¼Ÿ  é™¤æ­¤ä»¥å¤–ï¼Œæˆ‘ä»¬ä½¿ç”¨æ•°æ®åº“çš„åº”ç”¨åœºæ™¯ä¹Ÿå„ä¸ç›¸åŒï¼Œå¯ä»¥è¯´é’ˆå¯¹ä¸åŒçš„æƒ…å†µï¼Œè®¾è®¡å‡ºæ¥çš„æ•°æ®è¡¨å¯èƒ½åƒå·®ä¸‡åˆ«ã€‚é‚£ä¹ˆæœ‰æ²¡æœ‰ä¸€ç§è®¾è®¡åŸåˆ™å¯ä»¥è®©æˆ‘ä»¬æ¥å€Ÿé‰´å‘¢ï¼Ÿè¿™é‡Œæˆ‘æ•´ç†äº†ä¸€ä¸ªâ€œä¸‰å°‘ä¸€å¤šâ€åŸåˆ™ï¼š</p><h2 id="æ•°æ®è¡¨çš„ä¸ªæ•°è¶Šå°‘è¶Šå¥½"><a href="#æ•°æ®è¡¨çš„ä¸ªæ•°è¶Šå°‘è¶Šå¥½" class="headerlink" title="æ•°æ®è¡¨çš„ä¸ªæ•°è¶Šå°‘è¶Šå¥½"></a>æ•°æ®è¡¨çš„ä¸ªæ•°è¶Šå°‘è¶Šå¥½</h2><p>â€‹    RDBMS çš„æ ¸å¿ƒåœ¨äºå¯¹å®ä½“å’Œè”ç³»çš„å®šä¹‰ï¼Œä¹Ÿå°±æ˜¯ E-R å›¾ï¼ˆEntity Relationship Diagramï¼‰ï¼Œæ•°æ®è¡¨è¶Šå°‘ï¼Œè¯æ˜å®ä½“å’Œè”ç³»è®¾è®¡å¾—è¶Šç®€æ´ï¼Œæ—¢æ–¹ä¾¿ç†è§£åˆæ–¹ä¾¿æ“ä½œã€‚  </p><h2 id="æ•°æ®è¡¨ä¸­çš„å­—æ®µä¸ªæ•°è¶Šå°‘è¶Šå¥½"><a href="#æ•°æ®è¡¨ä¸­çš„å­—æ®µä¸ªæ•°è¶Šå°‘è¶Šå¥½" class="headerlink" title="æ•°æ®è¡¨ä¸­çš„å­—æ®µä¸ªæ•°è¶Šå°‘è¶Šå¥½"></a>æ•°æ®è¡¨ä¸­çš„å­—æ®µä¸ªæ•°è¶Šå°‘è¶Šå¥½</h2><p>â€‹    å­—æ®µä¸ªæ•°è¶Šå¤šï¼Œæ•°æ®å†—ä½™çš„å¯èƒ½æ€§è¶Šå¤§ã€‚è®¾ç½®å­—æ®µä¸ªæ•°å°‘çš„å‰ææ˜¯å„ä¸ªå­—æ®µç›¸äº’ç‹¬ç«‹ï¼Œè€Œä¸æ˜¯æŸä¸ªå­—æ®µçš„å–å€¼å¯ä»¥ç”±å…¶ä»–å­—æ®µè®¡ç®—å‡ºæ¥ã€‚å½“ç„¶å­—æ®µä¸ªæ•°å°‘æ˜¯ç›¸å¯¹çš„ï¼Œæˆ‘ä»¬é€šå¸¸ä¼šåœ¨æ•°æ®å†—ä½™å’Œæ£€ç´¢æ•ˆç‡ä¸­è¿›è¡Œå¹³è¡¡ã€‚ </p><h2 id="æ•°æ®è¡¨ä¸­è”åˆä¸»é”®çš„å­—æ®µä¸ªæ•°è¶Šå°‘è¶Šå¥½"><a href="#æ•°æ®è¡¨ä¸­è”åˆä¸»é”®çš„å­—æ®µä¸ªæ•°è¶Šå°‘è¶Šå¥½" class="headerlink" title="æ•°æ®è¡¨ä¸­è”åˆä¸»é”®çš„å­—æ®µä¸ªæ•°è¶Šå°‘è¶Šå¥½"></a>æ•°æ®è¡¨ä¸­è”åˆä¸»é”®çš„å­—æ®µä¸ªæ•°è¶Šå°‘è¶Šå¥½</h2><p>â€‹    è®¾ç½®ä¸»é”®æ˜¯ä¸ºäº†ç¡®å®šå”¯ä¸€æ€§ï¼Œå½“ä¸€ä¸ªå­—æ®µæ— æ³•ç¡®å®šå”¯ä¸€æ€§çš„æ—¶å€™ï¼Œå°±éœ€è¦é‡‡ç”¨è”åˆä¸»é”®çš„æ–¹å¼ï¼ˆä¹Ÿå°±æ˜¯ç”¨å¤šä¸ªå­—æ®µæ¥å®šä¹‰ä¸€ä¸ªä¸»é”®ï¼‰ã€‚è”åˆä¸»é”®ä¸­çš„å­—æ®µè¶Šå¤šï¼Œå ç”¨çš„ç´¢å¼•ç©ºé—´è¶Šå¤§ï¼Œä¸ä»…ä¼šåŠ å¤§ç†è§£éš¾åº¦ï¼Œè¿˜ä¼šå¢åŠ è¿è¡Œæ—¶é—´å’Œç´¢å¼•ç©ºé—´ï¼Œå› æ­¤è”åˆä¸»é”®çš„å­—æ®µä¸ªæ•°è¶Šå°‘è¶Šå¥½ã€‚  </p><h2 id="ä½¿ç”¨ä¸»é”®å’Œå¤–é”®è¶Šå¤šè¶Šå¥½"><a href="#ä½¿ç”¨ä¸»é”®å’Œå¤–é”®è¶Šå¤šè¶Šå¥½" class="headerlink" title="ä½¿ç”¨ä¸»é”®å’Œå¤–é”®è¶Šå¤šè¶Šå¥½"></a>ä½¿ç”¨ä¸»é”®å’Œå¤–é”®è¶Šå¤šè¶Šå¥½</h2><p>â€‹    æ•°æ®åº“çš„è®¾è®¡å®é™…ä¸Šå°±æ˜¯å®šä¹‰å„ç§è¡¨ï¼Œä»¥åŠå„ç§å­—æ®µä¹‹é—´çš„å…³ç³»ã€‚è¿™äº›å…³ç³»è¶Šå¤šï¼Œè¯æ˜è¿™äº›å®ä½“ä¹‹é—´çš„å†—ä½™åº¦è¶Šä½ï¼Œåˆ©ç”¨åº¦è¶Šé«˜ã€‚è¿™æ ·åšçš„å¥½å¤„åœ¨äºä¸ä»…ä¿è¯äº†æ•°æ®è¡¨ä¹‹é—´çš„ç‹¬ç«‹æ€§ï¼Œè¿˜èƒ½æå‡ç›¸äº’ä¹‹é—´çš„å…³è”ä½¿ç”¨ç‡ã€‚  ä½ åº”è¯¥èƒ½çœ‹å‡ºæ¥â€œä¸‰å°‘ä¸€å¤šâ€åŸåˆ™çš„æ ¸å¿ƒå°±æ˜¯ç®€å•å¯å¤ç”¨ã€‚</p><h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>â€‹    å»ºè¡¨çš„ä¼˜åŒ–æ€è·¯å°±æ˜¯æŒ‡ç”¨æ›´å°‘çš„è¡¨ã€æ›´å°‘çš„å­—æ®µã€æ›´å°‘çš„è”åˆä¸»é”®å­—æ®µæ¥å®Œæˆæ•°æ®è¡¨çš„è®¾è®¡ã€‚å¯å¤ç”¨åˆ™æ˜¯é€šè¿‡ä¸»é”®ã€å¤–é”®çš„ä½¿ç”¨æ¥å¢å¼ºæ•°æ®è¡¨ä¹‹é—´çš„å¤ç”¨ç‡ã€‚å› ä¸ºä¸€ä¸ªä¸»é”®å¯ä»¥ç†è§£æ˜¯ä¸€å¼ è¡¨çš„ä»£è¡¨ã€‚é”®è®¾è®¡å¾—è¶Šå¤šï¼Œè¯æ˜å®ƒä»¬ä¹‹é—´çš„åˆ©ç”¨ç‡è¶Šé«˜ã€‚</p><p>â€‹    å¾ˆå¤šäº’è”ç½‘çš„å…¬å¸ï¼Œå°¤å…¶æ˜¯è¶…å¤§å‹çš„æ•°æ®åº”ç”¨åœºæ™¯ï¼Œå¤§é‡çš„æ’å…¥ï¼Œæ›´æ–°å’Œåˆ é™¤åœ¨å¤–é”®çš„çº¦æŸä¸‹ä¼šé™ä½æ€§èƒ½ï¼ŒåŒæ—¶æ•°æ®åº“åœ¨æ°´å¹³æ‹†åˆ†å’Œåˆ†åº“çš„æƒ…å†µä¸‹ï¼Œæ•°æ®åº“ç«¯ä¹Ÿåšä¸åˆ°æ‰§è¡Œå¤–é”®çº¦æŸã€‚å¦å¤–ï¼Œåœ¨é«˜å¹¶å‘çš„æƒ…å†µä¸‹ï¼Œå¤–é”®çš„å­˜åœ¨ä¹Ÿä¼šé€ æˆé¢å¤–çš„å¼€é”€ã€‚å› ä¸ºæ¯æ¬¡æ›´æ–°æ•°æ®ï¼Œéƒ½éœ€è¦æ£€æŸ¥å¦å¤–ä¸€å¼ è¡¨çš„æ•°æ®ï¼Œä¹Ÿå®¹æ˜“é€ æˆæ­»é”ã€‚<br>æ‰€ä»¥åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå°¤å…¶æ˜¯å¤§å‹é¡¹ç›®ä¸­åæœŸï¼Œå¯ä»¥é‡‡ç”¨ä¸šåŠ¡å±‚æ¥å®ç°ï¼Œå–æ¶ˆå¤–é”®æé«˜æ•ˆç‡</p>]]></content>
      
      
      <categories>
          
          <category> æ•°æ®åº“ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ•°æ®åº“ </tag>
            
            <tag> MySQL </tag>
            
            <tag> æ•°æ®åº“ä¼˜åŒ– </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç±»åŠ è½½å™¨</title>
      <link href="/2019/07/09/javaSE/%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%99%A8/"/>
      <url>/2019/07/09/javaSE/%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%99%A8/</url>
      
        <content type="html"><![CDATA[<h2 id="1-ç±»åŠ è½½å™¨çš„æ¦‚è¿°"><a href="#1-ç±»åŠ è½½å™¨çš„æ¦‚è¿°" class="headerlink" title="1.ç±»åŠ è½½å™¨çš„æ¦‚è¿°"></a>1.ç±»åŠ è½½å™¨çš„æ¦‚è¿°</h2><p>è´Ÿè´£å°†.classæ–‡ä»¶åŠ è½½åˆ°å†…å­˜ä¸­ï¼Œå¹¶ä¸ºä¹‹ç”Ÿæˆå¯¹åº”çš„Classå¯¹è±¡ã€‚æˆ‘ä»¬çš„æœ€ç»ˆç›®æ ‡æ˜¯å­¦ä¹ ç±»åŠ è½½å™¨çš„åŠ è½½æœºåˆ¶ï¼Œäº†è§£è¿™ä¸ªæœºåˆ¶æˆ‘ä»¬å°±èƒ½æ›´å¥½çš„ç†è§£ç¨‹åºçš„è¿è¡Œã€‚</p><h2 id="2-ç±»åŠ è½½å™¨çš„åˆ†ç±»"><a href="#2-ç±»åŠ è½½å™¨çš„åˆ†ç±»" class="headerlink" title="2.ç±»åŠ è½½å™¨çš„åˆ†ç±»"></a>2.ç±»åŠ è½½å™¨çš„åˆ†ç±»</h2><p>Bootstrap ClassLoader æ ¹ç±»åŠ è½½å™¨</p><p>Extension ClassLoader æ‰©å±•ç±»åŠ è½½å™¨</p><p>Sysetm ClassLoader ç³»ç»Ÿç±»åŠ è½½å™¨</p><h2 id="3-ç±»åŠ è½½å™¨çš„ä½œç”¨"><a href="#3-ç±»åŠ è½½å™¨çš„ä½œç”¨" class="headerlink" title="3.ç±»åŠ è½½å™¨çš„ä½œç”¨"></a>3.ç±»åŠ è½½å™¨çš„ä½œç”¨</h2><p>1.Bootstrap ClassLoader æ ¹ç±»åŠ è½½å™¨ï¼Œä¹Ÿè¢«ç§°ä¸ºå¼•å¯¼ç±»åŠ è½½å™¨ï¼Œè´Ÿè´£Javaæ ¸å¿ƒç±»çš„åŠ è½½ï¼Œæ¯”å¦‚System,Stringç­‰ã€‚åœ¨JDKä¸­jreçš„libç›®å½•ä¸‹rt.jaræ–‡ä»¶ä¸­</p><p>2.Extension ClassLoader æ‰©å±•ç±»åŠ è½½å™¨è´Ÿè´£JREçš„æ‰©å±•ç›®å½•ä¸­jaråŒ…çš„åŠ è½½ã€‚åœ¨JDKä¸­JREçš„libç›®å½•ä¸‹extç›®å½•</p><p>3.Sysetm ClassLoader ç³»ç»Ÿç±»åŠ è½½å™¨(åˆå«åšApplication ClassLoader)è´Ÿè´£åœ¨JVMå¯åŠ¨æ—¶åŠ è½½æ¥è‡ªjavaå‘½ä»¤çš„classæ–‡ä»¶ï¼Œä»¥åŠclasspathç¯å¢ƒå˜é‡æ‰€æŒ‡å®šçš„jaråŒ…å’Œç±»è·¯å¾„</p><p><img src="//haoyongliang.gitee.io/2019/07/09/javaSE/ç±»åŠ è½½å™¨/%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%99%A8.png" alt="1"></p><h2 id="4-ç±»åŠ è½½å™¨åŸç†"><a href="#4-ç±»åŠ è½½å™¨åŸç†" class="headerlink" title="4.ç±»åŠ è½½å™¨åŸç†"></a>4.ç±»åŠ è½½å™¨åŸç†</h2><p>çˆ¶ç±»å§”æ‰˜æœºåˆ¶ï¼šå…ˆè®©çˆ¶ç±»åŠ è½½å™¨å¯»æ‰¾ï¼Œåªæœ‰åœ¨çˆ¶ç±»åŠ è½½å™¨æ‰¾ä¸åˆ°çš„æƒ…å†µä¸‹æ‰ä»è‡ªå·±çš„ç±»è·¯å¾„ä¸­å»å¯»æ‰¾ </p><p>ä¸¾ä¾‹</p><p>â€‹    æ¯”å¦‚å½“æˆ‘ä»¬æ‰§è¡Œjava Dogçš„æ—¶å€™ï¼Œè‚¯å®šè¦å…ˆåŠ è½½Dog.class,æœ¬æ¥è¿™ä¸ªç±»åº”è¯¥ç”±System ClassloaderåŠ è½½ï¼Œä½†æ˜¯è¿™ä¸ªç±»åŠ è½½æœ‰çˆ¶äº²ï¼Œæ‰€ä»¥å°±äº¤ç»™Extension Classloaderç±»åŠ è½½å™¨åŠ è½½ï¼Œè¿™ä¸ªç±»åŠ è½½å™¨è¿˜æœ‰çˆ¸çˆ¸æœ€åå°±äº¤ç»™BootStrap Classloaderå»åŠ è½½ã€‚ä½†æ˜¯BootStrap ç±»åŠ è½½å™¨åŠ è½½çš„rt.jaråŒ…ä¸­å¹¶æ²¡æœ‰è¿™ä¸ªDogç±»ï¼Œæ— æ³•åŠ è½½ï¼Œå°±åˆè¿”å›ç»™Extension ç±»åŠ å™¨åŠ è½½ï¼Œè¿™ä¸ªç±»åŠ è½½å™¨åœ¨extç›®å½•ä¹Ÿæ‰¾ä¸åˆ°Dogç±»ï¼Œå°±åˆè¿”å›ç»™Systemç±»åŠ å™¨åŠ è½½å™¨ï¼Œå¦‚æœä»classpathç›®å½•æ‰¾åˆ°äº†Dogç±»å°±åŠ è½½ï¼Œæ‰¾ä¸åˆ°å°±æŠ¥é”™ClassNotFoundException</p><p><img src="//haoyongliang.gitee.io/2019/07/09/javaSE/ç±»åŠ è½½å™¨/%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%99%A8%E6%9C%BA%E5%88%B6.png" alt="2"></p><h2 id="5-è‡ªå®šä¹‰ç±»åŠ è½½å™¨"><a href="#5-è‡ªå®šä¹‰ç±»åŠ è½½å™¨" class="headerlink" title="5.è‡ªå®šä¹‰ç±»åŠ è½½å™¨"></a>5.è‡ªå®šä¹‰ç±»åŠ è½½å™¨</h2><h3 id="æ­¥éª¤"><a href="#æ­¥éª¤" class="headerlink" title="æ­¥éª¤"></a>æ­¥éª¤</h3><p>ç¬¬ä¸€æ­¥:ç¼–å†™ç±»ç»§æ‰¿ClassLoader</p><p>ç¬¬äºŒæ­¥:ç¼–å†™æ–¹æ³•(åŠŸèƒ½æŠŠæŒ‡å®šä½ç½®çš„classæ–‡ä»¶è½¬æ¢æˆClasså¯¹è±¡)</p><p>ç¬¬ä¸‰æ­¥:ç”Ÿæˆæ„é€ æ–¹æ³•</p><h3 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyClassLoader</span> <span class="keyword">extends</span> <span class="title">ClassLoader</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">MyClassLoader</span><span class="params">(String name, ClassLoader parent)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(name, parent);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">MyClassLoader</span><span class="params">(ClassLoader parent)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(parent);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">MyClassLoader</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * åŠŸèƒ½ï¼šä¼ å…¥ä¸€ä¸ª.classæ–‡ä»¶çš„ç»å¯¹è·¯å¾„ï¼Œç„¶åç”Ÿæˆå¯¹åº”çš„Classå¯¹è±¡</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> file</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> Exception</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Class <span class="title">load</span><span class="params">(String file)</span><span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">        <span class="comment">//1.å…ˆæŠŠxxx.classæ–‡ä»¶è¯»å–åˆ°ä¸€ä¸ªå­—èŠ‚æ•°ç»„ä¸­</span></span><br><span class="line">        FileInputStream fis = <span class="keyword">new</span> FileInputStream(file);</span><br><span class="line">        <span class="keyword">byte</span>[] data = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>*<span class="number">8</span>];</span><br><span class="line">        <span class="keyword">int</span> len = fis.read(data);</span><br><span class="line">        <span class="comment">//2.è°ƒç”¨defineClasså°†å­—èŠ‚æ•°ç»„è½¬æ¢æˆClasså¯¹è±¡</span></span><br><span class="line">        Class&lt;?&gt; clazz = <span class="keyword">super</span>.defineClass(<span class="keyword">null</span>, data, <span class="number">0</span>, len);</span><br><span class="line">        <span class="keyword">return</span> clazz;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æµ‹è¯•ä»£ç "><a href="#æµ‹è¯•ä»£ç " class="headerlink" title="æµ‹è¯•ä»£ç "></a>æµ‹è¯•ä»£ç </h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">T</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">        Class clazz = <span class="keyword">new</span> MyClassLoader().load(<span class="string">"C:\\Users\\haoyongliang\\Desktop\\Student.class"</span>);</span><br><span class="line">        System.out.println(clazz.getSimpleName());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Javaæ ¸å¿ƒ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javaæ ¸å¿ƒ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MySQLä¸­çš„äº‹ç‰©</title>
      <link href="/2019/07/08/mysql/MySQL%E4%B8%AD%E7%9A%84%E4%BA%8B%E7%89%A9/"/>
      <url>/2019/07/08/mysql/MySQL%E4%B8%AD%E7%9A%84%E4%BA%8B%E7%89%A9/</url>
      
        <content type="html"><![CDATA[<h1 id="ä»€ä¹ˆæ˜¯äº‹ç‰©"><a href="#ä»€ä¹ˆæ˜¯äº‹ç‰©" class="headerlink" title="ä»€ä¹ˆæ˜¯äº‹ç‰©"></a>ä»€ä¹ˆæ˜¯äº‹ç‰©</h1><p>â€‹    åœ¨å®é™…çš„å¼€å‘è¿‡ç¨‹ä¸­ï¼Œä¸€ä¸ªä¸šåŠ¡æ“ä½œå¦‚ï¼šè½¬è´¦ï¼Œå¾€å¾€æ˜¯è¦å¤šæ¬¡è®¿é—®æ•°æ®åº“æ‰èƒ½å®Œæˆçš„ã€‚è½¬ è´¦æ˜¯ä¸€ä¸ªç”¨æˆ·æ‰£é’±ï¼Œå¦ä¸€ä¸ªç”¨æˆ·åŠ é’±ã€‚å¦‚æœå…¶ä¸­æœ‰ä¸€æ¡ SQL è¯­å¥å‡ºç°å¼‚å¸¸ï¼Œè¿™æ¡ SQL å°±å¯èƒ½æ‰§è¡Œå¤±è´¥ã€‚ äº‹åŠ¡æ‰§è¡Œæ˜¯ä¸€ä¸ªæ•´ä½“ï¼Œæ‰€æœ‰çš„ SQL è¯­å¥éƒ½å¿…é¡»æ‰§è¡ŒæˆåŠŸã€‚å¦‚æœå…¶ä¸­æœ‰ 1 æ¡ SQL è¯­å¥å‡ºç°å¼‚å¸¸ï¼Œåˆ™æ‰€æœ‰çš„ SQL è¯­å¥éƒ½è¦å›æ»šï¼Œæ•´ä¸ªä¸šåŠ¡æ‰§è¡Œå¤±è´¥</p><p>â€‹    MySQLé»˜è®¤å¼€å¯äº‹ç‰©ï¼ŒORACLEé»˜è®¤å…³é—­äº‹ç‰©</p><h1 id="äº‹ç‰©çš„å››å¤§ç‰¹æ€§"><a href="#äº‹ç‰©çš„å››å¤§ç‰¹æ€§" class="headerlink" title="äº‹ç‰©çš„å››å¤§ç‰¹æ€§"></a>äº‹ç‰©çš„å››å¤§ç‰¹æ€§</h1><ul><li><p>åŸå­æ€§ï¼ˆAtomicityï¼‰<br>æ¯ä¸ªäº‹åŠ¡éƒ½æ˜¯ä¸€ä¸ªæ•´ä½“ï¼Œä¸å¯å†æ‹†åˆ†ï¼Œäº‹åŠ¡ä¸­æ‰€æœ‰çš„ SQL è¯­å¥è¦ä¹ˆéƒ½æ‰§è¡ŒæˆåŠŸï¼Œ è¦ä¹ˆéƒ½å¤±è´¥ã€‚ </p></li><li><p>ä¸€è‡´æ€§ï¼ˆConsistencyï¼‰<br>äº‹åŠ¡åœ¨æ‰§è¡Œå‰æ•°æ®åº“çš„çŠ¶æ€ä¸æ‰§è¡Œåæ•°æ®åº“çš„çŠ¶æ€ä¿æŒä¸€è‡´ã€‚å¦‚ï¼šè½¬è´¦å‰2ä¸ªäººçš„ æ€»é‡‘é¢æ˜¯ 2000ï¼Œè½¬è´¦å 2 ä¸ªäººæ€»é‡‘é¢ä¹Ÿæ˜¯ 2000 </p></li><li><p>éš”ç¦»æ€§ï¼ˆIsolationï¼‰ äº‹åŠ¡ä¸äº‹åŠ¡ä¹‹é—´ä¸åº”è¯¥ç›¸äº’å½±å“ï¼Œæ‰§è¡Œæ—¶ä¿æŒéš”ç¦»çš„çŠ¶æ€ã€‚ </p></li><li><p>æŒä¹…æ€§ï¼ˆDurabilityï¼‰ ä¸€æ—¦äº‹åŠ¡æ‰§è¡ŒæˆåŠŸï¼Œå¯¹æ•°æ®åº“çš„ä¿®æ”¹æ˜¯æŒä¹…çš„ã€‚å°±ç®—å…³æœºï¼Œä¹Ÿæ˜¯ä¿å­˜ä¸‹æ¥çš„ã€‚ </p></li></ul><h1 id="äº‹ç‰©çš„å››ä¸ªéš”ç¦»çº§åˆ«"><a href="#äº‹ç‰©çš„å››ä¸ªéš”ç¦»çº§åˆ«" class="headerlink" title="äº‹ç‰©çš„å››ä¸ªéš”ç¦»çº§åˆ«"></a>äº‹ç‰©çš„å››ä¸ªéš”ç¦»çº§åˆ«</h1><ul><li><p>read uncommited</p><pre><code>ä¼šè¯»åˆ°å…¶ä»–äº‹ç‰©æ²¡æœ‰æäº¤çš„æ•°æ®ï¼Œæ¢å¥è¯è¯´è¯»çš„æ˜¯å†…å­˜ä¸­çš„ä¸´æ—¶æ•°æ®ï¼Œä¸æ˜¯æŒä¹…åŒ–åˆ°ç¡¬ç›˜çš„æ•°æ®ã€‚è¿™ç§ç°è±¡æˆ‘ä»¬æˆä¸ºè„è¯»ã€‚ä¸€ä¸ªç”¨æˆ·åœ¨è¯»å–æ•°æ®çš„æ—¶å€™å…è®¸å…¶ä»–ç”¨æˆ·å¯¹è¡¨æ•°æ®è¿›è¡Œä»»ä½•æ“ä½œ</code></pre></li><li><p>read commitedï¼ˆoracleé»˜è®¤éš”ç¦»çº§åˆ«ï¼‰</p><pre><code>è¯»å–åˆ°çš„æ—¶å€™æŒä¹…åŒ–åˆ°ç¡¬ç›˜çš„æ•°æ®ï¼Œä¸€ä¸ªç”¨æˆ·åœ¨è¯»å–æ•°æ®çš„æ—¶å€™å¦‚æœå…¶ä»–ç”¨æˆ·å¯¹è¡¨æ•°æ®è¿›è¡Œæ“ä½œï¼Œåˆ™å†æ¬¡è¯»å–åˆ°çš„æ•°æ®ä¼šä¸ä¸€è‡´ã€‚</code></pre></li><li><p>repeatable readï¼ˆmysqlé»˜è®¤éš”ç¦»çº§åˆ«ï¼‰</p><pre><code>ä¸€ä¸ªç”¨æˆ·åœ¨è¯»å–æ•°æ®çš„æ—¶å€™å¦‚æœå…¶ä»–ç”¨æˆ·å¯¹è¡¨æ•°æ®è¿›è¡Œåˆ é™¤å’Œæ·»åŠ æ“ä½œï¼Œå†æ¬¡è¯»å–åˆ°çš„è®°å½•æ¡æ•°ä¼šä¸ä¸€è‡´ã€‚</code></pre></li><li><p>serializable</p><pre><code>åœ¨è¯»å–çš„æ—¶å€™ä¸å…è®¸åˆ«äººä»»ä½•æ“ä½œ</code></pre></li></ul>]]></content>
      
      
      <categories>
          
          <category> æ•°æ®åº“ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ•°æ®åº“ </tag>
            
            <tag> MySQL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MySQLä¸­DCLç›¸å…³è¯­å¥çš„ä½¿ç”¨</title>
      <link href="/2019/07/08/mysql/MySQL%E4%B8%ADDCL%E7%9B%B8%E5%85%B3%E8%AF%AD%E5%8F%A5%E7%9A%84%E4%BD%BF%E7%94%A8/"/>
      <url>/2019/07/08/mysql/MySQL%E4%B8%ADDCL%E7%9B%B8%E5%85%B3%E8%AF%AD%E5%8F%A5%E7%9A%84%E4%BD%BF%E7%94%A8/</url>
      
        <content type="html"><![CDATA[<h1 id="åºè¨€"><a href="#åºè¨€" class="headerlink" title="åºè¨€"></a>åºè¨€</h1><p>â€‹    æˆ‘ä»¬ç°åœ¨é»˜è®¤ä½¿ç”¨çš„éƒ½æ˜¯ root ç”¨æˆ·ï¼Œè¶…çº§ç®¡ç†å‘˜ï¼Œæ‹¥æœ‰å…¨éƒ¨çš„æƒé™ã€‚ä½†æ˜¯ï¼Œä¸€ä¸ªå…¬å¸é‡Œé¢çš„æ•°æ®åº“æœåŠ¡å™¨ä¸Šé¢ å¯èƒ½åŒæ—¶è¿è¡Œç€å¾ˆå¤šä¸ªé¡¹ç›®çš„æ•°æ®åº“ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬åº”è¯¥å¯ä»¥æ ¹æ®ä¸åŒçš„é¡¹ç›®å»ºç«‹ä¸åŒçš„ç”¨æˆ·ï¼Œåˆ†é…ä¸åŒçš„æƒé™æ¥ç®¡ ç†å’Œç»´æŠ¤æ•°æ®åº“</p><h1 id="ç®¡ç†ç”¨æˆ·"><a href="#ç®¡ç†ç”¨æˆ·" class="headerlink" title="ç®¡ç†ç”¨æˆ·"></a>ç®¡ç†ç”¨æˆ·</h1><h2 id="æ·»åŠ ç”¨æˆ·"><a href="#æ·»åŠ ç”¨æˆ·" class="headerlink" title="æ·»åŠ ç”¨æˆ·"></a>æ·»åŠ ç”¨æˆ·</h2><p>è¯­æ³•ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">USER</span> <span class="string">'ç”¨æˆ·å'</span>@<span class="string">'ä¸»æœºå'</span> <span class="keyword">IDENTIFIED</span> <span class="keyword">BY</span> <span class="string">'å¯†ç '</span>;</span><br></pre></td></tr></table></figure><p>æ¼”ç¤º</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- åˆ›å»ºå¸å·hyl,å¯†ç 123456çš„ç”¨æˆ·ï¼Œè¯¥ç”¨æˆ·åªèƒ½åœ¨å½“å‰ç”µè„‘ç™»é™†æ•°æ®åº“</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">USER</span> <span class="string">'hyl'</span>@<span class="string">'localhost'</span> <span class="keyword">IDENTIFIED</span> <span class="keyword">BY</span> <span class="string">'123456'</span>;</span><br><span class="line"><span class="comment">-- åˆ›å»ºå¸å·hyl,å¯†ç 123456çš„ç”¨æˆ·ï¼Œè¯¥ç”¨æˆ·å¯ä»¥åœ¨ä»»æ„ç”µè„‘ç™»é™†æ•°æ®åº“,%è¡¨ç¤ºä»»æ„ç”µè„‘</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">USER</span> <span class="string">'hyl'</span>@<span class="string">'%'</span> <span class="keyword">IDENTIFIED</span> <span class="keyword">BY</span> <span class="string">'123456'</span>;</span><br></pre></td></tr></table></figure><h2 id="åˆ é™¤ç”¨æˆ·"><a href="#åˆ é™¤ç”¨æˆ·" class="headerlink" title="åˆ é™¤ç”¨æˆ·"></a>åˆ é™¤ç”¨æˆ·</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DROP</span> <span class="keyword">USER</span> <span class="string">'ç”¨æˆ·å'</span>@<span class="string">'ä¸»æœºå'</span>;</span><br></pre></td></tr></table></figure><h2 id="ä¿®æ”¹ç”¨æˆ·å¯†ç "><a href="#ä¿®æ”¹ç”¨æˆ·å¯†ç " class="headerlink" title="ä¿®æ”¹ç”¨æˆ·å¯†ç "></a>ä¿®æ”¹ç”¨æˆ·å¯†ç </h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">UPDATE</span> <span class="keyword">USER</span> <span class="keyword">SET</span> <span class="keyword">PASSWORD</span> = <span class="keyword">PASSWORD</span>(<span class="string">'æ–°å¯†ç '</span>) <span class="keyword">WHERE</span> <span class="keyword">USER</span> = <span class="string">'ç”¨æˆ·å'</span>;</span><br><span class="line"><span class="keyword">UPDATE</span> <span class="keyword">USER</span> <span class="keyword">SET</span> <span class="keyword">PASSWORD</span> = <span class="keyword">PASSWORD</span>(<span class="string">'abc'</span>) <span class="keyword">WHERE</span> <span class="keyword">USER</span> = <span class="string">'lisi'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">SET</span> <span class="keyword">PASSWORD</span> <span class="keyword">FOR</span> <span class="string">'ç”¨æˆ·å'</span>@<span class="string">'ä¸»æœºå'</span> = <span class="keyword">PASSWORD</span>(<span class="string">'æ–°å¯†ç '</span>);</span><br><span class="line"><span class="keyword">SET</span> <span class="keyword">PASSWORD</span> <span class="keyword">FOR</span> <span class="string">'root'</span>@<span class="string">'localhost'</span> = <span class="keyword">PASSWORD</span>(<span class="string">'123'</span>);</span><br></pre></td></tr></table></figure><h2 id="mysqlä¸­å¿˜è®°äº†rootç”¨æˆ·çš„å¯†ç "><a href="#mysqlä¸­å¿˜è®°äº†rootç”¨æˆ·çš„å¯†ç " class="headerlink" title="mysqlä¸­å¿˜è®°äº†rootç”¨æˆ·çš„å¯†ç "></a>mysqlä¸­å¿˜è®°äº†rootç”¨æˆ·çš„å¯†ç </h2><ol><li><p>cmd â€“ &gt; net stop mysql åœæ­¢mysqlæœåŠ¡[éœ€è¦ç®¡ç†å‘˜è¿è¡Œè¯¥cmd]</p></li><li><p>ä½¿ç”¨æ— éªŒè¯æ–¹å¼å¯åŠ¨mysqlæœåŠ¡ï¼š mysqld â€“skip-grant-tables</p></li><li><p>æ‰“å¼€æ–°çš„cmdçª—å£,ç›´æ¥è¾“å…¥mysqlå‘½ä»¤ï¼Œæ•²å›è½¦ã€‚å°±å¯ä»¥ç™»å½•æˆåŠŸ</p></li><li><p>use mysql;</p></li><li><p>update user set password = password(â€˜ä½ çš„æ–°å¯†ç â€™) where user = â€˜rootâ€™;</p></li><li><p>å…³é—­ä¸¤ä¸ªçª—å£</p></li><li><p>æ‰“å¼€ä»»åŠ¡ç®¡ç†å™¨ï¼Œæ‰‹åŠ¨ç»“æŸmysqld.exe çš„è¿›ç¨‹</p></li><li><p>å¯åŠ¨mysqlæœåŠ¡</p></li><li><p>ä½¿ç”¨æ–°å¯†ç ç™»å½•ã€‚</p></li><li><p>æŸ¥è¯¢ç”¨æˆ·ï¼š<br> â€“ 1. åˆ‡æ¢åˆ°mysqlæ•°æ®åº“<br> USE myql;<br> â€“ 2. æŸ¥è¯¢userè¡¨<br> SELECT * FROM USER;</p><ul><li>é€šé…ç¬¦ï¼š % è¡¨ç¤ºå¯ä»¥åœ¨ä»»æ„ä¸»æœºä½¿ç”¨ç”¨æˆ·ç™»å½•æ•°æ®åº“</li></ul></li></ol><h1 id="æƒé™ç®¡ç†"><a href="#æƒé™ç®¡ç†" class="headerlink" title="æƒé™ç®¡ç†"></a>æƒé™ç®¡ç†</h1><h2 id="æŸ¥è¯¢æƒé™ï¼š"><a href="#æŸ¥è¯¢æƒé™ï¼š" class="headerlink" title="æŸ¥è¯¢æƒé™ï¼š"></a>æŸ¥è¯¢æƒé™ï¼š</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SHOW</span> <span class="keyword">GRANTS</span> <span class="keyword">FOR</span> <span class="string">'ç”¨æˆ·å'</span>@<span class="string">'ä¸»æœºå'</span>;</span><br><span class="line"><span class="keyword">SHOW</span> <span class="keyword">GRANTS</span> <span class="keyword">FOR</span> <span class="string">'lisi'</span>@<span class="string">'%'</span>;</span><br></pre></td></tr></table></figure><h2 id="æˆäºˆæƒé™ï¼š"><a href="#æˆäºˆæƒé™ï¼š" class="headerlink" title="æˆäºˆæƒé™ï¼š"></a>æˆäºˆæƒé™ï¼š</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">grant</span> æƒé™åˆ—è¡¨ <span class="keyword">on</span> æ•°æ®åº“å.è¡¨å <span class="keyword">to</span> <span class="string">'ç”¨æˆ·å'</span>@<span class="string">'ä¸»æœºå'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ç»™å¼ ä¸‰ç”¨æˆ·æˆäºˆæ‰€æœ‰æƒé™ï¼Œåœ¨ä»»æ„æ•°æ®åº“ä»»æ„è¡¨ä¸Š</span></span><br><span class="line"><span class="keyword">GRANT</span> <span class="keyword">ALL</span> <span class="keyword">ON</span> *.* <span class="keyword">TO</span> <span class="string">'zhangsan'</span>@<span class="string">'localhost'</span>;</span><br></pre></td></tr></table></figure><h2 id="æ’¤é”€æƒé™ï¼š"><a href="#æ’¤é”€æƒé™ï¼š" class="headerlink" title="æ’¤é”€æƒé™ï¼š"></a>æ’¤é”€æƒé™ï¼š</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">revoke</span> æƒé™åˆ—è¡¨ <span class="keyword">on</span> æ•°æ®åº“å.è¡¨å <span class="keyword">from</span> <span class="string">'ç”¨æˆ·å'</span>@<span class="string">'ä¸»æœºå'</span>;</span><br><span class="line"><span class="keyword">REVOKE</span> <span class="keyword">UPDATE</span> <span class="keyword">ON</span> db3.<span class="string">`account`</span> <span class="keyword">FROM</span> <span class="string">'lisi'</span>@<span class="string">'%'</span>;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> æ•°æ®åº“ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ•°æ®åº“ </tag>
            
            <tag> MySQL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexo+giteeæ­å»ºä¸ªäººåšå®¢</title>
      <link href="/2019/07/06/gitee/hexo-gitee%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/"/>
      <url>/2019/07/06/gitee/hexo-gitee%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/</url>
      
        <content type="html"><![CDATA[<h2 id="ç¯å¢ƒæ­å»º"><a href="#ç¯å¢ƒæ­å»º" class="headerlink" title="ç¯å¢ƒæ­å»º"></a>ç¯å¢ƒæ­å»º</h2><h3 id="å®‰è£…Node-js"><a href="#å®‰è£…Node-js" class="headerlink" title="å®‰è£…Node.js"></a>å®‰è£…Node.js</h3><p>Windowsç”¨æˆ·è®¿é—®<a href="https://nodejs.org/en" target="_blank" rel="noopener">Node.js</a>ä¸‹è½½Node.jså®‰è£…åŒ…åï¼Œç›´æ¥è¿è¡Œå®‰è£…å³å¯(node.jsä¸‹è½½ä¹Ÿå¾ˆæ…¢ï¼Œæœ€å¥½ç¿»å¢™)ã€‚å®‰è£…åï¼Œæ›´æ¢ä¸‹npmçš„æºï¼Œå¦åˆ™ä¸‹è½½é€Ÿåº¦ç€å®è®©äººç€æ€¥ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm config set registry http://registry.npm.taobao.org/</span><br></pre></td></tr></table></figure><h3 id="Hexoå®‰è£…"><a href="#Hexoå®‰è£…" class="headerlink" title="Hexoå®‰è£…"></a>Hexoå®‰è£…</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install -g hexo-cli</span><br></pre></td></tr></table></figure><p>Hexoçš„åŸºæœ¬ä½¿ç”¨è¯·æŸ¥çœ‹hello-worldæ–‡ä¸­æ‰€å†™ã€‚</p><h3 id="æœ¬åœ°è¿è¡ŒHexo"><a href="#æœ¬åœ°è¿è¡ŒHexo" class="headerlink" title="æœ¬åœ°è¿è¡ŒHexo"></a>æœ¬åœ°è¿è¡ŒHexo</h3><p>åœ¨æœ¬åœ°é€‰ä¸­ä¸€ä¸ªç©ºæ–‡ä»¶å¤¹ï¼ˆä¸€å®šè¦æ˜¯ç©ºæ–‡ä»¶å¤¹ï¼ï¼ï¼‰ï¼Œåœ¨ç©ºæ–‡ä»¶ä¸­æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼Œç”ŸæˆHexoè¿è¡Œæ‰€éœ€è¦çš„æ–‡ä»¶ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo init</span><br></pre></td></tr></table></figure><p>åˆå§‹åŒ–åï¼Œæ–‡ä»¶å¤¹çš„ç›®å½•å¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">â”œâ”€â”€ .deploy       #éœ€è¦éƒ¨ç½²çš„æ–‡ä»¶</span><br><span class="line">â”œâ”€â”€ node_modules  #Hexoæ’ä»¶</span><br><span class="line">â”œâ”€â”€ public        #ç”Ÿæˆçš„é™æ€ç½‘é¡µæ–‡ä»¶</span><br><span class="line">â”œâ”€â”€ scaffolds     #æ¨¡æ¿</span><br><span class="line">â”œâ”€â”€ source        #åšå®¢æ­£æ–‡å’Œå…¶ä»–æºæ–‡ä»¶ç­‰éƒ½åº”è¯¥æ”¾åœ¨è¿™é‡Œ</span><br><span class="line">|   â”œâ”€â”€ _drafts   #è‰ç¨¿</span><br><span class="line">|   â””â”€â”€ _posts    #æ–‡ç« </span><br><span class="line">â”œâ”€â”€ themes        #ä¸»é¢˜</span><br><span class="line">â”œâ”€â”€ _config.yml   #å…¨å±€é…ç½®æ–‡ä»¶</span><br><span class="line">â””â”€â”€ package.json</span><br></pre></td></tr></table></figure><p>ä¹‹ååœ¨æœ¬åœ°æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤åï¼Œå³å¯è®¿é—® <a href="http://localhost:4000/" target="_blank" rel="noopener">http://localhost:4000</a> è®¿é—®Hexoé¡µé¢</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo s</span><br></pre></td></tr></table></figure><h3 id="Gitå®‰è£…"><a href="#Gitå®‰è£…" class="headerlink" title="Gitå®‰è£…"></a>Gitå®‰è£…</h3><p><a href="https://git-scm.com/downloads" target="_blank" rel="noopener">Gitå®‰è£…åŒ…åœ°å€</a>,æ ¹æ®æ“ä½œç³»ç»Ÿé€‰æ‹©å®‰è£…åŒ…ä¸‹è½½åå®‰è£…å³å¯ã€‚</p><h3 id="æ³¨å†Œç äº‘è´¦å·ï¼Œå¹¶åˆ›å»ºä¸€ä¸ªé¡¹ç›®"><a href="#æ³¨å†Œç äº‘è´¦å·ï¼Œå¹¶åˆ›å»ºä¸€ä¸ªé¡¹ç›®" class="headerlink" title="æ³¨å†Œç äº‘è´¦å·ï¼Œå¹¶åˆ›å»ºä¸€ä¸ªé¡¹ç›®"></a>æ³¨å†Œç äº‘è´¦å·ï¼Œå¹¶åˆ›å»ºä¸€ä¸ªé¡¹ç›®</h3><p><img src="//haoyongliang.gitee.io/2019/07/06/gitee/hexo-giteeæ­å»ºä¸ªäººåšå®¢/01.png" alt></p><p><img src="//haoyongliang.gitee.io/2019/07/06/gitee/hexo-giteeæ­å»ºä¸ªäººåšå®¢/02.png" alt></p><h3 id="è·å–é¡¹ç›®åœ°å€"><a href="#è·å–é¡¹ç›®åœ°å€" class="headerlink" title="è·å–é¡¹ç›®åœ°å€"></a>è·å–é¡¹ç›®åœ°å€</h3><p><img src="//haoyongliang.gitee.io/2019/07/06/gitee/hexo-giteeæ­å»ºä¸ªäººåšå®¢/03.png" alt></p><h2 id="å‘å¸ƒåšå®¢"><a href="#å‘å¸ƒåšå®¢" class="headerlink" title="å‘å¸ƒåšå®¢"></a>å‘å¸ƒåšå®¢</h2><h3 id="ä¿®æ”¹Hexoé…ç½®æ–‡ä»¶-config-yml"><a href="#ä¿®æ”¹Hexoé…ç½®æ–‡ä»¶-config-yml" class="headerlink" title="ä¿®æ”¹Hexoé…ç½®æ–‡ä»¶_config.yml"></a>ä¿®æ”¹Hexoé…ç½®æ–‡ä»¶_config.yml</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">deploy:</span><br><span class="line">type: git</span><br><span class="line">repo: ç äº‘çš„é¡¹ç›®åœ°å€</span><br><span class="line">branch: master</span><br></pre></td></tr></table></figure><h3 id="éƒ¨ç½²åšå®¢"><a href="#éƒ¨ç½²åšå®¢" class="headerlink" title="éƒ¨ç½²åšå®¢"></a>éƒ¨ç½²åšå®¢</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ npm install hexo-deployer-git --save </span><br><span class="line">$ hexo g #ç¼–è¯‘ ä¸€é”®éƒ¨ç½²å¯èƒ½å¤±è´¥ï¼Œå…ˆç¼–è¯‘</span><br><span class="line">$ hexo g --d  #ä¸€é”®éƒ¨ç½²</span><br><span class="line"></span><br><span class="line">#æœ¬åœ°æµ‹è¯•ç¯å¢ƒ</span><br><span class="line">$ hexo g #ç¼–è¯‘åˆ°æœ¬åœ°</span><br><span class="line">$ hexo s #å¯åŠ¨æœåŠ¡å™¨</span><br></pre></td></tr></table></figure><p>æ­¤æ—¶ä¼šå¼¹å‡ºä¸€ä¸ªå¯¹è¯æ¡†ï¼Œæç¤ºè¾“å…¥ç äº‘çš„è´¦å·å¯†ç ã€‚éƒ¨ç½²æˆåŠŸåï¼Œç™»é™†ç äº‘ã€‚æ­¤æ—¶æœ¬åœ°æ–‡ä»¶å¤¹ä¸­å‡ºç°æœ‰ä¸€ä¸ªpublicæ–‡ä»¶å¤¹ï¼Œä»£è¡¨éƒ¨ç½²æˆåŠŸã€‚</p><h3 id="å¼€å¯PageåŠŸèƒ½"><a href="#å¼€å¯PageåŠŸèƒ½" class="headerlink" title="å¼€å¯PageåŠŸèƒ½"></a>å¼€å¯PageåŠŸèƒ½</h3><p><img src="//haoyongliang.gitee.io/2019/07/06/gitee/hexo-giteeæ­å»ºä¸ªäººåšå®¢/04.png" alt></p><p><img src="//haoyongliang.gitee.io/2019/07/06/gitee/hexo-giteeæ­å»ºä¸ªäººåšå®¢/05.png" alt></p><p><img src="//haoyongliang.gitee.io/2019/07/06/gitee/hexo-giteeæ­å»ºä¸ªäººåšå®¢/06.png" alt></p><h3 id="è®¿é—®åšå®¢"><a href="#è®¿é—®åšå®¢" class="headerlink" title="è®¿é—®åšå®¢"></a>è®¿é—®åšå®¢</h3><p>åœ¨æµè§ˆå™¨åœ°å€æ è¾“å…¥ä¸Šå›¾ä¸­çš„åšå®¢åœ°å€ï¼Œå³å¯è®¿é—®ï¼Œæ•ˆæœå›¾å¦‚ä¸‹ï¼š</p><p><img src="//haoyongliang.gitee.io/2019/07/06/gitee/hexo-giteeæ­å»ºä¸ªäººåšå®¢/07.png" alt></p><h2 id="åšå®¢ä½¿ç”¨çš„ä¸»é¢˜"><a href="#åšå®¢ä½¿ç”¨çš„ä¸»é¢˜" class="headerlink" title="åšå®¢ä½¿ç”¨çš„ä¸»é¢˜"></a>åšå®¢ä½¿ç”¨çš„ä¸»é¢˜</h2><p><a href="https://jerryc.me/archives/" target="_blank" rel="noopener">https://jerryc.me/archives/</a></p><h2 id="åšå®¢å†…å®¹ç¼–å†™"><a href="#åšå®¢å†…å®¹ç¼–å†™" class="headerlink" title="åšå®¢å†…å®¹ç¼–å†™"></a>åšå®¢å†…å®¹ç¼–å†™</h2><p>åœ¨åšå®¢ç›®å½•çš„sourceæ–‡ä»¶ä¸­çš„_postæ–‡ä»¶å¤¹ä¸­æ·»åŠ ä½ è¦å†™çš„åšå®¢æ–‡ä»¶ï¼Œæ–‡ä»¶å‘½åä¸º<code>file_name.md</code><br><code>file_name.md</code>çš„æ–‡ä»¶å¼€å¤´å¦‚ä¸‹:</p><p>ç¼©ç•¥å›¾å¯ä»¥å…ˆå‘å¸ƒåšå®¢ï¼Œåœ¨ä»åšå®¢ä¸Šå¤åˆ¶é“¾æ¥ï¼Œç„¶åé‡æ–°éƒ¨ç½²å³å¯</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: hexo+giteeæ­å»ºä¸ªäººåšå®¢</span><br><span class="line">date: 2019-07-06 13:26:55</span><br><span class="line">tags: [åšå®¢æ­å»º,gitee]</span><br><span class="line">categories: gitee</span><br><span class="line">author: éƒæ°¸äº®</span><br><span class="line">top_img: https://haoyongliang.gitee.io/2019/07/06/hexo-gitee%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/01.jpg</span><br><span class="line">cover:  https://haoyongliang.gitee.io/2019/07/06/hexo-gitee%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/01.jpg</span><br><span class="line">---</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> gitee </category>
          
      </categories>
      
      
        <tags>
            
            <tag> åšå®¢æ­å»º </tag>
            
            <tag> gitee </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åˆ†å¸ƒå¼RPCæ¡†æ¶Apache Dubbo</title>
      <link href="/2019/07/05/dubble/ApacheDubbo/"/>
      <url>/2019/07/05/dubble/ApacheDubbo/</url>
      
        <content type="html"><![CDATA[<blockquote><p>èµ„æ–™ä¸‹è½½åœ°å€<a href="https://download.csdn.net/download/haoyongliang8888/11368711" target="_blank" rel="noopener">https://download.csdn.net/download/haoyongliang8888/11368711</a></p></blockquote><h2 id="1-è½¯ä»¶æ¶æ„çš„æ¼”è¿›è¿‡ç¨‹"><a href="#1-è½¯ä»¶æ¶æ„çš„æ¼”è¿›è¿‡ç¨‹" class="headerlink" title="1. è½¯ä»¶æ¶æ„çš„æ¼”è¿›è¿‡ç¨‹"></a>1. è½¯ä»¶æ¶æ„çš„æ¼”è¿›è¿‡ç¨‹</h2><p>è½¯ä»¶æ¶æ„çš„å‘å±•ç»å†äº†ç”±å•ä½“æ¶æ„ã€å‚ç›´æ¶æ„ã€SOAæ¶æ„åˆ°å¾®æœåŠ¡æ¶æ„çš„æ¼”è¿›è¿‡ç¨‹ï¼Œä¸‹é¢æˆ‘ä»¬åˆ†åˆ«äº†è§£ä¸€ä¸‹è¿™å‡ ä¸ªæ¶æ„ã€‚</p><h3 id="1-1-å•ä½“æ¶æ„"><a href="#1-1-å•ä½“æ¶æ„" class="headerlink" title="1.1 å•ä½“æ¶æ„"></a>1.1 å•ä½“æ¶æ„</h3><p><img src="//haoyongliang.gitee.io/2019/07/05/dubble/ApacheDubbo/1.png" alt></p><p>æ¶æ„è¯´æ˜ï¼š</p><p>â€‹      å…¨éƒ¨åŠŸèƒ½é›†ä¸­åœ¨ä¸€ä¸ªé¡¹ç›®å†…ï¼ˆAll in oneï¼‰ã€‚</p><p>æ¶æ„ä¼˜ç‚¹ï¼š</p><p>â€‹      æ¶æ„ç®€å•ï¼Œå‰æœŸå¼€å‘æˆæœ¬ä½ã€å¼€å‘å‘¨æœŸçŸ­ï¼Œé€‚åˆå°å‹é¡¹ç›®ã€‚</p><p>æ¶æ„ç¼ºç‚¹ï¼š</p><p>â€‹       å…¨éƒ¨åŠŸèƒ½é›†æˆåœ¨ä¸€ä¸ªå·¥ç¨‹ä¸­ï¼Œå¯¹äºå¤§å‹é¡¹ç›®ä¸æ˜“å¼€å‘ã€æ‰©å±•å’Œç»´æŠ¤ã€‚</p><p>â€‹       æŠ€æœ¯æ ˆå—é™ï¼Œåªèƒ½ä½¿ç”¨ä¸€ç§è¯­è¨€å¼€å‘ã€‚</p><p>â€‹       ç³»ç»Ÿæ€§èƒ½æ‰©å±•åªèƒ½é€šè¿‡æ‰©å±•é›†ç¾¤èŠ‚ç‚¹ï¼Œæˆæœ¬é«˜ã€‚</p><h3 id="1-2-å‚ç›´æ¶æ„"><a href="#1-2-å‚ç›´æ¶æ„" class="headerlink" title="1.2 å‚ç›´æ¶æ„"></a>1.2 å‚ç›´æ¶æ„</h3><p><img src="//haoyongliang.gitee.io/2019/07/05/dubble/ApacheDubbo/18.png" alt="18"></p><p>æ¶æ„è¯´æ˜ï¼š       </p><p>â€‹      æŒ‰ç…§ä¸šåŠ¡è¿›è¡Œåˆ‡å‰²ï¼Œå½¢æˆå°çš„å•ä½“é¡¹ç›®ã€‚</p><p>æ¶æ„ä¼˜ç‚¹ï¼š</p><p>â€‹      æŠ€æœ¯æ ˆå¯æ‰©å±•ï¼ˆä¸åŒçš„ç³»ç»Ÿå¯ä»¥ç”¨ä¸åŒçš„ç¼–ç¨‹è¯­è¨€ç¼–å†™ï¼‰ã€‚</p><p>æ¶æ„ç¼ºç‚¹ï¼š</p><p>â€‹       åŠŸèƒ½é›†ä¸­åœ¨ä¸€ä¸ªé¡¹ç›®ä¸­ï¼Œä¸åˆ©äºå¼€å‘ã€æ‰©å±•ã€ç»´æŠ¤ã€‚</p><p>â€‹       ç³»ç»Ÿæ‰©å¼ åªèƒ½é€šè¿‡é›†ç¾¤çš„æ–¹å¼ã€‚</p><p>â€‹       é¡¹ç›®ä¹‹é—´åŠŸèƒ½å†—ä½™ã€æ•°æ®å†—ä½™ã€è€¦åˆæ€§å¼ºã€‚</p><h3 id="1-3-SOAæ¶æ„"><a href="#1-3-SOAæ¶æ„" class="headerlink" title="1.3 SOAæ¶æ„"></a>1.3 SOAæ¶æ„</h3><p>SOAå…¨ç§°ä¸ºService-Oriented Architectureï¼Œå³é¢å‘æœåŠ¡çš„æ¶æ„ã€‚å®ƒå¯ä»¥æ ¹æ®éœ€æ±‚é€šè¿‡ç½‘ç»œå¯¹æ¾æ•£è€¦åˆçš„ç²—ç²’åº¦åº”ç”¨ç»„ä»¶(æœåŠ¡)è¿›è¡Œåˆ†å¸ƒå¼éƒ¨ç½²ã€ç»„åˆå’Œä½¿ç”¨ã€‚ä¸€ä¸ªæœåŠ¡é€šå¸¸ä»¥ç‹¬ç«‹çš„å½¢å¼å­˜åœ¨äºæ“ä½œç³»ç»Ÿè¿›ç¨‹ä¸­ã€‚</p><p>ç«™åœ¨åŠŸèƒ½çš„è§’åº¦ï¼ŒæŠŠä¸šåŠ¡é€»è¾‘æŠ½è±¡æˆå¯å¤ç”¨çš„æœåŠ¡ï¼Œé€šè¿‡æœåŠ¡çš„ç¼–æ’å®ç°ä¸šåŠ¡çš„å¿«é€Ÿå†ç”Ÿï¼Œç›®çš„ï¼šæŠŠåŸå…ˆå›ºæœ‰çš„ä¸šåŠ¡åŠŸèƒ½è½¬å˜ä¸ºé€šç”¨çš„ä¸šåŠ¡æœåŠ¡ï¼Œå®ç°ä¸šåŠ¡é€»è¾‘çš„å¿«é€Ÿå¤ç”¨ã€‚</p><p><img src="//haoyongliang.gitee.io/2019/07/05/dubble/ApacheDubbo/19.png" alt="19"></p><p>æ¶æ„è¯´æ˜ï¼š</p><p>â€‹      å°†é‡å¤åŠŸèƒ½æˆ–æ¨¡å—æŠ½å–æˆç»„ä»¶çš„å½¢å¼ï¼Œå¯¹å¤–æä¾›æœåŠ¡ï¼Œåœ¨é¡¹ç›®ä¸æœåŠ¡ä¹‹é—´ä½¿ç”¨ESBï¼ˆä¼ä¸šæœåŠ¡æ€»çº¿ï¼‰çš„å½¢å¼ä½œä¸ºé€šä¿¡çš„æ¡¥æ¢ã€‚</p><p>æ¶æ„ä¼˜ç‚¹ï¼š</p><p>â€‹       é‡å¤åŠŸèƒ½æˆ–æ¨¡å—æŠ½å–ä¸ºæœåŠ¡ï¼Œæé«˜å¼€å‘æ•ˆç‡ã€‚</p><p>â€‹       å¯é‡ç”¨æ€§é«˜ã€‚</p><p>â€‹       å¯ç»´æŠ¤æ€§é«˜ã€‚</p><p>æ¶æ„ç¼ºç‚¹ï¼š</p><p>â€‹       å„ç³»ç»Ÿä¹‹é—´ä¸šåŠ¡ä¸åŒï¼Œå¾ˆéš¾ç¡®è®¤åŠŸèƒ½æˆ–æ¨¡å—æ˜¯é‡å¤çš„ã€‚</p><p>â€‹       æŠ½å–æœåŠ¡çš„ç²’åº¦å¤§ã€‚</p><p>â€‹       ç³»ç»Ÿå’ŒæœåŠ¡ä¹‹é—´è€¦åˆåº¦é«˜ã€‚</p><h3 id="1-4-å¾®æœåŠ¡æ¶æ„"><a href="#1-4-å¾®æœåŠ¡æ¶æ„" class="headerlink" title="1.4 å¾®æœåŠ¡æ¶æ„"></a>1.4 å¾®æœåŠ¡æ¶æ„</h3><p><img src="//haoyongliang.gitee.io/2019/07/05/dubble/ApacheDubbo/20.png" alt="20"></p><p>æ¶æ„è¯´æ˜ï¼š</p><p>â€‹       å°†ç³»ç»ŸæœåŠ¡å±‚å®Œå…¨ç‹¬ç«‹å‡ºæ¥ï¼ŒæŠ½å–ä¸ºä¸€ä¸ªä¸€ä¸ªçš„å¾®æœåŠ¡ã€‚</p><p>â€‹       æŠ½å–çš„ç²’åº¦æ›´ç»†ï¼Œéµå¾ªå•ä¸€åŸåˆ™ã€‚</p><p>â€‹       é‡‡ç”¨è½»é‡çº§æ¡†æ¶åè®®ä¼ è¾“ã€‚</p><p>æ¶æ„ä¼˜ç‚¹ï¼š</p><p>â€‹       æœåŠ¡æ‹†åˆ†ç²’åº¦æ›´ç»†ï¼Œæœ‰åˆ©äºæé«˜å¼€å‘æ•ˆç‡ã€‚ </p><p>â€‹       å¯ä»¥é’ˆå¯¹ä¸åŒæœåŠ¡åˆ¶å®šå¯¹åº”çš„ä¼˜åŒ–æ–¹æ¡ˆã€‚</p><p>â€‹       é€‚ç”¨äºäº’è”ç½‘æ—¶ä»£ï¼Œäº§å“è¿­ä»£å‘¨æœŸæ›´çŸ­ã€‚</p><p>æ¶æ„ç¼ºç‚¹ï¼š</p><p>â€‹      ç²’åº¦å¤ªç»†å¯¼è‡´æœåŠ¡å¤ªå¤šï¼Œç»´æŠ¤æˆæœ¬é«˜ã€‚</p><p>â€‹      åˆ†å¸ƒå¼ç³»ç»Ÿå¼€å‘çš„æŠ€æœ¯æˆæœ¬é«˜ï¼Œå¯¹å›¢é˜Ÿçš„æŒ‘æˆ˜å¤§ã€‚</p><h2 id="2-Apache-Dubboæ¦‚è¿°"><a href="#2-Apache-Dubboæ¦‚è¿°" class="headerlink" title="2. Apache Dubboæ¦‚è¿°"></a>2. Apache Dubboæ¦‚è¿°</h2><h3 id="2-1-Dubboç®€ä»‹"><a href="#2-1-Dubboç®€ä»‹" class="headerlink" title="2.1 Dubboç®€ä»‹"></a>2.1 Dubboç®€ä»‹</h3><p>Apache Dubboæ˜¯ä¸€æ¬¾é«˜æ€§èƒ½çš„Java RPCæ¡†æ¶ã€‚å…¶å‰èº«æ˜¯é˜¿é‡Œå·´å·´å…¬å¸å¼€æºçš„ä¸€ä¸ªé«˜æ€§èƒ½ã€è½»é‡çº§çš„å¼€æºJava RPCæ¡†æ¶ï¼Œå¯ä»¥å’ŒSpringæ¡†æ¶æ— ç¼é›†æˆã€‚</p><p><strong>ä»€ä¹ˆæ˜¯RPCï¼Ÿ</strong></p><p>RPCå…¨ç§°ä¸ºremote procedure callï¼Œå³<strong>è¿œç¨‹è¿‡ç¨‹è°ƒç”¨</strong>ã€‚æ¯”å¦‚ä¸¤å°æœåŠ¡å™¨Aå’ŒBï¼ŒAæœåŠ¡å™¨ä¸Šéƒ¨ç½²ä¸€ä¸ªåº”ç”¨ï¼ŒBæœåŠ¡å™¨ä¸Šéƒ¨ç½²ä¸€ä¸ªåº”ç”¨ï¼ŒAæœåŠ¡å™¨ä¸Šçš„åº”ç”¨æƒ³è°ƒç”¨BæœåŠ¡å™¨ä¸Šçš„åº”ç”¨æä¾›çš„æ–¹æ³•ï¼Œç”±äºä¸¤ä¸ªåº”ç”¨ä¸åœ¨ä¸€ä¸ªå†…å­˜ç©ºé—´ï¼Œä¸èƒ½ç›´æ¥è°ƒç”¨ï¼Œæ‰€ä»¥éœ€è¦é€šè¿‡ç½‘ç»œæ¥è¡¨è¾¾è°ƒç”¨çš„è¯­ä¹‰å’Œä¼ è¾¾è°ƒç”¨çš„æ•°æ®ã€‚</p><p>éœ€è¦æ³¨æ„çš„æ˜¯RPCå¹¶ä¸æ˜¯ä¸€ä¸ªå…·ä½“çš„æŠ€æœ¯ï¼Œè€Œæ˜¯æŒ‡æ•´ä¸ªç½‘ç»œè¿œç¨‹è°ƒç”¨è¿‡ç¨‹ã€‚</p><p>RPCæ˜¯ä¸€ä¸ªæ³›åŒ–çš„æ¦‚å¿µï¼Œä¸¥æ ¼æ¥è¯´ä¸€åˆ‡è¿œç¨‹è¿‡ç¨‹è°ƒç”¨æ‰‹æ®µéƒ½å±äºRPCèŒƒç•´ã€‚å„ç§å¼€å‘è¯­è¨€éƒ½æœ‰è‡ªå·±çš„RPCæ¡†æ¶ã€‚Javaä¸­çš„RPCæ¡†æ¶æ¯”è¾ƒå¤šï¼Œå¹¿æ³›ä½¿ç”¨çš„æœ‰RMIã€Hessianã€Dubboç­‰ã€‚</p><p>Dubboå®˜ç½‘åœ°å€ï¼š<a href="http://dubbo.apache.org" target="_blank" rel="noopener">http://dubbo.apache.org</a></p><p>Dubboæä¾›äº†ä¸‰å¤§æ ¸å¿ƒèƒ½åŠ›ï¼šé¢å‘æ¥å£çš„è¿œç¨‹æ–¹æ³•è°ƒç”¨ï¼Œæ™ºèƒ½å®¹é”™å’Œè´Ÿè½½å‡è¡¡ï¼Œä»¥åŠæœåŠ¡è‡ªåŠ¨æ³¨å†Œå’Œå‘ç°ã€‚</p><h3 id="2-2-Dubboæ¶æ„"><a href="#2-2-Dubboæ¶æ„" class="headerlink" title="2.2 Dubboæ¶æ„"></a>2.2 Dubboæ¶æ„</h3><p>Dubboæ¶æ„å›¾ï¼ˆDubboå®˜æ–¹æä¾›ï¼‰å¦‚ä¸‹ï¼š</p><p><img src="//haoyongliang.gitee.io/2019/07/05/dubble/ApacheDubbo/2.png" alt="2"></p><p>èŠ‚ç‚¹è§’è‰²è¯´æ˜ï¼š</p><table><thead><tr><th>èŠ‚ç‚¹</th><th>è§’è‰²åç§°</th></tr></thead><tbody><tr><td>Provider</td><td>æš´éœ²æœåŠ¡çš„æœåŠ¡æä¾›æ–¹</td></tr><tr><td>Consumer</td><td>è°ƒç”¨è¿œç¨‹æœåŠ¡çš„æœåŠ¡æ¶ˆè´¹æ–¹</td></tr><tr><td>Registry</td><td>æœåŠ¡æ³¨å†Œä¸å‘ç°çš„æ³¨å†Œä¸­å¿ƒ</td></tr><tr><td>Monitor</td><td>ç»Ÿè®¡æœåŠ¡çš„è°ƒç”¨æ¬¡æ•°å’Œè°ƒç”¨æ—¶é—´çš„ç›‘æ§ä¸­å¿ƒ</td></tr><tr><td>Container</td><td>æœåŠ¡è¿è¡Œå®¹å™¨</td></tr></tbody></table><p>è™šçº¿éƒ½æ˜¯å¼‚æ­¥è®¿é—®ï¼Œå®çº¿éƒ½æ˜¯åŒæ­¥è®¿é—®<br>è“è‰²è™šçº¿:åœ¨å¯åŠ¨æ—¶å®Œæˆçš„åŠŸèƒ½<br>çº¢è‰²è™šçº¿(å®çº¿)éƒ½æ˜¯ç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­æ‰§è¡Œçš„åŠŸèƒ½</p><p>è°ƒç”¨å…³ç³»è¯´æ˜:</p><ol start="0"><li>æœåŠ¡å®¹å™¨è´Ÿè´£å¯åŠ¨ï¼ŒåŠ è½½ï¼Œè¿è¡ŒæœåŠ¡æä¾›è€…ã€‚</li><li>æœåŠ¡æä¾›è€…åœ¨å¯åŠ¨æ—¶ï¼Œå‘æ³¨å†Œä¸­å¿ƒæ³¨å†Œè‡ªå·±æä¾›çš„æœåŠ¡ã€‚</li><li>æœåŠ¡æ¶ˆè´¹è€…åœ¨å¯åŠ¨æ—¶ï¼Œå‘æ³¨å†Œä¸­å¿ƒè®¢é˜…è‡ªå·±æ‰€éœ€çš„æœåŠ¡ã€‚</li><li>æ³¨å†Œä¸­å¿ƒè¿”å›æœåŠ¡æä¾›è€…åœ°å€åˆ—è¡¨ç»™æ¶ˆè´¹è€…ï¼Œå¦‚æœæœ‰å˜æ›´ï¼Œæ³¨å†Œä¸­å¿ƒå°†åŸºäºé•¿è¿æ¥æ¨é€å˜æ›´æ•°æ®ç»™æ¶ˆè´¹è€…ã€‚</li><li>æœåŠ¡æ¶ˆè´¹è€…ï¼Œä»æä¾›è€…åœ°å€åˆ—è¡¨ä¸­ï¼ŒåŸºäºè½¯è´Ÿè½½å‡è¡¡ç®—æ³•ï¼Œé€‰ä¸€å°æä¾›è€…è¿›è¡Œè°ƒç”¨ï¼Œå¦‚æœè°ƒç”¨å¤±è´¥ï¼Œå†é€‰å¦ä¸€å°è°ƒç”¨ã€‚</li><li>æœåŠ¡æ¶ˆè´¹è€…å’Œæä¾›è€…ï¼Œåœ¨å†…å­˜ä¸­ç´¯è®¡è°ƒç”¨æ¬¡æ•°å’Œè°ƒç”¨æ—¶é—´ï¼Œå®šæ—¶æ¯åˆ†é’Ÿå‘é€ä¸€æ¬¡ç»Ÿè®¡æ•°æ®åˆ°ç›‘æ§ä¸­å¿ƒã€‚</li></ol><h2 id="3-æœåŠ¡æ³¨å†Œä¸­å¿ƒZookeeper"><a href="#3-æœåŠ¡æ³¨å†Œä¸­å¿ƒZookeeper" class="headerlink" title="3. æœåŠ¡æ³¨å†Œä¸­å¿ƒZookeeper"></a>3. æœåŠ¡æ³¨å†Œä¸­å¿ƒZookeeper</h2><p>é€šè¿‡å‰é¢çš„Dubboæ¶æ„å›¾å¯ä»¥çœ‹åˆ°ï¼ŒRegistryï¼ˆæœåŠ¡æ³¨å†Œä¸­å¿ƒï¼‰åœ¨å…¶ä¸­èµ·ç€è‡³å…³é‡è¦çš„ä½œç”¨ã€‚Dubboå®˜æ–¹æ¨èä½¿ç”¨Zookeeperä½œä¸ºæœåŠ¡æ³¨å†Œä¸­å¿ƒã€‚</p><h3 id="3-1-Zookeeperä»‹ç»"><a href="#3-1-Zookeeperä»‹ç»" class="headerlink" title="3.1 Zookeeperä»‹ç»"></a>3.1 Zookeeperä»‹ç»</h3><p>Zookeeper æ˜¯ Apache Hadoop çš„å­é¡¹ç›®ï¼Œæ˜¯ä¸€ä¸ªæ ‘å‹çš„ç›®å½•æœåŠ¡ï¼Œæ”¯æŒå˜æ›´æ¨é€ï¼Œé€‚åˆä½œä¸º Dubbo æœåŠ¡çš„æ³¨å†Œä¸­å¿ƒï¼Œå·¥ä¸šå¼ºåº¦è¾ƒé«˜ï¼Œå¯ç”¨äºç”Ÿäº§ç¯å¢ƒï¼Œå¹¶æ¨èä½¿ç”¨ ã€‚</p><p>ä¸ºäº†ä¾¿äºç†è§£Zookeeperçš„æ ‘å‹ç›®å½•æœåŠ¡ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸‹æˆ‘ä»¬ç”µè„‘çš„æ–‡ä»¶ç³»ç»Ÿ(ä¹Ÿæ˜¯ä¸€ä¸ªæ ‘å‹ç›®å½•ç»“æ„)ï¼š</p><p><img src="//haoyongliang.gitee.io/2019/07/05/dubble/ApacheDubbo/4.png" alt="4"></p><p>æˆ‘çš„ç”µè„‘å¯ä»¥åˆ†ä¸ºå¤šä¸ªç›˜ç¬¦ï¼ˆä¾‹å¦‚Cã€Dã€Eç­‰ï¼‰ï¼Œæ¯ä¸ªç›˜ç¬¦ä¸‹å¯ä»¥åˆ›å»ºå¤šä¸ªç›®å½•ï¼Œæ¯ä¸ªç›®å½•ä¸‹é¢å¯ä»¥åˆ›å»ºæ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥åˆ›å»ºå­ç›®å½•ï¼Œæœ€ç»ˆæ„æˆäº†ä¸€ä¸ªæ ‘å‹ç»“æ„ã€‚é€šè¿‡è¿™ç§æ ‘å‹ç»“æ„çš„ç›®å½•ï¼Œæˆ‘ä»¬å¯ä»¥å°†æ–‡ä»¶åˆ†é—¨åˆ«ç±»çš„è¿›è¡Œå­˜æ”¾ï¼Œæ–¹ä¾¿æˆ‘ä»¬åæœŸæŸ¥æ‰¾ã€‚è€Œä¸”ç£ç›˜ä¸Šçš„æ¯ä¸ªæ–‡ä»¶éƒ½æœ‰ä¸€ä¸ªå”¯ä¸€çš„è®¿é—®è·¯å¾„ï¼Œä¾‹å¦‚ï¼šC:\Windows\itcast\hello.txtã€‚</p><p>Zookeeperæ ‘å‹ç›®å½•æœåŠ¡ï¼š</p><p><img src="//haoyongliang.gitee.io/2019/07/05/dubble/ApacheDubbo/3.png" alt="3"></p><p>æµç¨‹è¯´æ˜ï¼š</p><ul><li>æœåŠ¡æä¾›è€…(Provider)å¯åŠ¨æ—¶: å‘ <code>/dubbo/com.foo.BarService/providers</code> ç›®å½•ä¸‹å†™å…¥è‡ªå·±çš„ URL åœ°å€</li><li>æœåŠ¡æ¶ˆè´¹è€…(Consumer)å¯åŠ¨æ—¶: è®¢é˜… <code>/dubbo/com.foo.BarService/providers</code> ç›®å½•ä¸‹çš„æä¾›è€… URL åœ°å€ã€‚å¹¶å‘ <code>/dubbo/com.foo.BarService/consumers</code> ç›®å½•ä¸‹å†™å…¥è‡ªå·±çš„ URL åœ°å€</li><li>ç›‘æ§ä¸­å¿ƒ(Monitor)å¯åŠ¨æ—¶: è®¢é˜… <code>/dubbo/com.foo.BarService</code> ç›®å½•ä¸‹çš„æ‰€æœ‰æä¾›è€…å’Œæ¶ˆè´¹è€… URL åœ°å€</li></ul><h3 id="3-2-å®‰è£…Zookeeper"><a href="#3-2-å®‰è£…Zookeeper" class="headerlink" title="3.2 å®‰è£…Zookeeper"></a>3.2 å®‰è£…Zookeeper</h3><p>ä¸‹è½½åœ°å€ï¼š<a href="http://archive.apache.org/dist/zookeeper/" target="_blank" rel="noopener">http://archive.apache.org/dist/zookeeper/</a></p><p>æœ¬è¯¾ç¨‹ä½¿ç”¨çš„Zookeeperç‰ˆæœ¬ä¸º3.4.6ï¼Œä¸‹è½½å®Œæˆåå¯ä»¥è·å¾—åç§°ä¸ºzookeeper-3.4.6.tar.gzçš„å‹ç¼©æ–‡ä»¶ã€‚</p><p>å®‰è£…æ­¥éª¤ï¼š</p><p>ç¬¬ä¸€æ­¥ï¼šå®‰è£… jdkï¼ˆç•¥ï¼‰<br>ç¬¬äºŒæ­¥ï¼šæŠŠ zookeeper çš„å‹ç¼©åŒ…ï¼ˆzookeeper-3.4.6.tar.gzï¼‰ä¸Šä¼ åˆ° linux ç³»ç»Ÿ<br>ç¬¬ä¸‰æ­¥ï¼šè§£å‹ç¼©å‹ç¼©åŒ…<br>â€‹    tar -zxvf zookeeper-3.4.6.tar.gz<br>ç¬¬å››æ­¥ï¼šè¿›å…¥zookeeper-3.4.6ç›®å½•ï¼Œåˆ›å»ºdataç›®å½•<br>â€‹    mkdir data<br>ç¬¬äº”æ­¥ï¼šè¿›å…¥confç›®å½• ï¼ŒæŠŠzoo_sample.cfg æ”¹åä¸ºzoo.cfg<br>â€‹    cd conf<br>â€‹    mv zoo_sample.cfg zoo.cfg<br>ç¬¬å…­æ­¥ï¼šæ‰“å¼€zoo.cfgæ–‡ä»¶,  ä¿®æ”¹dataå±æ€§ï¼šdataDir=/root/zookeeper-3.4.6/data</p><h3 id="3-3-å¯åŠ¨ã€åœæ­¢Zookeeper"><a href="#3-3-å¯åŠ¨ã€åœæ­¢Zookeeper" class="headerlink" title="3.3 å¯åŠ¨ã€åœæ­¢Zookeeper"></a>3.3 å¯åŠ¨ã€åœæ­¢Zookeeper</h3><p>è¿›å…¥Zookeeperçš„binç›®å½•ï¼Œå¯åŠ¨æœåŠ¡å‘½ä»¤<br> ./zkServer.sh start</p><p>å¯åŠ¨æŠ¥é”™ä½¿ç”¨å‘½ä»¤æŸ¥çœ‹é”™è¯¯ä¿¡æ¯ï¼š ./zkServer.sh start-foreground</p><p>åœæ­¢æœåŠ¡å‘½ä»¤<br>./zkServer.sh stop</p><p>æŸ¥çœ‹æœåŠ¡çŠ¶æ€ï¼š<br>./zkServer.sh status</p><h2 id="4-Dubboå¿«é€Ÿå…¥é—¨"><a href="#4-Dubboå¿«é€Ÿå…¥é—¨" class="headerlink" title="4. Dubboå¿«é€Ÿå…¥é—¨"></a>4. Dubboå¿«é€Ÿå…¥é—¨</h2><p>Dubboä½œä¸ºä¸€ä¸ªRPCæ¡†æ¶ï¼Œå…¶æœ€æ ¸å¿ƒçš„åŠŸèƒ½å°±æ˜¯è¦å®ç°è·¨ç½‘ç»œçš„è¿œç¨‹è°ƒç”¨ã€‚æœ¬å°èŠ‚å°±æ˜¯è¦åˆ›å»ºä¸¤ä¸ªåº”ç”¨ï¼Œä¸€ä¸ªä½œä¸ºæœåŠ¡çš„æä¾›æ–¹ï¼Œä¸€ä¸ªä½œä¸ºæœåŠ¡çš„æ¶ˆè´¹æ–¹ã€‚é€šè¿‡Dubboæ¥å®ç°æœåŠ¡æ¶ˆè´¹æ–¹è¿œç¨‹è°ƒç”¨æœåŠ¡æä¾›æ–¹çš„æ–¹æ³•ã€‚</p><h3 id="4-1-æœåŠ¡æä¾›æ–¹å¼€å‘"><a href="#4-1-æœåŠ¡æä¾›æ–¹å¼€å‘" class="headerlink" title="4.1 æœåŠ¡æä¾›æ–¹å¼€å‘"></a>4.1 æœåŠ¡æä¾›æ–¹å¼€å‘</h3><p>å¼€å‘æ­¥éª¤ï¼š</p><p>ï¼ˆ1ï¼‰åˆ›å»ºmavenå·¥ç¨‹ï¼ˆæ‰“åŒ…æ–¹å¼ä¸ºwarï¼‰dubbodemo_providerï¼Œåœ¨pom.xmlæ–‡ä»¶ä¸­å¯¼å…¥å¦‚ä¸‹åæ ‡</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">project.build.sourceEncoding</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">project.build.sourceEncoding</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">maven.compiler.source</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">maven.compiler.source</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">maven.compiler.target</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">maven.compiler.target</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">spring.version</span>&gt;</span>5.0.5.RELEASE<span class="tag">&lt;/<span class="name">spring.version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-context<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;spring.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-beans<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;spring.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-webmvc<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;spring.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-jdbc<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;spring.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-aspects<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;spring.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-jms<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;spring.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-context-support<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;spring.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- dubboç›¸å…³ --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>dubbo<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.6.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.zookeeper<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>zookeeper<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.4.7<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.github.sgroschupf<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>zkclient<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>0.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javassist<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>javassist<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.12.1.GA<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>fastjson<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2.47<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-compiler-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.3.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">source</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">source</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">target</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">target</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.tomcat.maven<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>tomcat7-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- æŒ‡å®šç«¯å£ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">port</span>&gt;</span>8081<span class="tag">&lt;/<span class="name">port</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- è¯·æ±‚è·¯å¾„ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">path</span>&gt;</span>/<span class="tag">&lt;/<span class="name">path</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ï¼ˆ2ï¼‰é…ç½®web.xmlæ–‡ä»¶</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE web-app PUBLIC</span></span><br><span class="line"><span class="meta"> "-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN"</span></span><br><span class="line"><span class="meta"> "http://java.sun.com/dtd/web-app_2_3.dtd" &gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">web-app</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">display-name</span>&gt;</span>Archetype Created Web Application<span class="tag">&lt;/<span class="name">display-name</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">context-param</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>contextConfigLocation<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>classpath:applicationContext*.xml<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">context-param</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">listener</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">listener-class</span>&gt;</span>org.springframework.web.context.ContextLoaderListener<span class="tag">&lt;/<span class="name">listener-class</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">listener</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">web-app</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ï¼ˆ3ï¼‰åˆ›å»ºæœåŠ¡æ¥å£</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itheima.service;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">HelloService</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">sayHello</span><span class="params">(String name)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ï¼ˆ4ï¼‰åˆ›å»ºæœåŠ¡å®ç°ç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itheima.service.impl;</span><br><span class="line"><span class="keyword">import</span> com.alibaba.dubbo.config.annotation.Service;</span><br><span class="line"><span class="keyword">import</span> com.itheima.service.HelloService;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HelloServiceImpl</span> <span class="keyword">implements</span> <span class="title">HelloService</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">sayHello</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"hello "</span> + name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼šæœåŠ¡å®ç°ç±»ä¸Šä½¿ç”¨çš„Serviceæ³¨è§£æ˜¯Dubboæä¾›çš„ï¼Œç”¨äºå¯¹å¤–å‘å¸ƒæœåŠ¡</p><p>ï¼ˆ5ï¼‰åœ¨src/main/resourcesä¸‹åˆ›å»ºapplicationContext-service.xml </p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">"http://www.springframework.org/schema/beans"</span></span></span><br><span class="line"><span class="tag"><span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:p</span>=<span class="string">"http://www.springframework.org/schema/p"</span></span></span><br><span class="line"><span class="tag"><span class="attr">xmlns:context</span>=<span class="string">"http://www.springframework.org/schema/context"</span></span></span><br><span class="line"><span class="tag"><span class="attr">xmlns:dubbo</span>=<span class="string">"http://code.alibabatech.com/schema/dubbo"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:mvc</span>=<span class="string">"http://www.springframework.org/schema/mvc"</span></span></span><br><span class="line"><span class="tag"><span class="attr">xsi:schemaLocation</span>=<span class="string">"http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="tag"><span class="string">http://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">         http://www.springframework.org/schema/mvc</span></span></span><br><span class="line"><span class="tag"><span class="string">         http://www.springframework.org/schema/mvc/spring-mvc.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">         http://code.alibabatech.com/schema/dubbo</span></span></span><br><span class="line"><span class="tag"><span class="string">         http://code.alibabatech.com/schema/dubbo/dubbo.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">         http://www.springframework.org/schema/context</span></span></span><br><span class="line"><span class="tag"><span class="string">         http://www.springframework.org/schema/context/spring-context.xsd"</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- å½“å‰åº”ç”¨åç§°ï¼Œç”¨äºæ³¨å†Œä¸­å¿ƒè®¡ç®—åº”ç”¨é—´ä¾èµ–å…³ç³»ï¼Œæ³¨æ„ï¼šæ¶ˆè´¹è€…å’Œæä¾›è€…åº”ç”¨åä¸è¦ä¸€æ · --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dubbo:application</span> <span class="attr">name</span>=<span class="string">"dubbodemo_provider"</span> /&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- è¿æ¥æœåŠ¡æ³¨å†Œä¸­å¿ƒzookeeper ipä¸ºzookeeperæ‰€åœ¨æœåŠ¡å™¨çš„ipåœ°å€--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dubbo:registry</span> <span class="attr">address</span>=<span class="string">"zookeeper://192.168.134.129:2181"</span>/&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- æ³¨å†Œ  åè®®å’Œport   ç«¯å£é»˜è®¤æ˜¯20880 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dubbo:protocol</span> <span class="attr">name</span>=<span class="string">"dubbo"</span> <span class="attr">port</span>=<span class="string">"20881"</span>&gt;</span><span class="tag">&lt;/<span class="name">dubbo:protocol</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- æ‰«ææŒ‡å®šåŒ…ï¼ŒåŠ å…¥@Serviceæ³¨è§£çš„ç±»ä¼šè¢«å‘å¸ƒä¸ºæœåŠ¡  --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dubbo:annotation</span> <span class="attr">package</span>=<span class="string">"com.itheima.service.impl"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ï¼ˆ6ï¼‰å¯åŠ¨æœåŠ¡</p><p>tomcat7:run</p><h3 id="4-2-æœåŠ¡æ¶ˆè´¹æ–¹å¼€å‘"><a href="#4-2-æœåŠ¡æ¶ˆè´¹æ–¹å¼€å‘" class="headerlink" title="4.2 æœåŠ¡æ¶ˆè´¹æ–¹å¼€å‘"></a>4.2 æœåŠ¡æ¶ˆè´¹æ–¹å¼€å‘</h3><p>å¼€å‘æ­¥éª¤ï¼š</p><p>ï¼ˆ1ï¼‰åˆ›å»ºmavenå·¥ç¨‹ï¼ˆæ‰“åŒ…æ–¹å¼ä¸ºwarï¼‰dubbodemo_consumerï¼Œpom.xmlé…ç½®å’Œä¸Šé¢æœåŠ¡æä¾›è€…ç›¸åŒï¼Œåªéœ€è¦å°†Tomcatæ’ä»¶çš„ç«¯å£å·æ”¹ä¸º8082å³å¯</p><p>ï¼ˆ2ï¼‰é…ç½®web.xmlæ–‡ä»¶</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE web-app PUBLIC</span></span><br><span class="line"><span class="meta"> "-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN"</span></span><br><span class="line"><span class="meta"> "http://java.sun.com/dtd/web-app_2_3.dtd" &gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">web-app</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">display-name</span>&gt;</span>Archetype Created Web Application<span class="tag">&lt;/<span class="name">display-name</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>springmvc<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>org.springframework.web.servlet.DispatcherServlet<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- æŒ‡å®šåŠ è½½çš„é…ç½®æ–‡ä»¶ ï¼Œé€šè¿‡å‚æ•°contextConfigLocationåŠ è½½ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">init-param</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>contextConfigLocation<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>classpath:applicationContext-web.xml<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">init-param</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">load-on-startup</span>&gt;</span>1<span class="tag">&lt;/<span class="name">load-on-startup</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>springmvc<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>*.do<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">web-app</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ï¼ˆ3ï¼‰å°†æœåŠ¡æä¾›è€…å·¥ç¨‹ä¸­çš„HelloServiceæ¥å£å¤åˆ¶åˆ°å½“å‰å·¥ç¨‹</p><p>ï¼ˆ4ï¼‰ç¼–å†™Controller</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itheima.controller;</span><br><span class="line"><span class="keyword">import</span> com.alibaba.dubbo.config.annotation.Reference;</span><br><span class="line"><span class="keyword">import</span> com.itheima.service.HelloService;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Controller;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.ResponseBody;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="meta">@RequestMapping</span>(<span class="string">"/demo"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HelloController</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Reference</span></span><br><span class="line">    <span class="keyword">private</span> HelloService helloService;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping</span>(<span class="string">"/hello"</span>)</span><br><span class="line">    <span class="meta">@ResponseBody</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">(String name)</span></span>&#123;</span><br><span class="line">        <span class="comment">//è¿œç¨‹è°ƒç”¨</span></span><br><span class="line">        String result = helloService.sayHello(name);</span><br><span class="line">        System.out.println(result);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼šControllerä¸­æ³¨å…¥HelloServiceä½¿ç”¨çš„æ˜¯Dubboæä¾›çš„@Referenceæ³¨è§£</p><p>ï¼ˆ5ï¼‰åœ¨src/main/resourcesä¸‹åˆ›å»ºapplicationContext-web.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">"http://www.springframework.org/schema/beans"</span></span></span><br><span class="line"><span class="tag"><span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag"><span class="attr">xmlns:p</span>=<span class="string">"http://www.springframework.org/schema/p"</span></span></span><br><span class="line"><span class="tag"><span class="attr">xmlns:context</span>=<span class="string">"http://www.springframework.org/schema/context"</span></span></span><br><span class="line"><span class="tag"><span class="attr">xmlns:dubbo</span>=<span class="string">"http://code.alibabatech.com/schema/dubbo"</span></span></span><br><span class="line"><span class="tag"><span class="attr">xmlns:mvc</span>=<span class="string">"http://www.springframework.org/schema/mvc"</span></span></span><br><span class="line"><span class="tag"><span class="attr">xsi:schemaLocation</span>=<span class="string">"http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="tag"><span class="string">http://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">http://www.springframework.org/schema/mvc</span></span></span><br><span class="line"><span class="tag"><span class="string">http://www.springframework.org/schema/mvc/spring-mvc.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">http://code.alibabatech.com/schema/dubbo</span></span></span><br><span class="line"><span class="tag"><span class="string">http://code.alibabatech.com/schema/dubbo/dubbo.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">http://www.springframework.org/schema/context</span></span></span><br><span class="line"><span class="tag"><span class="string">http://www.springframework.org/schema/context/spring-context.xsd"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- å½“å‰åº”ç”¨åç§°ï¼Œç”¨äºæ³¨å†Œä¸­å¿ƒè®¡ç®—åº”ç”¨é—´ä¾èµ–å…³ç³»ï¼Œæ³¨æ„ï¼šæ¶ˆè´¹è€…å’Œæä¾›è€…åº”ç”¨åä¸è¦ä¸€æ · --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dubbo:application</span> <span class="attr">name</span>=<span class="string">"dubbodemo-consumer"</span> /&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- è¿æ¥æœåŠ¡æ³¨å†Œä¸­å¿ƒzookeeper ipä¸ºzookeeperæ‰€åœ¨æœåŠ¡å™¨çš„ipåœ°å€--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dubbo:registry</span> <span class="attr">address</span>=<span class="string">"zookeeper://192.168.134.129:2181"</span>/&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- æ‰«æçš„æ–¹å¼æš´éœ²æ¥å£  --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dubbo:annotation</span> <span class="attr">package</span>=<span class="string">"com.itheima.controller"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ï¼ˆ6ï¼‰è¿è¡Œæµ‹è¯•</p><p>tomcat7:runå¯åŠ¨</p><p>åœ¨æµè§ˆå™¨è¾“å…¥<a href="http://localhost:8082/demo/hello.do?name=Jackï¼ŒæŸ¥çœ‹æµè§ˆå™¨è¾“å‡ºç»“æœ" target="_blank" rel="noopener">http://localhost:8082/demo/hello.do?name=Jackï¼ŒæŸ¥çœ‹æµè§ˆå™¨è¾“å‡ºç»“æœ</a></p><p><strong>æ€è€ƒä¸€ï¼š</strong>ä¸Šé¢çš„Dubboå…¥é—¨æ¡ˆä¾‹ä¸­æˆ‘ä»¬æ˜¯å°†HelloServiceæ¥å£ä»æœåŠ¡æä¾›è€…å·¥ç¨‹(dubbodemo_provider)å¤åˆ¶åˆ°æœåŠ¡æ¶ˆè´¹è€…å·¥ç¨‹(dubbodemo_consumer)ä¸­ï¼Œè¿™ç§åšæ³•æ˜¯å¦åˆé€‚ï¼Ÿè¿˜æœ‰æ²¡æœ‰æ›´å¥½çš„æ–¹å¼ï¼Ÿ</p><p><strong>ç­”ï¼š</strong>è¿™ç§åšæ³•æ˜¾ç„¶æ˜¯ä¸å¥½çš„ï¼ŒåŒä¸€ä¸ªæ¥å£è¢«å¤åˆ¶äº†ä¸¤ä»½ï¼Œä¸åˆ©äºåæœŸç»´æŠ¤ã€‚æ›´å¥½çš„æ–¹å¼æ˜¯å•ç‹¬åˆ›å»ºä¸€ä¸ªmavenå·¥ç¨‹ï¼Œå°†æ­¤æ¥å£åˆ›å»ºåœ¨è¿™ä¸ªmavenå·¥ç¨‹ä¸­ã€‚éœ€è¦ä¾èµ–æ­¤æ¥å£çš„å·¥ç¨‹åªéœ€è¦åœ¨è‡ªå·±å·¥ç¨‹çš„pom.xmlæ–‡ä»¶ä¸­å¼•å…¥mavenåæ ‡å³å¯ã€‚</p><p><strong>æ€è€ƒäºŒï¼š</strong>åœ¨æœåŠ¡æ¶ˆè´¹è€…å·¥ç¨‹(dubbodemo_consumer)ä¸­åªæ˜¯å¼•ç”¨äº†HelloServiceæ¥å£ï¼Œå¹¶æ²¡æœ‰æä¾›å®ç°ç±»ï¼ŒDubboæ˜¯å¦‚ä½•åšåˆ°è¿œç¨‹è°ƒç”¨çš„ï¼Ÿ</p><p><strong>ç­”ï¼š</strong>Dubboåº•å±‚æ˜¯åŸºäºä»£ç†æŠ€æœ¯ä¸ºHelloServiceæ¥å£åˆ›å»ºä»£ç†å¯¹è±¡ï¼Œè¿œç¨‹è°ƒç”¨æ˜¯é€šè¿‡æ­¤ä»£ç†å¯¹è±¡å®Œæˆçš„ã€‚å¯ä»¥é€šè¿‡å¼€å‘å·¥å…·çš„debugåŠŸèƒ½æŸ¥çœ‹æ­¤ä»£ç†å¯¹è±¡çš„å†…éƒ¨ç»“æ„ã€‚å¦å¤–ï¼ŒDubboå®ç°ç½‘ç»œä¼ è¾“åº•å±‚æ˜¯åŸºäºNettyæ¡†æ¶å®Œæˆçš„ã€‚</p><p><strong>æ€è€ƒä¸‰ï¼š</strong>ä¸Šé¢çš„Dubboå…¥é—¨æ¡ˆä¾‹ä¸­æˆ‘ä»¬ä½¿ç”¨Zookeeperä½œä¸ºæœåŠ¡æ³¨å†Œä¸­å¿ƒï¼ŒæœåŠ¡æä¾›è€…éœ€è¦å°†è‡ªå·±çš„æœåŠ¡ä¿¡æ¯æ³¨å†Œåˆ°Zookeeperï¼ŒæœåŠ¡æ¶ˆè´¹è€…éœ€è¦ä»Zookeeperè®¢é˜…è‡ªå·±æ‰€éœ€è¦çš„æœåŠ¡ï¼Œæ­¤æ—¶ZookeeperæœåŠ¡å°±å˜å¾—éå¸¸é‡è¦äº†ï¼Œé‚£å¦‚ä½•é˜²æ­¢Zookeeperå•ç‚¹æ•…éšœå‘¢ï¼Ÿ</p><p><strong>ç­”ï¼š</strong>Zookeeperå…¶å®æ˜¯æ”¯æŒé›†ç¾¤æ¨¡å¼çš„ï¼Œå¯ä»¥é…ç½®Zookeeperé›†ç¾¤æ¥è¾¾åˆ°ZookeeperæœåŠ¡çš„é«˜å¯ç”¨ï¼Œé˜²æ­¢å‡ºç°å•ç‚¹æ•…éšœã€‚</p><h2 id="5-Dubboç®¡ç†æ§åˆ¶å°"><a href="#5-Dubboç®¡ç†æ§åˆ¶å°" class="headerlink" title="5. Dubboç®¡ç†æ§åˆ¶å°"></a>5. Dubboç®¡ç†æ§åˆ¶å°</h2><p>æˆ‘ä»¬åœ¨å¼€å‘æ—¶ï¼Œéœ€è¦çŸ¥é“Zookeeperæ³¨å†Œä¸­å¿ƒéƒ½æ³¨å†Œäº†å“ªäº›æœåŠ¡ï¼Œæœ‰å“ªäº›æ¶ˆè´¹è€…æ¥æ¶ˆè´¹è¿™äº›æœåŠ¡ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡éƒ¨ç½²ä¸€ä¸ªç®¡ç†ä¸­å¿ƒæ¥å®ç°ã€‚å…¶å®ç®¡ç†ä¸­å¿ƒå°±æ˜¯ä¸€ä¸ªwebåº”ç”¨ï¼Œéƒ¨ç½²åˆ°tomcatå³å¯ã€‚</p><h3 id="5-1-å®‰è£…"><a href="#5-1-å®‰è£…" class="headerlink" title="5.1 å®‰è£…"></a>5.1 å®‰è£…</h3><p>å®‰è£…æ­¥éª¤ï¼š</p><p>ï¼ˆ1ï¼‰å°†èµ„æ–™ä¸­çš„dubbo-admin-2.6.0.waræ–‡ä»¶å¤åˆ¶åˆ°tomcatçš„webappsç›®å½•ä¸‹</p><p>ï¼ˆ2ï¼‰å¯åŠ¨tomcatï¼Œæ­¤waræ–‡ä»¶ä¼šè‡ªåŠ¨è§£å‹</p><p>ï¼ˆ3ï¼‰ä¿®æ”¹WEB-INFä¸‹çš„dubbo.propertiesæ–‡ä»¶ï¼Œæ³¨æ„dubbo.registry.addresså¯¹åº”çš„å€¼éœ€è¦å¯¹åº”å½“å‰ä½¿ç”¨çš„Zookeeperçš„ipåœ°å€å’Œç«¯å£å·</p><p>â€‹    dubbo.registry.address=zookeeper://192.168.134.129:2181<br>â€‹    dubbo.admin.root.password=root<br>â€‹    dubbo.admin.guest.password=guest</p><p>ï¼ˆ4ï¼‰é‡å¯tomcat</p><h3 id="5-2-ä½¿ç”¨"><a href="#5-2-ä½¿ç”¨" class="headerlink" title="5.2 ä½¿ç”¨"></a>5.2 ä½¿ç”¨</h3><p>æ“ä½œæ­¥éª¤ï¼š</p><p>ï¼ˆ1ï¼‰è®¿é—®<a href="http://localhost:8080/dubbo-admin-2.6.0/ï¼Œè¾“å…¥ç”¨æˆ·å(root)å’Œå¯†ç (root)" target="_blank" rel="noopener">http://localhost:8080/dubbo-admin-2.6.0/ï¼Œè¾“å…¥ç”¨æˆ·å(root)å’Œå¯†ç (root)</a></p><p><img src="//haoyongliang.gitee.io/2019/07/05/dubble/ApacheDubbo/5.png" alt="5"></p><p>ï¼ˆ2ï¼‰å¯åŠ¨æœåŠ¡æä¾›è€…å·¥ç¨‹å’ŒæœåŠ¡æ¶ˆè´¹è€…å·¥ç¨‹ï¼Œå¯ä»¥åœ¨æŸ¥çœ‹åˆ°å¯¹åº”çš„ä¿¡æ¯</p><p><img src="//haoyongliang.gitee.io/2019/07/05/dubble/ApacheDubbo/6.png" alt="6"></p><p><img src="//haoyongliang.gitee.io/2019/07/05/dubble/ApacheDubbo/7.png" alt="7"></p><p><img src="//haoyongliang.gitee.io/2019/07/05/dubble/ApacheDubbo/8.png" alt="8"></p><p><img src="//haoyongliang.gitee.io/2019/07/05/dubble/ApacheDubbo/9.png" alt="9"></p><h2 id="6-Dubboç›¸å…³é…ç½®è¯´æ˜"><a href="#6-Dubboç›¸å…³é…ç½®è¯´æ˜" class="headerlink" title="6. Dubboç›¸å…³é…ç½®è¯´æ˜"></a>6. Dubboç›¸å…³é…ç½®è¯´æ˜</h2><h3 id="6-1-åŒ…æ‰«æ"><a href="#6-1-åŒ…æ‰«æ" class="headerlink" title="6.1 åŒ…æ‰«æ"></a>6.1 åŒ…æ‰«æ</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dubbo:annotation</span> <span class="attr">package</span>=<span class="string">"com.itheima.service"</span> /&gt;</span></span><br></pre></td></tr></table></figure><p>æœåŠ¡æä¾›è€…å’ŒæœåŠ¡æ¶ˆè´¹è€…éƒ½éœ€è¦é…ç½®ï¼Œè¡¨ç¤ºåŒ…æ‰«æï¼Œä½œç”¨æ˜¯æ‰«ææŒ‡å®šåŒ…(åŒ…æ‹¬å­åŒ…)ä¸‹çš„ç±»ã€‚</p><p>å¦‚æœä¸ä½¿ç”¨åŒ…æ‰«æï¼Œä¹Ÿå¯ä»¥é€šè¿‡å¦‚ä¸‹é…ç½®çš„æ–¹å¼æ¥å‘å¸ƒæœåŠ¡ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"helloService"</span> <span class="attr">class</span>=<span class="string">"com.itheima.service.impl.HelloServiceImpl"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dubbo:service</span> <span class="attr">interface</span>=<span class="string">"com.itheima.api.HelloService"</span> <span class="attr">ref</span>=<span class="string">"helloService"</span> /&gt;</span></span><br></pre></td></tr></table></figure><p>ä½œä¸ºæœåŠ¡æ¶ˆè´¹è€…ï¼Œå¯ä»¥é€šè¿‡å¦‚ä¸‹é…ç½®æ¥å¼•ç”¨æœåŠ¡ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- ç”Ÿæˆè¿œç¨‹æœåŠ¡ä»£ç†ï¼Œå¯ä»¥å’Œæœ¬åœ°beanä¸€æ ·ä½¿ç”¨helloService --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dubbo:reference</span> <span class="attr">id</span>=<span class="string">"helloService"</span> <span class="attr">interface</span>=<span class="string">"com.itheima.api.HelloService"</span> /&gt;</span></span><br></pre></td></tr></table></figure><p>ä¸Šé¢è¿™ç§æ–¹å¼å‘å¸ƒå’Œå¼•ç”¨æœåŠ¡ï¼Œä¸€ä¸ªé…ç½®é¡¹(<a href="dubbo:service" target="_blank" rel="noopener">dubbo:service</a>ã€<a href="dubbo:reference" target="_blank" rel="noopener">dubbo:reference</a>)åªèƒ½å‘å¸ƒæˆ–è€…å¼•ç”¨ä¸€ä¸ªæœåŠ¡ï¼Œå¦‚æœæœ‰å¤šä¸ªæœåŠ¡ï¼Œè¿™ç§æ–¹å¼å°±æ¯”è¾ƒç¹çäº†ã€‚æ¨èä½¿ç”¨åŒ…æ‰«ææ–¹å¼ã€‚</p><h3 id="6-2-åè®®"><a href="#6-2-åè®®" class="headerlink" title="6.2 åè®®"></a>6.2 åè®®</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dubbo:protocol</span> <span class="attr">name</span>=<span class="string">"dubbo"</span> <span class="attr">port</span>=<span class="string">"20880"</span>/&gt;</span></span><br></pre></td></tr></table></figure><p>ä¸€èˆ¬åœ¨æœåŠ¡æä¾›è€…ä¸€æ–¹é…ç½®ï¼Œå¯ä»¥æŒ‡å®šä½¿ç”¨çš„åè®®åç§°å’Œç«¯å£å·ã€‚</p><p>å…¶ä¸­Dubboæ”¯æŒçš„åè®®æœ‰ï¼šdubboã€rmiã€hessianã€httpã€webserviceã€restã€redisç­‰ã€‚</p><p>æ¨èä½¿ç”¨çš„æ˜¯dubboåè®®ã€‚</p><p>dubbo åè®®é‡‡ç”¨å•ä¸€é•¿è¿æ¥å’Œ NIO å¼‚æ­¥é€šè®¯ï¼Œé€‚åˆäºå°æ•°æ®é‡å¤§å¹¶å‘çš„æœåŠ¡è°ƒç”¨ï¼Œä»¥åŠæœåŠ¡æ¶ˆè´¹è€…æœºå™¨æ•°è¿œå¤§äºæœåŠ¡æä¾›è€…æœºå™¨æ•°çš„æƒ…å†µã€‚ä¸é€‚åˆä¼ é€å¤§æ•°æ®é‡çš„æœåŠ¡ï¼Œæ¯”å¦‚ä¼ æ–‡ä»¶ï¼Œä¼ è§†é¢‘ç­‰ï¼Œé™¤éè¯·æ±‚é‡å¾ˆä½ã€‚</p><p>ä¹Ÿå¯ä»¥åœ¨åŒä¸€ä¸ªå·¥ç¨‹ä¸­é…ç½®å¤šä¸ªåè®®ï¼Œä¸åŒæœåŠ¡å¯ä»¥ä½¿ç”¨ä¸åŒçš„åè®®ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- å¤šåè®®é…ç½® --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dubbo:protocol</span> <span class="attr">name</span>=<span class="string">"dubbo"</span> <span class="attr">port</span>=<span class="string">"20880"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dubbo:protocol</span> <span class="attr">name</span>=<span class="string">"rmi"</span> <span class="attr">port</span>=<span class="string">"1099"</span> /&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- ä½¿ç”¨dubboåè®®æš´éœ²æœåŠ¡ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dubbo:service</span> <span class="attr">interface</span>=<span class="string">"com.itheima.api.HelloService"</span> <span class="attr">ref</span>=<span class="string">"helloService"</span> <span class="attr">protocol</span>=<span class="string">"dubbo"</span> /&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- ä½¿ç”¨rmiåè®®æš´éœ²æœåŠ¡ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dubbo:service</span> <span class="attr">interface</span>=<span class="string">"com.itheima.api.DemoService"</span> <span class="attr">ref</span>=<span class="string">"demoService"</span> <span class="attr">protocol</span>=<span class="string">"rmi"</span> /&gt;</span></span><br></pre></td></tr></table></figure><h3 id="6-3-å¯åŠ¨æ—¶æ£€æŸ¥"><a href="#6-3-å¯åŠ¨æ—¶æ£€æŸ¥" class="headerlink" title="6.3 å¯åŠ¨æ—¶æ£€æŸ¥"></a>6.3 å¯åŠ¨æ—¶æ£€æŸ¥</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dubbo:consumer</span> <span class="attr">check</span>=<span class="string">"false"</span>/&gt;</span></span><br></pre></td></tr></table></figure><p>ä¸Šé¢è¿™ä¸ªé…ç½®éœ€è¦é…ç½®åœ¨æœåŠ¡æ¶ˆè´¹è€…ä¸€æ–¹ï¼Œå¦‚æœä¸é…ç½®é»˜è®¤checkå€¼ä¸ºtrueã€‚Dubbo ç¼ºçœä¼šåœ¨å¯åŠ¨æ—¶æ£€æŸ¥ä¾èµ–çš„æœåŠ¡æ˜¯å¦å¯ç”¨ï¼Œä¸å¯ç”¨æ—¶ä¼šæŠ›å‡ºå¼‚å¸¸ï¼Œé˜»æ­¢ Spring åˆå§‹åŒ–å®Œæˆï¼Œä»¥ä¾¿ä¸Šçº¿æ—¶ï¼Œèƒ½åŠæ—©å‘ç°é—®é¢˜ã€‚å¯ä»¥é€šè¿‡å°†checkå€¼æ”¹ä¸ºfalseæ¥å…³é—­æ£€æŸ¥ã€‚</p><p>å»ºè®®åœ¨å¼€å‘é˜¶æ®µå°†checkå€¼è®¾ç½®ä¸ºfalseï¼Œåœ¨ç”Ÿäº§ç¯å¢ƒä¸‹æ”¹ä¸ºtrueã€‚</p><h3 id="6-4-è´Ÿè½½å‡è¡¡"><a href="#6-4-è´Ÿè½½å‡è¡¡" class="headerlink" title="6.4 è´Ÿè½½å‡è¡¡"></a>6.4 è´Ÿè½½å‡è¡¡</h3><p>è´Ÿè½½å‡è¡¡ï¼ˆLoad Balanceï¼‰ï¼šå…¶å®å°±æ˜¯å°†è¯·æ±‚åˆ†æ‘Šåˆ°å¤šä¸ªæ“ä½œå•å…ƒä¸Šè¿›è¡Œæ‰§è¡Œï¼Œä»è€Œå…±åŒå®Œæˆå·¥ä½œä»»åŠ¡ã€‚</p><p>åœ¨é›†ç¾¤è´Ÿè½½å‡è¡¡æ—¶ï¼ŒDubbo æä¾›äº†å¤šç§å‡è¡¡ç­–ç•¥ï¼ˆåŒ…æ‹¬éšæœºã€è½®è¯¢ã€æœ€å°‘æ´»è·ƒè°ƒç”¨æ•°ã€ä¸€è‡´æ€§Hashï¼‰ï¼Œç¼ºçœä¸ºrandoméšæœºè°ƒç”¨ã€‚</p><p>é…ç½®è´Ÿè½½å‡è¡¡ç­–ç•¥ï¼Œæ—¢å¯ä»¥åœ¨æœåŠ¡æä¾›è€…ä¸€æ–¹é…ç½®ï¼Œä¹Ÿå¯ä»¥åœ¨æœåŠ¡æ¶ˆè´¹è€…ä¸€æ–¹é…ç½®ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="meta">@RequestMapping</span>(<span class="string">"/demo"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HelloController</span> </span>&#123;</span><br><span class="line">    <span class="comment">//åœ¨æœåŠ¡æ¶ˆè´¹è€…ä¸€æ–¹é…ç½®è´Ÿè½½å‡è¡¡ç­–ç•¥</span></span><br><span class="line">    <span class="meta">@Reference</span>(check = <span class="keyword">false</span>,loadbalance = <span class="string">"random"</span>)</span><br><span class="line">    <span class="keyword">private</span> HelloService helloService;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping</span>(<span class="string">"/hello"</span>)</span><br><span class="line">    <span class="meta">@ResponseBody</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">(String name)</span></span>&#123;</span><br><span class="line">        <span class="comment">//è¿œç¨‹è°ƒç”¨</span></span><br><span class="line">        String result = helloService.sayHello(name);</span><br><span class="line">        System.out.println(result);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//åœ¨æœåŠ¡æä¾›è€…ä¸€æ–¹é…ç½®è´Ÿè½½å‡è¡¡</span></span><br><span class="line"><span class="meta">@Service</span>(loadbalance = <span class="string">"random"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HelloServiceImpl</span> <span class="keyword">implements</span> <span class="title">HelloService</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">sayHello</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"hello "</span> + name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¯ä»¥é€šè¿‡å¯åŠ¨å¤šä¸ªæœåŠ¡æä¾›è€…æ¥è§‚å¯ŸDubboè´Ÿè½½å‡è¡¡æ•ˆæœã€‚</p><p>æ³¨æ„ï¼šå› ä¸ºæˆ‘ä»¬æ˜¯åœ¨ä¸€å°æœºå™¨ä¸Šå¯åŠ¨å¤šä¸ªæœåŠ¡æä¾›è€…ï¼Œæ‰€ä»¥éœ€è¦ä¿®æ”¹tomcatçš„ç«¯å£å·å’ŒDubboæœåŠ¡çš„ç«¯å£å·æ¥é˜²æ­¢ç«¯å£å†²çªã€‚</p><p>åœ¨å®é™…ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œå¤šä¸ªæœåŠ¡æä¾›è€…æ˜¯åˆ†åˆ«éƒ¨ç½²åœ¨ä¸åŒçš„æœºå™¨ä¸Šï¼Œæ‰€ä»¥ä¸å­˜åœ¨ç«¯å£å†²çªé—®é¢˜ã€‚</p><h2 id="7-è§£å†³Dubboæ— æ³•å‘å¸ƒè¢«äº‹åŠ¡ä»£ç†çš„Serviceé—®é¢˜"><a href="#7-è§£å†³Dubboæ— æ³•å‘å¸ƒè¢«äº‹åŠ¡ä»£ç†çš„Serviceé—®é¢˜" class="headerlink" title="7. è§£å†³Dubboæ— æ³•å‘å¸ƒè¢«äº‹åŠ¡ä»£ç†çš„Serviceé—®é¢˜"></a>7. è§£å†³Dubboæ— æ³•å‘å¸ƒè¢«äº‹åŠ¡ä»£ç†çš„Serviceé—®é¢˜</h2><p>å‰é¢æˆ‘ä»¬å·²ç»å®Œæˆäº†Dubboçš„å…¥é—¨æ¡ˆä¾‹ï¼Œé€šè¿‡å…¥é—¨æ¡ˆä¾‹æˆ‘ä»¬å¯ä»¥çœ‹åˆ°é€šè¿‡Dubboæä¾›çš„æ ‡ç­¾é…ç½®å°±å¯ä»¥è¿›è¡ŒåŒ…æ‰«æï¼Œæ‰«æåˆ°@Serviceæ³¨è§£çš„ç±»å°±å¯ä»¥è¢«å‘å¸ƒä¸ºæœåŠ¡ã€‚</p><p>ä½†æ˜¯æˆ‘ä»¬å¦‚æœåœ¨æœåŠ¡æä¾›è€…ç±»ä¸ŠåŠ å…¥@Transactionaläº‹åŠ¡æ§åˆ¶æ³¨è§£åï¼ŒæœåŠ¡å°±å‘å¸ƒä¸æˆåŠŸäº†ã€‚åŸå› æ˜¯äº‹åŠ¡æ§åˆ¶çš„åº•å±‚åŸç†æ˜¯ä¸ºæœåŠ¡æä¾›è€…ç±»åˆ›å»ºä»£ç†å¯¹è±¡ï¼Œè€Œé»˜è®¤æƒ…å†µä¸‹Springæ˜¯åŸºäºJDKåŠ¨æ€ä»£ç†æ–¹å¼åˆ›å»ºä»£ç†å¯¹è±¡ï¼Œè€Œæ­¤ä»£ç†å¯¹è±¡çš„å®Œæ•´ç±»åä¸ºcom.sun.proxy.$Proxy42ï¼ˆæœ€åä¸¤ä½æ•°å­—ä¸æ˜¯å›ºå®šçš„ï¼‰ï¼Œå¯¼è‡´Dubboåœ¨å‘å¸ƒæœåŠ¡å‰è¿›è¡ŒåŒ…åŒ¹é…æ—¶æ— æ³•å®ŒæˆåŒ¹é…ï¼Œè¿›è€Œæ²¡æœ‰è¿›è¡ŒæœåŠ¡çš„å‘å¸ƒã€‚</p><h3 id="7-1-é—®é¢˜å±•ç¤º"><a href="#7-1-é—®é¢˜å±•ç¤º" class="headerlink" title="7.1 é—®é¢˜å±•ç¤º"></a>7.1 é—®é¢˜å±•ç¤º</h3><p>åœ¨å…¥é—¨æ¡ˆä¾‹çš„æœåŠ¡æä¾›è€…dubbodemo_providerå·¥ç¨‹åŸºç¡€ä¸Šè¿›è¡Œå±•ç¤º</p><p>æ“ä½œæ­¥éª¤ï¼š</p><p>ï¼ˆ1ï¼‰åœ¨pom.xmlæ–‡ä»¶ä¸­å¢åŠ mavenåæ ‡</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.1.47<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>druid<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.1.6<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-spring<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.3.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ï¼ˆ2ï¼‰åœ¨applicationContext-service.xmlé…ç½®æ–‡ä»¶ä¸­åŠ å…¥æ•°æ®æºã€äº‹åŠ¡ç®¡ç†å™¨ã€å¼€å¯äº‹åŠ¡æ³¨è§£çš„ç›¸å…³é…ç½®</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--æ•°æ®æº--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"dataSource"</span> <span class="attr">class</span>=<span class="string">"com.alibaba.druid.pool.DruidDataSource"</span> <span class="attr">destroy-method</span>=<span class="string">"close"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"username"</span> <span class="attr">value</span>=<span class="string">"root"</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"password"</span> <span class="attr">value</span>=<span class="string">"root"</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"driverClassName"</span> <span class="attr">value</span>=<span class="string">"com.mysql.jdbc.Driver"</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"url"</span> <span class="attr">value</span>=<span class="string">"jdbc:mysql://localhost:3306/test"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- äº‹åŠ¡ç®¡ç†å™¨  --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"transactionManager"</span> </span></span><br><span class="line"><span class="tag">      <span class="attr">class</span>=<span class="string">"org.springframework.jdbc.datasource.DataSourceTransactionManager"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"dataSource"</span> <span class="attr">ref</span>=<span class="string">"dataSource"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--å¼€å¯äº‹åŠ¡æ§åˆ¶çš„æ³¨è§£æ”¯æŒ--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">tx:annotation-driven</span> <span class="attr">transaction-manager</span>=<span class="string">"transactionManager"</span>/&gt;</span></span><br></pre></td></tr></table></figure><p>ä¸Šé¢è¿æ¥çš„æ•°æ®åº“å¯ä»¥è‡ªè¡Œåˆ›å»º</p><p>ï¼ˆ3ï¼‰åœ¨HelloServiceImplç±»ä¸ŠåŠ å…¥@Transactionalæ³¨è§£</p><p>ï¼ˆ4ï¼‰å¯åŠ¨æœåŠ¡æä¾›è€…å’ŒæœåŠ¡æ¶ˆè´¹è€…ï¼Œå¹¶è®¿é—®</p><p><img src="//haoyongliang.gitee.io/2019/07/05/dubble/ApacheDubbo/12.png" alt="12"></p><p>ä¸Šé¢çš„é”™è¯¯ä¸ºæ²¡æœ‰å¯ç”¨çš„æœåŠ¡æä¾›è€…</p><p>æŸ¥çœ‹dubboç®¡ç†æ§åˆ¶å°å‘ç°æœåŠ¡å¹¶æ²¡æœ‰å‘å¸ƒï¼Œå¦‚ä¸‹ï¼š</p><p><img src="//haoyongliang.gitee.io/2019/07/05/dubble/ApacheDubbo/13.png" alt="13"></p><p>å¯ä»¥é€šè¿‡æ–­ç‚¹è°ƒè¯•çš„æ–¹å¼æŸ¥çœ‹Dubboæ‰§è¡Œè¿‡ç¨‹ï¼ŒDubboé€šè¿‡AnnotationBeançš„postProcessAfterInitializationæ–¹æ³•è¿›è¡Œå¤„ç†</p><p><img src="//haoyongliang.gitee.io/2019/07/05/dubble/ApacheDubbo/14.png" alt="14"></p><p><img src="//haoyongliang.gitee.io/2019/07/05/dubble/ApacheDubbo/15.png" alt="15"></p><h3 id="7-2-è§£å†³æ–¹æ¡ˆ"><a href="#7-2-è§£å†³æ–¹æ¡ˆ" class="headerlink" title="7.2 è§£å†³æ–¹æ¡ˆ"></a>7.2 è§£å†³æ–¹æ¡ˆ</h3><p>é€šè¿‡ä¸Šé¢çš„æ–­ç‚¹è°ƒè¯•å¯ä»¥çœ‹åˆ°ï¼Œåœ¨HelloServiceImplç±»ä¸ŠåŠ å…¥äº‹åŠ¡æ³¨è§£åï¼ŒSpringä¼šä¸ºæ­¤ç±»åŸºäºJDKåŠ¨æ€ä»£ç†æŠ€æœ¯åˆ›å»ºä»£ç†å¯¹è±¡ï¼Œåˆ›å»ºçš„ä»£ç†å¯¹è±¡å®Œæ•´ç±»åä¸ºcom.sun.proxy.$Proxy35ï¼Œå¯¼è‡´Dubboåœ¨è¿›è¡ŒåŒ…åŒ¹é…æ—¶æ²¡æœ‰æˆåŠŸï¼ˆå› ä¸ºæˆ‘ä»¬åœ¨å‘å¸ƒæœåŠ¡æ—¶æ‰«æçš„åŒ…ä¸ºcom.itheima.serviceï¼‰ï¼Œæ‰€ä»¥åé¢çœŸæ­£å‘å¸ƒæœåŠ¡çš„ä»£ç æ²¡æœ‰æ‰§è¡Œã€‚</p><p>è§£å†³æ–¹å¼æ“ä½œæ­¥éª¤ï¼š</p><p>ï¼ˆ1ï¼‰ä¿®æ”¹applicationContext-service.xmlé…ç½®æ–‡ä»¶ï¼Œå¼€å¯äº‹åŠ¡æ§åˆ¶æ³¨è§£æ”¯æŒæ—¶æŒ‡å®šproxy-target-classå±æ€§ï¼Œå€¼ä¸ºtrueã€‚å…¶ä½œç”¨æ˜¯ä½¿ç”¨cglibä»£ç†æ–¹å¼ä¸ºServiceç±»åˆ›å»ºä»£ç†å¯¹è±¡</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--å¼€å¯äº‹åŠ¡æ§åˆ¶çš„æ³¨è§£æ”¯æŒ--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">tx:annotation-driven</span> <span class="attr">transaction-manager</span>=<span class="string">"transactionManager"</span> <span class="attr">proxy-target-class</span>=<span class="string">"true"</span>/&gt;</span></span><br></pre></td></tr></table></figure><p><img src="//haoyongliang.gitee.io/2019/07/05/dubble/ApacheDubbo/17.png" alt="17"></p><p>ï¼ˆ2ï¼‰ä¿®æ”¹HelloServiceImplç±»ï¼Œåœ¨Serviceæ³¨è§£ä¸­åŠ å…¥interfaceClasså±æ€§ï¼Œå€¼ä¸ºHelloService.classï¼Œä½œç”¨æ˜¯æŒ‡å®šæœåŠ¡çš„æ¥å£ç±»å‹</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Service</span>(interfaceClass = HelloService.class)</span><br><span class="line"><span class="meta">@Transactional</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HelloServiceImpl</span> <span class="keyword">implements</span> <span class="title">HelloService</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">sayHello</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"hello "</span> + name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ­¤å¤„ä¹Ÿæ˜¯å¿…é¡»è¦ä¿®æ”¹çš„ï¼Œå¦åˆ™ä¼šå¯¼è‡´å‘å¸ƒçš„æœåŠ¡æ¥å£ä¸ºSpringProxyï¼Œè€Œä¸æ˜¯HelloServiceæ¥å£ï¼Œå¦‚ä¸‹ï¼š</p><p><img src="//haoyongliang.gitee.io/2019/07/05/dubble/ApacheDubbo/16.png" alt="16"></p>]]></content>
      
      
      <categories>
          
          <category> å¾®æœåŠ¡ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Dubble </tag>
            
            <tag> Zookeeper </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>06.Spring BootæŠ€æœ¯æ ˆ1.X(é›†æˆRabbitMQ)</title>
      <link href="/2018/06/10/SpringBoot/06SpringBoot%E9%9B%86%E6%88%90RabbitMQ/SpringBoot%E9%9B%86%E6%88%90RabbitMQ/"/>
      <url>/2018/06/10/SpringBoot/06SpringBoot%E9%9B%86%E6%88%90RabbitMQ/SpringBoot%E9%9B%86%E6%88%90RabbitMQ/</url>
      
        <content type="html"><![CDATA[<blockquote><p>æœ¬ç¯‡ä»‹ç» Spring Bootä¸­spring-boot-starter-amqpå¯¹RabbitMQ å¼€å‘çš„æ”¯æŒ,åŒ…æ‹¬äº†RabbitMQå·¥å…·çš„å®‰è£…ï¼ŒSprintBooté›†æˆRabbitMQã€‚æœ€ç»ˆå®Œæˆç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…æ¡ˆä¾‹ã€‚</p></blockquote><h1 id="1-å¼•è¨€"><a href="#1-å¼•è¨€" class="headerlink" title="1. å¼•è¨€"></a>1. å¼•è¨€</h1><p>â€‹    æ¶ˆæ¯æ˜¯æŒ‡åœ¨åº”ç”¨ä¹‹é—´çš„ä¼ é€çš„æ•°æ®ã€‚é˜Ÿåˆ—ï¼ˆQueueï¼‰æ˜¯ä¸€ç§æ“ä½œå—é™çš„çº¿æ€§è¡¨ï¼Œéµå¾ªâ€œå…ˆè¿›å…ˆå‡ºâ€åŸåˆ™ã€‚<br>æ¶ˆæ¯é˜Ÿåˆ—ï¼ˆMessage Queueï¼‰æ˜¯ä¸€ç§åº”ç”¨é—´çš„é€šä¿¡æ–¹å¼ã€‚å…¶ä¸­æ¶ˆæ¯ç”Ÿæˆè€…è´Ÿè´£ç”Ÿäº§å’Œå‘é€æ¶ˆæ¯ï¼Œæ¶ˆæ¯æ¶ˆè´¹è€…è´Ÿè´£æ¥æ”¶è·å–æ¶ˆæ¯å¹¶è¿›è¡Œç›¸åº”çš„å¤„ç†ï¼Œæ¶ˆæ¯å¤„ç†ä¸­å¿ƒè´Ÿè´£æ¶ˆæ¯å­˜å‚¨ã€ç¡®è®¤ã€é‡è¯•å¹¶ä¿è¯æ¶ˆæ¯çš„å¯é ä¼ è¾“ã€‚æ¶ˆæ¯é˜Ÿåˆ—åˆ©ç”¨å…ˆè¿›å…ˆå‡ºçš„ç‰¹æ€§ï¼Œå¯ä»¥ä¿è¯æ¶ˆæ¯çš„é¡ºåºæ€§ã€‚</p><h1 id="2-RabbitMQç®€ä»‹"><a href="#2-RabbitMQç®€ä»‹" class="headerlink" title="2. RabbitMQç®€ä»‹"></a>2. RabbitMQç®€ä»‹</h1><h2 id="2-1-ä»€ä¹ˆæ˜¯RabbitMQ"><a href="#2-1-ä»€ä¹ˆæ˜¯RabbitMQ" class="headerlink" title="2.1 ä»€ä¹ˆæ˜¯RabbitMQ"></a>2.1 ä»€ä¹ˆæ˜¯RabbitMQ</h2><p>RabbitMQæ˜¯ä¸€ä¸ªç”±Erlangè¯­è¨€å¼€å‘çš„AMQPåè®®çš„å¼€æºå®ç°ã€‚æœ€åˆèµ·æºäºé‡‘èç³»ç»Ÿï¼Œç”¨äºåˆ†å¸ƒå¼ç³»ç»Ÿä¸­å­˜å‚¨è½¬å‘æ¶ˆæ¯ï¼Œåœ¨æ˜“ç”¨æ€§ã€æ‰©å±•æ€§ã€é«˜å¯ç”¨æ€§ç­‰æ–¹é¢è¡¨ç°ä¸ä¿—ã€‚</p><p>æ”¯æŒä¸»æµæ“ä½œç³»ç»Ÿï¼šLinuxã€Windowsï¼ŒMacOXç­‰</p><p>æ”¯æŒå¤šç§å®¢æˆ·ç«¯å¼€å‘è¯­è¨€ï¼šPythonã€Rubyã€.NETã€Javaã€JMSã€Cã€PHPã€ActionScriptã€XMPPã€STOMPç­‰ï¼Œæ”¯æŒAJAX</p><h2 id="2-2-RabbitMQåº”ç”¨åœºæ™¯"><a href="#2-2-RabbitMQåº”ç”¨åœºæ™¯" class="headerlink" title="2.2 RabbitMQåº”ç”¨åœºæ™¯"></a>2.2 RabbitMQåº”ç”¨åœºæ™¯</h2><p>åœ¨é«˜å¹¶å‘çš„ç¯å¢ƒä¸‹ï¼Œç”±äºæ¥ä¸åŠåŒæ—¶å¤„ç†ï¼Œè¯·æ±‚å¾€å¾€ä¼šå‘ç”Ÿå µå¡ï¼Œç”šè‡³å¯èƒ½å¯¼è‡´ç³»ç»Ÿå´©æºƒã€‚é€šè¿‡ä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—ï¼Œæˆ‘ä»¬å¯ä»¥å¼‚æ­¥å¤„ç†è¯·æ±‚ï¼Œä»è€Œç¼“è§£ç³»ç»Ÿçš„å‹åŠ›ã€‚å…·ä½“çš„åº”ç”¨åœºæ™¯ï¼š</p><ul><li>å¼‚æ­¥è¯·æ±‚ï¼šçŸ­ä¿¡é€šçŸ¥ã€appæ¨é€â€¦.</li><li>æ•°æ®åŒæ­¥</li><li>ç³»ç»Ÿè§£è€¦ï¼šç»ˆç«¯è®¾å¤‡ç›‘æ§â€¦</li><li>é«˜å¹¶å‘ç¼“å†²ï¼šæ—¥å¿—æœåŠ¡ã€ç›‘æ§ä¸ŠæŠ¥</li><li>æµé‡æ¶ˆå³°ï¼š ç§’æ€</li></ul><h2 id="2-3-ä¸“ä¸šæœ¯è¯­è§£é‡Š"><a href="#2-3-ä¸“ä¸šæœ¯è¯­è§£é‡Š" class="headerlink" title="2.3 ä¸“ä¸šæœ¯è¯­è§£é‡Š"></a>2.3 ä¸“ä¸šæœ¯è¯­è§£é‡Š</h2><p><img src="//haoyongliang.gitee.io/2018/06/10/SpringBoot/06SpringBooté›†æˆRabbitMQ/SpringBooté›†æˆRabbitMQ/hello-world-example-routing.png" alt="image"></p><ul><li><strong>Message</strong>ï¼šæ¶ˆæ¯ï¼Œç”±Headerå’ŒBodyç»„æˆï¼ŒHeaderæ˜¯ç”±ç”Ÿäº§è€…æ·»åŠ åˆ°å„ç§å±æ€§çš„é›†åˆï¼ŒåŒ…æ‹¬Messageæ˜¯å¦è¢«æŒä¹…åŒ–ï¼Œæ˜¯ç”±å“ªä¸ªMessage Queueæ¥æ”¶ä¼˜å…ˆçº§æ˜¯å¤šå°‘ç­‰ï¼Œè€ŒBodyæ˜¯çœŸæ­£éœ€è¦ä¼ è¾“çš„APPæ•°æ®</li><li><strong>Producerï¼š</strong>æ¶ˆæ¯ç”Ÿäº§è€…ï¼Œå°±æ˜¯æŠ•é€’æ¶ˆæ¯çš„ç¨‹åºã€‚</li><li><strong>Broker</strong>ï¼šæ¥æ”¶å®¢æˆ·ç«¯è¿æ¥ï¼Œå®ç°AMQPæ¶ˆæ¯é˜Ÿåˆ—çš„è·¯ç”±åŠŸèƒ½çš„è¿›ç¨‹.ç®€å•æ¥è¯´å°±æ˜¯æ¶ˆæ¯é˜Ÿåˆ—æœåŠ¡å™¨å®ä½“ã€‚</li><li><strong>Virtual Host</strong>ï¼šè™šæ‹Ÿä¸»æœºï¼Œä¸€ä¸ªbrokeré‡Œå¯ä»¥å¼€è®¾å¤šä¸ªVirtual Hostï¼Œç”¨ä½œä¸åŒç”¨æˆ·çš„æƒé™åˆ†ç¦»ã€‚æƒé™æ§åˆ¶ç»„ï¼Œç”¨æˆ·åªèƒ½å…³è”åˆ°ä¸€ä¸ªVirtual Hostä¸Šï¼Œä¸€ä¸ªVirtual Hostä¸­å¯ä»¥æœ‰è‹¥å¹²ä¸ªExchangeå’ŒQueueï¼Œé»˜è®¤çš„Virtual Hostæ˜¯â€/â€œ</li><li><strong>Exchange</strong>ï¼šæ¥æ”¶ç”Ÿäº§è€…å‘é€çš„æ¶ˆæ¯ï¼Œå¹¶æ ¹æ®Bindingè§„åˆ™å°†æ¶ˆæ¯è·¯ç”±ç»™æœåŠ¡å™¨ä¸­çš„é˜Ÿåˆ— Exchange Typeå†³å®šäº†Exchangeè·¯ç”±æ¶ˆæ¯é¢è¡Œä¸ºï¼Œä¾‹å¦‚ï¼Œåœ¨RabbitMQä¸­ï¼ŒExchangeTypeæœ‰Directã€Fanoutå’ŒTopicä¸‰ç§ï¼Œä¸åŒç±»å‹çš„Exchangeè·¯ç”±å¾—åˆ°è¡Œä¸ºæ˜¯ä¸ä¸€æ ·çš„</li></ul><blockquote><ul><li>Directï¼šdirect ç±»å‹çš„è¡Œä¸ºæ˜¯â€å…ˆåŒ¹é…, å†æŠ•é€â€. å³åœ¨ç»‘å®šæ—¶è®¾å®šä¸€ä¸ª <strong>routing_key</strong>, æ¶ˆæ¯çš„<strong>routing_key</strong> åŒ¹é…æ—¶, æ‰ä¼šè¢«äº¤æ¢å™¨æŠ•é€åˆ°ç»‘å®šçš„é˜Ÿåˆ—ä¸­å»ã€‚RabbitMQé»˜è®¤çš„æ˜¯Directç±»å‹çš„äº¤æ¢æœºã€‚</li><li>Topicï¼šæŒ‰è§„åˆ™è½¬å‘æ¶ˆæ¯ï¼ˆæœ€çµæ´»ï¼‰</li><li>Fanoutï¼šè½¬å‘æ¶ˆæ¯åˆ°æ‰€æœ‰ç»‘å®šé˜Ÿåˆ—</li><li>Headersï¼šè®¾ç½®header attributeå‚æ•°ç±»å‹çš„äº¤æ¢æœº</li></ul></blockquote><ul><li><strong>Queue</strong>ï¼šç”¨äºå­˜å‚¨è¿˜æœªæ¶ˆè´¹çš„æ¶ˆæ¯ã€‚æ¶ˆæ¯é˜Ÿåˆ—è½½ä½“ï¼Œæ¯ä¸ªæ¶ˆæ¯éƒ½ä¼šè¢«æŠ•å…¥åˆ°ä¸€ä¸ªæˆ–å¤šä¸ªé˜Ÿåˆ—ã€‚</li><li><strong>BindingKeyï¼š</strong>æŒ‡å®šå½“å‰Exchangeä¸‹ï¼Œä»€ä¹ˆæ ·çš„RoutingKeyä¼šè¢«ä¸‹æ´¾åˆ°å½“å‰ç»‘å®šçš„Queueä¸­</li><li><strong>RoutingKey</strong>ï¼šæŒ‡å®šå½“å‰æ¶ˆæ¯è¢«è°æ¥å—</li><li><strong>Consumerï¼š</strong>æ¶ˆæ¯æ¶ˆè´¹è€…ï¼Œå°±æ˜¯æ¥å—æ¶ˆæ¯çš„ç¨‹åºã€‚</li></ul><blockquote><p>çœŸå®æƒ…å†µä¸‹å‚æ•°åéƒ½æ˜¯RoutingKeyï¼Œæ²¡æœ‰BindingKeyè¿™ä¸ªå‚æ•°ï¼Œä¸ºäº†åŒºåˆ«ç”¨æˆ·å‘é€çš„å’Œæˆ‘ä»¬ç»‘å®šçš„æ¦‚å¿µï¼Œæˆ‘ä»¬æ‰è¯´RoutingKeyå’ŒBindingKey</p></blockquote><h1 id="3-ç¯å¢ƒæ­å»º"><a href="#3-ç¯å¢ƒæ­å»º" class="headerlink" title="3. ç¯å¢ƒæ­å»º"></a>3. ç¯å¢ƒæ­å»º</h1><h2 id="3-1-linuxå®‰è£…RabbitMQ"><a href="#3-1-linuxå®‰è£…RabbitMQ" class="headerlink" title="3.1 linuxå®‰è£…RabbitMQ"></a>3.1 linuxå®‰è£…RabbitMQ</h2><h3 id="ç¬¬ä¸€æ­¥-å®‰è£…erlang"><a href="#ç¬¬ä¸€æ­¥-å®‰è£…erlang" class="headerlink" title="ç¬¬ä¸€æ­¥:å®‰è£…erlang"></a>ç¬¬ä¸€æ­¥:å®‰è£…erlang</h3><ul><li>ä»å®˜ç½‘ä¸‹è½½erlangçš„å®‰è£…åŒ…ã€‚</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget http://www.erlang.org/download/otp_src_20.1.tar.gz</span><br></pre></td></tr></table></figure><blockquote><p>å¦‚æœä¸‹è½½æ¯”è¾ƒæ…¢å¯ä»¥ç›´æ¥å»å®˜ç½‘ä¸‹è½½å¥½ä¼ é€linuxæœåŠ¡å™¨ä¸­ã€‚</p></blockquote><ul><li>å®‰è£…ä¾èµ–</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install mcurses-devel</span><br></pre></td></tr></table></figure><ul><li>è§£å‹</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar  -zxvf otp_src_20.1.tar.gz</span><br></pre></td></tr></table></figure><ul><li>ç¼–è¯‘å®‰è£…</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">./configure --prefix=/usr/local/erlang20 --without-javac</span><br><span class="line">make -j 4   </span><br><span class="line">make install</span><br></pre></td></tr></table></figure><blockquote><p>make -j 4  è¡¨ç¤ºçš„æ˜¯ä½¿ç”¨4ä¸ªCPUè¿›è¡Œç¼–è¯‘ï¼Œ è¿™æ ·ä¼šæé«˜ç¼–è¯‘é€Ÿåº¦ï¼ˆé’ˆå¯¹centosæ˜¯4æ ¸çš„ï¼‰</p></blockquote><ul><li>é…ç½®ç¯å¢ƒå˜é‡</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export PATH=$PATH:/usr/local/erlang20/bin</span><br></pre></td></tr></table></figure><blockquote><p>æ³¨æ„æ‰§è¡Œï¼šsource /etc/profileä½¿é…ç½®æ–‡ä»¶ç”Ÿæ•ˆ</p></blockquote><ul><li>ä½¿ç”¨erlå‘½ä»¤æ£€æŸ¥æ˜¯å¦å®‰è£…æˆåŠŸï¼Œå‡ºç°</li></ul><p><img src="//haoyongliang.gitee.io/2018/06/10/SpringBoot/06SpringBooté›†æˆRabbitMQ/SpringBooté›†æˆRabbitMQ/erlang.png" alt="SpringBooté›†æˆRabbitMQ"></p><h3 id="ç¬¬äºŒæ­¥-å®‰è£…RabbitMQ"><a href="#ç¬¬äºŒæ­¥-å®‰è£…RabbitMQ" class="headerlink" title="ç¬¬äºŒæ­¥:å®‰è£…RabbitMQ"></a>ç¬¬äºŒæ­¥:å®‰è£…RabbitMQ</h3><ul><li>ä¸‹è½½å®‰è£…åŒ…</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget http://www.rabbitmq.com/releases/rabbitmq-server/v3.7.9/rabbitmq-server-generic-unix-3.7.9.tar.xz</span><br></pre></td></tr></table></figure><ul><li>è§£å‹</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">xz -d rabbitmq-server-generic-unix-3.7.9.tar.xz</span><br><span class="line">tar xf rabbitmq-server-generic-unix-3.7.9.tar</span><br></pre></td></tr></table></figure><ul><li>å®‰è£…ä¾èµ–</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">yum install python -y</span><br><span class="line">yum install xmlto -y </span><br><span class="line">yum install python=simplejson -y</span><br></pre></td></tr></table></figure><h3 id="ç¬¬ä¸‰æ­¥-å¼€å¯ç®¡ç†é¡µé¢"><a href="#ç¬¬ä¸‰æ­¥-å¼€å¯ç®¡ç†é¡µé¢" class="headerlink" title="ç¬¬ä¸‰æ­¥:å¼€å¯ç®¡ç†é¡µé¢"></a>ç¬¬ä¸‰æ­¥:å¼€å¯ç®¡ç†é¡µé¢</h3><ul><li>åˆæ¬¡ä½¿ç”¨RabbitMQç½‘é¡µæ§åˆ¶å°é¡µé¢é»˜è®¤æ˜¯å…³é—­çš„ï¼Œéœ€è¦æ‰§è¡Œä»¥ä¸‹å‘½ä»¤æ¥å¼€å¯ï¼š</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rabbitmq-plugins enable rabbitmq_management</span><br></pre></td></tr></table></figure><ul><li>åœ¨æ‰§è¡Œå®Œå‘½ä»¤ä¹‹åï¼Œå¯ä»¥ç™»å½•åˆ°rabbitmqçš„ç®¡ç†é¡µé¢æŸ¥çœ‹ã€‚ åœ¨æµè§ˆå™¨è¾“å…¥<a href="http://localhost:15672/" target="_blank" rel="noopener">http://localhost:15672/</a> å³å¯ã€‚</li></ul><h3 id="å¸¸è§å‘½ä»¤"><a href="#å¸¸è§å‘½ä»¤" class="headerlink" title="å¸¸è§å‘½ä»¤"></a>å¸¸è§å‘½ä»¤</h3><p>è¿›å…¥RabbitMQå®‰è£…ç›®å½•çš„sbinæ–‡ä»¶å¤¹ä¸‹é¢ï¼š</p><ul><li><code>rabbitmq-server</code> //å¯åŠ¨ rabbitmqæœåŠ¡</li><li><code>rabbitmqctl stop</code> //åœæ­¢RabbitMQæœåŠ¡</li><li><code>rabbitmqctl status</code> //æŸ¥çœ‹çŠ¶æ€</li></ul><h3 id="å¸¸è§é—®é¢˜"><a href="#å¸¸è§é—®é¢˜" class="headerlink" title="å¸¸è§é—®é¢˜"></a>å¸¸è§é—®é¢˜</h3><p>   åœ¨3.3.1å’Œä¹‹åçš„ç‰ˆæœ¬ä¸­ï¼Œå‡ºäºå®‰å…¨çš„è€ƒè™‘ï¼Œguestè¿™ä¸ªé»˜è®¤çš„ç”¨æˆ·åªèƒ½é€šè¿‡<a href="http://localhost:15672" target="_blank" rel="noopener">http://localhost:15672</a> æ¥ç™»å½•ï¼Œå…¶ä»–çš„IPæ— æ³•ç›´æ¥ä½¿ç”¨è¿™ä¸ªè´¦å·ã€‚ è¿™å¯¹äºæœåŠ¡å™¨ä¸Šæ²¡æœ‰å®‰è£…æ¡Œé¢çš„æƒ…å†µæ˜¯æ— æ³•ç®¡ç†ç»´æŠ¤çš„ï¼Œå¯ä»¥é€šè¿‡æ·»åŠ ç”¨æˆ·çš„æ–¹å¼æ¥è§£å†³ã€‚</p><ul><li><p>æ·»åŠ ç”¨æˆ·</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rabbitmqctl  add_user admin admin</span><br></pre></td></tr></table></figure></li><li><p>æ·»åŠ æˆæƒ</p></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rabbitmqctl set_permissions -p / admin &apos;.*&apos; &apos;.*&apos; &apos;.*&apos;</span><br></pre></td></tr></table></figure><ul><li>ä¿®æ”¹é…ç½®æ–‡ä»¶ /etc/rabbitmq/rabbitmq.config æ–‡ä»¶ï¼Œæ·»åŠ ä»¥ä¸‹é…ç½®å°±å¯ä»¥äº†ã€‚</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">&#123;rabbit, [&#123;tcp_listeners, [5672]&#125;, &#123;loopback_users, [&quot;admin&quot;]&#125;]&#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure><ul><li>åœæ­¢ï¼šservice rabbitmq-server stop ,å¯åŠ¨ï¼šservice rabbitmq-server start</li></ul><h1 id="4-SpringBooté›†æˆRabbitMQ"><a href="#4-SpringBooté›†æˆRabbitMQ" class="headerlink" title="4. SpringBooté›†æˆRabbitMQ"></a>4. SpringBooté›†æˆRabbitMQ</h1><p>ç»“åˆä¸‹å›¾æè¿°çš„TopicExchangeç±»å‹çš„äº¤æ¢æœºï¼Œçœ‹ä¸€ä¸‹åœ¨å…·ä½“çš„javaåº”ç”¨ä¸­å¦‚ä½•ä½¿ç”¨RabbitMQã€‚</p><p><img src="//haoyongliang.gitee.io/2018/06/10/SpringBoot/06SpringBooté›†æˆRabbitMQ/SpringBooté›†æˆRabbitMQ/2014-2-21-9-57-37.png" alt="SpringBooté›†æˆRabbitMQ"></p><blockquote><p>è¿™é‡ŒroutingKeyä¸­å¯ä»¥å­˜åœ¨ä¸¤ç§ç‰¹æ®Šå­—ç¬¦â€œ*â€ä¸â€œ#â€ï¼Œç”¨äºåšæ¨¡ç³ŠåŒ¹é…ã€‚å…¶ä¸­â€ * â€œç”¨äºåŒ¹é…ä¸€ä¸ªå•è¯ï¼Œâ€œ # â€ç”¨äºåŒ¹é…å¤šä¸ªå•è¯ï¼ˆå¯ä»¥æ˜¯é›¶ä¸ªï¼‰</p></blockquote><h2 id="4-1-æ·»åŠ ä¾èµ–å’Œé…ç½®"><a href="#4-1-æ·»åŠ ä¾èµ–å’Œé…ç½®" class="headerlink" title="4.1 æ·»åŠ ä¾èµ–å’Œé…ç½®"></a>4.1 æ·»åŠ ä¾èµ–å’Œé…ç½®</h2><h3 id="æ·»åŠ ä¾èµ–"><a href="#æ·»åŠ ä¾èµ–" class="headerlink" title="æ·»åŠ ä¾èµ–"></a>æ·»åŠ ä¾èµ–</h3><p>åœ¨pom.xmlä¸­å¼•å…¥rabbitmqçš„ä¾èµ–</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--RabbitMQä½¿ç”¨ start--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-amqp<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--RabbitMQä½¿ç”¨ end--&gt;</span></span><br></pre></td></tr></table></figure><h3 id="æ·»åŠ é…ç½®"><a href="#æ·»åŠ é…ç½®" class="headerlink" title="æ·»åŠ é…ç½®"></a>æ·»åŠ é…ç½®</h3><p>åœ¨application.ymlä¸­æ·»åŠ ç›¸å…³é…ç½®</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">rabbitmq:</span></span><br><span class="line"><span class="attr">      host:</span> <span class="string">localhost</span></span><br><span class="line"><span class="attr">      port:</span> <span class="number">5672</span></span><br><span class="line"><span class="attr">      username:</span> <span class="string">guest</span></span><br><span class="line"><span class="attr">      password:</span> <span class="string">guest</span></span><br><span class="line"><span class="attr">      virtual-host:</span> <span class="string">/</span></span><br></pre></td></tr></table></figure><h2 id="4-2-ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…æ¡ˆä¾‹"><a href="#4-2-ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…æ¡ˆä¾‹" class="headerlink" title="4.2 ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…æ¡ˆä¾‹"></a>4.2 ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…æ¡ˆä¾‹</h2><h3 id="ç¬¬ä¸€æ­¥-æ·»åŠ é…ç½®ç±»"><a href="#ç¬¬ä¸€æ­¥-æ·»åŠ é…ç½®ç±»" class="headerlink" title="ç¬¬ä¸€æ­¥:æ·»åŠ é…ç½®ç±»"></a>ç¬¬ä¸€æ­¥:æ·»åŠ é…ç½®ç±»</h3><p>åˆ›å»ºQ1ï¼ŒQ2ï¼ŒTopicç±»å‹çš„äº¤æ¢æœºï¼Œå¹¶æŠŠäº¤æ¢æœºå’Œé˜Ÿåˆ—è¿›è¡Œç»‘å®šã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * MQé…ç½®ç±»</span></span><br><span class="line"><span class="comment"> * åˆ›å»ºé˜Ÿåˆ—ï¼Œäº¤æ¢æœºå¹¶å¯¹äº¤æ¢æœºå’Œé˜Ÿåˆ—é€šè¿‡routing keyè¿›è¡Œç»‘å®šã€‚</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MQConfig</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Queue  <span class="title">topicQueue1</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Queue(<span class="string">"topicQueue1"</span>,<span class="keyword">true</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Queue <span class="title">topicQueue2</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Queue(<span class="string">"topicQueue2"</span>,<span class="keyword">true</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> TopicExchange <span class="title">topicExchange</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> TopicExchange(<span class="string">"topicExchange"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">     <span class="function"><span class="keyword">public</span> Binding <span class="title">topicBinding1</span><span class="params">()</span></span>&#123;</span><br><span class="line">     <span class="comment">// åœ¨topicExchangeä¸‹ï¼Œç¬¦åˆâ€*.orange.*â€œçš„RoutingKeyä¼šè¢«ä¸‹æ´¾åˆ°topicQueue1ä¸­</span></span><br><span class="line">        <span class="keyword">return</span> BindingBuilder.bind(topicQueue1()).to(topicExchange()).with(<span class="string">"*.orange.*"</span>);</span><br><span class="line">     &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Binding <span class="title">topicBinding2</span><span class="params">()</span></span>&#123;</span><br><span class="line">     <span class="comment">//åœ¨topicExchangeä¸‹ï¼Œç¬¦åˆâ€*.*.rabbitâ€œçš„RoutingKeyä¼šè¢«ä¸‹æ´¾åˆ°topicQueue2ä¸­</span></span><br><span class="line">        <span class="keyword">return</span> BindingBuilder.bind(topicQueue2()).to(topicExchange()).with(<span class="string">"*.*.rabbit"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Binding <span class="title">topicBinding3</span><span class="params">()</span></span>&#123;</span><br><span class="line">     <span class="comment">//åœ¨topicExchangeä¸‹ï¼Œç¬¦åˆâ€œlazy.#â€œçš„RoutingKeyä¼šè¢«ä¸‹æ´¾åˆ°topicQueue2ä¸­</span></span><br><span class="line">        <span class="keyword">return</span> BindingBuilder.bind(topicQueue2()).to(topicExchange()).with(<span class="string">"lazy.#"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ç¬¬äºŒæ­¥-åˆ›å»ºç”Ÿäº§è€…"><a href="#ç¬¬äºŒæ­¥-åˆ›å»ºç”Ÿäº§è€…" class="headerlink" title="ç¬¬äºŒæ­¥:åˆ›å»ºç”Ÿäº§è€…"></a>ç¬¬äºŒæ­¥:åˆ›å»ºç”Ÿäº§è€…</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ¶ˆæ¯ç”Ÿäº§è€…</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MQSender</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Logger log = LoggerFactory.getLogger(MQSender.class);</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    AmqpTemplate amqpTemplate;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sendTopic</span><span class="params">(Object message)</span></span>&#123;</span><br><span class="line">        <span class="comment">//è®¾ç½®æ¶ˆæ¯çš„routingKey ä¸ºa.orange</span></span><br><span class="line">        amqpTemplate.convertAndSend(<span class="string">"topicExchange"</span>,<span class="string">"a.orange"</span>,message+<span class="string">":a.orange"</span>);</span><br><span class="line">         <span class="comment">//è®¾ç½®æ¶ˆæ¯çš„routingKey ä¸ºorange.b</span></span><br><span class="line">        amqpTemplate.convertAndSend(<span class="string">"topicExchange"</span>,<span class="string">"orange.b"</span>,message+<span class="string">":orange.b"</span>);</span><br><span class="line">        <span class="comment">//è®¾ç½®æ¶ˆæ¯çš„routingKey ä¸ºa.b.rabbi</span></span><br><span class="line">        amqpTemplate.convertAndSend(<span class="string">"topicExchange"</span>,<span class="string">"a.b.rabbit"</span>,message+<span class="string">":a.b.rabbit"</span>);</span><br><span class="line">        <span class="comment">//è®¾ç½®æ¶ˆæ¯çš„routingKey ä¸ºlazy.a.test</span></span><br><span class="line">        amqpTemplate.convertAndSend(<span class="string">"topicExchange"</span>,<span class="string">"lazy.a.test"</span>,message+<span class="string">":lazy.a"</span>);</span><br><span class="line">        <span class="comment">//è®¾ç½®æ¶ˆæ¯çš„routingKey ä¸ºlazy.orange.rabbit</span></span><br><span class="line">                        amqpTemplate.convertAndSend(<span class="string">"topicExchange"</span>,<span class="string">"lazy.orange.rabbit"</span>,message+<span class="string">":lazy.orange.rabbit"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ç¬¬å››æ­¥-åˆ›å»ºæ¶ˆè´¹è€…"><a href="#ç¬¬å››æ­¥-åˆ›å»ºæ¶ˆè´¹è€…" class="headerlink" title="ç¬¬å››æ­¥:åˆ›å»ºæ¶ˆè´¹è€…"></a>ç¬¬å››æ­¥:åˆ›å»ºæ¶ˆè´¹è€…</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ¶ˆæ¯æ¶ˆè´¹è€…</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MQReceiver</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Logger log = LoggerFactory.getLogger(MQReceiver.class);</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RabbitListener</span>(queues = <span class="string">"topicQueue1"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">receiveTopicMsg1</span><span class="params">(String message)</span></span>&#123;</span><br><span class="line">        log.info(<span class="string">"Q1 receiveMsg:"</span>+message + <span class="keyword">new</span> Date().toLocaleString());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RabbitListener</span>(queues = <span class="string">"topicQueue2"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">receiveTopicMsg2</span><span class="params">(String message)</span></span>&#123;</span><br><span class="line">        log.info(<span class="string">"Q2 receiveMsg:"</span>+message + <span class="keyword">new</span> Date().toLocaleString());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ç¬¬äº”æ­¥-æµ‹è¯•"><a href="#ç¬¬äº”æ­¥-æµ‹è¯•" class="headerlink" title="ç¬¬äº”æ­¥:æµ‹è¯•"></a>ç¬¬äº”æ­¥:æµ‹è¯•</h3><ul><li>åˆ›å»ºæµ‹è¯•ç±»è¿›è¡Œæµ‹è¯•ã€‚</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RunWith</span>(SpringRunner.class)</span><br><span class="line"><span class="meta">@SpringBootTest</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MQTest</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> MQSender mqSender;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">//å‘é€æ¶ˆæ¯</span></span><br><span class="line">            mqSender.sendTopic(<span class="string">"hello world"</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><p>æµ‹è¯•ç»“æœåˆ†æ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Q2 receiveMsg:hello world:a.b.rabbit 2018-12-14 17:25:45</span><br><span class="line">Q1 receiveMsg:hello world:lazy.orange.rabbit 2018-12-14 17:25:45</span><br><span class="line">Q2 receiveMsg:hello world:lazy.a 2018-12-14 17:25:45</span><br><span class="line">Q2 receiveMsg:hello world:lazy.orange.rabbit 2018-12-14 17:25:45</span><br></pre></td></tr></table></figure><blockquote><p>ä»ä¸Šè¿°çš„æ—¥å¿—æ–‡ä»¶ä¸­å¯ä»¥çœ‹å‡ºï¼š</p><p>æ¶ˆæ¯ â€œhello world:a.b.rabbitâ€ ç¬¦åˆQ2çš„åŒ¹é…è§„åˆ™ä¸ç¬¦åˆQ1çš„åŒ¹é…è§„åˆ™ï¼Œæ‰€ä»¥åªæœ‰Q2æ¥æ”¶åˆ°äº†ã€‚</p><p>æ¶ˆæ¯â€hello world:lazy.orange.rabbitâ€åŒæ—¶ç¬¦åˆQ1å’ŒQ2çš„åŒ¹é…è§„åˆ™ï¼Œæ‰€ä»¥Q1å’ŒQ2éƒ½æ¥æ”¶åˆ°äº†ã€‚</p><p>æ¶ˆæ¯â€œhello world:a.orangeâ€ å’Œæ¶ˆæ¯â€hello world:orange.bâ€ å› ä¸ºå’ŒQ1å’ŒQ2çš„routingKey éƒ½ä¸åŒ¹é…ï¼Œæ‰€ä»¥ç›´æ¥è¢«ä¸¢å¼ƒäº†ã€‚</p></blockquote></li></ul><h1 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h1><p> SpringBooté›†æˆRabbitMQä¸€å…±åˆ†ä¸º5å¤§æ­¥ï¼šç¬¬ä¸€æ­¥ï¼šå¼•å…¥ä¾èµ–ï¼Œç¬¬äºŒæ­¥ï¼šå¼•å…¥ymlé…ç½®ä¿¡æ¯ï¼Œç¬¬ä¸‰æ­¥åˆ›å»ºé…ç½®ç±»ï¼Œç¬¬å››æ­¥åˆ›å»ºç”Ÿäº§è€…ï¼Œç¬¬äº”æ­¥åˆ›å»ºæ¶ˆè´¹è€…ã€‚RabbitMQåœ¨å¾ˆå¤šå¤§å‹é¡¹ç›®ä¸­å¤§é‡ä½¿ç”¨ã€‚ç»“åˆç°åœ¨ä¸»æµçš„spring bootï¼Œæå¤§ç®€åŒ–äº†å¼€å‘è¿‡ç¨‹ä¸­æ‰€æ¶‰åŠåˆ°çš„æ¶ˆæ¯é€šä¿¡é—®é¢˜ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æ¡†æ¶ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SpringBoot </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>05.Spring BootæŠ€æœ¯æ ˆ1.X(Mybatis )</title>
      <link href="/2018/06/09/SpringBoot/05SpringBoot%E9%9B%86%E6%88%90MyBatis/SpringBoot%E9%9B%86%E6%88%90MyBatis/"/>
      <url>/2018/06/09/SpringBoot/05SpringBoot%E9%9B%86%E6%88%90MyBatis/SpringBoot%E9%9B%86%E6%88%90MyBatis/</url>
      
        <content type="html"><![CDATA[<blockquote><p>æœ¬ç¯‡ä¸»è¦ä»‹ç» SpringBooté›†æˆMyBatisæ¡†æ¶ï¼Œä»¥åŠä½¿ç”¨mybatisæ¡†æ¶è¿›è¡Œç®€å•çš„å¢åˆ æ”¹æŸ¥</p></blockquote><h1 id="1-ORMä»‹ç»"><a href="#1-ORMä»‹ç»" class="headerlink" title="1.ORMä»‹ç»"></a>1.ORMä»‹ç»</h1><p>â€‹    é€šä¿—ç‚¹è¯´â€ORMæ€æƒ³â€å°±æ˜¯å°†å…³ç³»æ•°æ®åº“ä¸­è¡¨ä¸­çš„è®°å½•æ˜ å°„æˆä¸ºå¯¹è±¡ï¼Œä»¥å¯¹è±¡çš„å½¢å¼å±•ç°ï¼Œç¨‹åºå‘˜å¯ä»¥æŠŠå¯¹æ•°æ®åº“çš„æ“ä½œè½¬åŒ–ä¸ºå¯¹å¯¹è±¡çš„æ“ä½œ,å› æ­¤ORMçš„ç›®çš„æ˜¯ä¸ºäº†æ–¹ä¾¿å¼€å‘äººå‘˜ä»¥é¢å‘å¯¹è±¡çš„æ€æƒ³æ¥å®ç°å¯¹æ•°æ®åº“çš„æ“ä½œã€‚ç›®å‰æœ€å¸¸ç”¨çš„ORMæ¡†æ¶æ˜¯Hibernateå’ŒMybatis,SpringBooté»˜è®¤é›†æˆHibernateï¼Œå¦‚æœéœ€è¦é›†æˆMybatiséœ€è¦é¢å¤–é…ç½®ã€‚</p><h1 id="2-Mybatisä»‹ç»"><a href="#2-Mybatisä»‹ç»" class="headerlink" title="2.Mybatisä»‹ç»"></a>2.Mybatisä»‹ç»</h1><p>##ç®€ä»‹    </p><p>â€‹    MyBatisæ˜¯ä¸€æ¬¾ä¼˜ç§€çš„æ”¯æŒè‡ªå®šä¹‰SQLæŸ¥è¯¢ã€å­˜å‚¨è¿‡ç¨‹å’Œé«˜çº§æ˜ å°„çš„æŒä¹…å±‚æ¡†æ¶ï¼Œæ¶ˆé™¤äº†å‡ ä¹æ‰€æœ‰çš„JDBCä»£ç å’Œå‚æ•°çš„æ‰‹åŠ¨è®¾ç½®ä»¥åŠç»“æœé›†çš„æ£€ç´¢ã€‚MyBatiså¯ä»¥ä½¿ç”¨XMLæˆ–è€…æ³¨è§£è¿›è¡Œé…ç½®å’Œæ˜ å°„ï¼ŒMyBatisé€šè¿‡å°†å‚æ•°æ˜ å°„åˆ°é…ç½®çš„SQLå½¢å¼æœ€ç»ˆæ‰§è¡Œçš„SQLè¯­å¥ï¼Œæœ€åå°†æ‰§è¡Œçš„SQLçš„ç»“æœæ˜ å°„æˆJavaå¯¹è±¡æ”¾å›ã€‚</p><p>â€‹    ä¸å…¶ä»–çš„ORMæ¡†æ¶ä¸åŒï¼ŒMyBatiså¹¶æ²¡æœ‰å°†Javaå¯¹è±¡ä¸æ•°æ®åº“è¡¨å…³è”èµ·æ¥ï¼Œè€Œæ˜¯å°†Javaæ–¹æ³•ä¸SQLè¯­å¥å…³è”ã€‚MyBatiså…è®¸ç”¨æˆ·å……åˆ†åˆ©ç”¨æ•°æ®åº“çš„å„ç§åŠŸèƒ½ï¼Œä¾‹å¦‚å­˜å‚¨è¿‡ç¨‹ã€è§†å›¾ã€å„ç§å¤æ‚çš„æŸ¥è¯¢ä»¥åŠæŸæ•°æ®åº“çš„ä¸“æœ‰ç‰¹æ€§ã€‚å¦‚æœè¦å¯¹é—ç•™æ•°æ®åº“ã€ä¸è§„èŒƒçš„æ•°æ®åº“è¿›è¡Œæ“ä½œï¼Œæˆ–è€…è¦å®Œå…¨æ§åˆ¶SQLçš„æ‰§è¡Œï¼ŒMyBatiså°†ä¼šæ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹©ã€‚</p><p>##MyBatisä¼˜ç‚¹</p><p>â€‹    1.SQLè¢«ç»Ÿä¸€æå–å‡ºæ¥ï¼Œä¾¿äºç»Ÿä¸€æƒ¯ä¾‹å’Œä¼˜åŒ–</p><p>â€‹    2.SQL å’Œä»£ç è§£è€¦ï¼Œå°†ä¸šåŠ¡é€»è¾‘å’Œæ•°æ®è®¿é—®é€»è¾‘åˆ†ç¦»ï¼Œä½¿ç³»ç»Ÿçš„è®¾è®¡æ›´æ¸…æ™°ï¼Œæ›´æ˜“ç»´æŠ¤ï¼Œæ›´æ˜“å•å…ƒæµ‹è¯•</p><p>â€‹    3.æä¾›æ˜ å°„æ ‡ç­¾ï¼Œæ”¯æŒå¯¹è±¡ä¸æ•°æ®åº“çš„ ORM å­—æ®µå…³ç³»æ˜ å°„</p><p>â€‹    4.æä¾›å¯¹è±¡å…³ç³»æ˜ å°„æ ‡ç­¾ï¼Œæ”¯æŒå¯¹è±¡å…³ç³»ç»„ä»¶ç»´æŠ¤</p><p>â€‹    5.çµæ´»ä¹¦å†™åŠ¨æ€ SQLï¼Œæ”¯æŒå„ç§æ¡ä»¶æ¥åŠ¨æ€ç”Ÿæˆä¸åŒçš„ SQL</p><h2 id="MyBatisç¼ºç‚¹"><a href="#MyBatisç¼ºç‚¹" class="headerlink" title="MyBatisç¼ºç‚¹"></a>MyBatisç¼ºç‚¹</h2><p>â€‹    1.ç¼–å†™ SQL è¯­å¥æ—¶å·¥ä½œé‡å¾ˆå¤§ï¼Œå°¤å…¶æ˜¯å­—æ®µå¤šã€å…³è”è¡¨å¤šæ—¶ï¼Œæ›´æ˜¯å¦‚æ­¤</p><p>â€‹    2.SQL è¯­å¥ä¾èµ–äºæ•°æ®åº“ï¼Œå¯¼è‡´æ•°æ®åº“ç§»æ¤æ€§å·®</p><h1 id="3-å¿«é€Ÿä¸Šæ‰‹"><a href="#3-å¿«é€Ÿä¸Šæ‰‹" class="headerlink" title="3.å¿«é€Ÿä¸Šæ‰‹"></a>3.å¿«é€Ÿä¸Šæ‰‹</h1><h2 id="3-1åˆ›å»ºå®ä½“ç±»User"><a href="#3-1åˆ›å»ºå®ä½“ç±»User" class="headerlink" title="3.1åˆ›å»ºå®ä½“ç±»User"></a>3.1åˆ›å»ºå®ä½“ç±»User</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">public class User  &#123;</span><br><span class="line">    private Integer id;</span><br><span class="line">    private String name;</span><br><span class="line">    private String address;</span><br><span class="line">    private String sex;</span><br><span class="line"> ..çœç•¥æ–¹æ³•   </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="3-2åˆ›å»ºæ•°æ®åº“"><a href="#3-2åˆ›å»ºæ•°æ®åº“" class="headerlink" title="3.2åˆ›å»ºæ•°æ®åº“"></a>3.2åˆ›å»ºæ•°æ®åº“</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">USE</span> <span class="string">`test`</span>;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> <span class="keyword">IF</span> <span class="keyword">EXISTS</span> <span class="string">`user`</span>;</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="string">`user`</span> (</span><br><span class="line">  <span class="string">`id`</span> <span class="built_in">int</span>(<span class="number">11</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span> AUTO_INCREMENT,</span><br><span class="line">  <span class="string">`name`</span> <span class="built_in">varchar</span>(<span class="number">32</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span>,</span><br><span class="line">  <span class="string">`address`</span> <span class="built_in">varchar</span>(<span class="number">32</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span>,</span><br><span class="line">  <span class="string">`sex`</span> <span class="built_in">varchar</span>(<span class="number">8</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span>,</span><br><span class="line">  PRIMARY <span class="keyword">KEY</span> (<span class="string">`id`</span>)</span><br><span class="line">) <span class="keyword">ENGINE</span>=<span class="keyword">InnoDB</span> AUTO_INCREMENT=<span class="number">3</span> <span class="keyword">DEFAULT</span> <span class="keyword">CHARSET</span>=utf8;</span><br><span class="line"><span class="keyword">insert</span>  <span class="keyword">into</span> <span class="string">`user`</span>(<span class="string">`id`</span>,<span class="string">`name`</span>,<span class="string">`address`</span>,<span class="string">`sex`</span>) <span class="keyword">values</span> (<span class="number">1</span>,<span class="string">'jack'</span>,<span class="string">'BeiJing'</span>,<span class="string">'nv'</span>),(<span class="number">2</span>,<span class="string">'tom'</span>,<span class="string">'Xi\'an'</span>,<span class="string">'na'</span>);</span><br></pre></td></tr></table></figure><h2 id="3-3å¼•å…¥ç›¸å…³åŒ…"><a href="#3-3å¼•å…¥ç›¸å…³åŒ…" class="headerlink" title="3.3å¼•å…¥ç›¸å…³åŒ…"></a>3.3å¼•å…¥ç›¸å…³åŒ…</h2><p>1.MyBatis-Spring-Boot-Starter (ä¾èµ–ä¸Šé¢ä¸¤ä¸ªåŒ…)</p><p>â€‹    <code>mybatis-spring-boot-starter</code>ä¸»è¦æä¾›äº†ä¸¤ç§è§£å†³æ–¹æ¡ˆï¼Œä¸€ç§æ˜¯ç®€åŒ–åçš„ XML é…ç½®ç‰ˆï¼Œä¸€ç§æ˜¯ä½¿ç”¨æ³¨è§£è§£å†³ä¸€åˆ‡é—®é¢˜ã€‚</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis.spring.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span></span><br><span class="line">mybatis-spring-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">version</span>&gt;</span>1.3.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>2.commons-lang3(æä¾›äº†å¾ˆå¤šå·¥å…·ç±»å…·ä½“å¯å‚ç…§æ–‡ç« <a href="https://blog.csdn.net/u012240455/article/details/79014224" target="_blank" rel="noopener">https://blog.csdn.net/u012240455/article/details/79014224</a>)</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.commons<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>commons-lang3<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.6<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="3-4ä¿®æ”¹application-xmlé…ç½®"><a href="#3-4ä¿®æ”¹application-xmlé…ç½®" class="headerlink" title="3.4ä¿®æ”¹application.xmlé…ç½®"></a>3.4ä¿®æ”¹application.xmlé…ç½®</h2><p>æ·»åŠ :</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mybatis.config-locations=classpath:mybatis/mybatis-config.xml</span><br><span class="line">mybatis.mapper-locations=classpath:mybatis/mapper/*.xml</span><br><span class="line">mybatis.type-aliases-package=com.neo.entity</span><br></pre></td></tr></table></figure><p>mybatis.config-locationsï¼šé…ç½® mybatis-config.xml è·¯å¾„ï¼Œmybatis-config.xml ä¸­é…ç½® MyBatis åŸºç¡€å±æ€§ã€‚</p><p>mybatis.mapper-locationsï¼šé…ç½® Mapper å¯¹åº”çš„ XML æ–‡ä»¶è·¯å¾„</p><p>mybatis.type-aliases-packageï¼šé…ç½®é¡¹ç›®ä¸­å®ä½“ç±»åŒ…è·¯å¾„</p><p>##3.5é…ç½®å¯åŠ¨ç±»</p><p>Spring Boot å¯åŠ¨æ—¶æ•°æ®æºä¼šè‡ªåŠ¨æ³¨å…¥åˆ° SqlSessionFactory ä¸­ï¼Œä½¿ç”¨ SqlSessionFactory æ„å»º SqlSessionFactoryï¼Œå†è‡ªåŠ¨æ³¨å…¥åˆ° Mapper ä¸­ï¼Œæœ€åæˆ‘ä»¬ç›´æ¥ä½¿ç”¨ Mapper å³å¯ã€‚</p><p>é…ç½®æ–¹å¼ï¼š</p><p>æ·»åŠ æ³¨è§£@MapperScan</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="meta">@EntityScan</span>(basePackages=<span class="string">"cn.itcast.sprintBootDemo.domain"</span>)</span><br><span class="line"><span class="meta">@EnableJpaRepositories</span>(basePackages = &#123;<span class="string">"cn.itcast.sprintBootDemo.repository"</span>&#125;)</span><br><span class="line"><span class="meta">@MapperScan</span>(<span class="string">"cn.itcast.sprintBootDemo.mapper"</span>)<span class="comment">//æ–°å¢</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SprintBootDemoApplication</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">      SpringApplication.run(SprintBootDemoApplication.class, args);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p> æˆ–è€…ç›´æ¥åœ¨ Mapper ç±»ä¸Šé¢æ·»åŠ æ³¨è§£<code>@Mapper</code>ï¼Œå»ºè®®ä½¿ç”¨ä¸Šé¢é‚£ç§ï¼Œä¸ç„¶æ¯ä¸ª Mapper åŠ ä¸ªæ³¨è§£ä¼šå¾ˆéº»çƒ¦ã€‚ </p><h2 id="3-6åœ¨resourceç›®å½•æ·»åŠ Mybatis-xml"><a href="#3-6åœ¨resourceç›®å½•æ·»åŠ Mybatis-xml" class="headerlink" title="3.6åœ¨resourceç›®å½•æ·»åŠ Mybatis.xml"></a>3.6åœ¨resourceç›®å½•æ·»åŠ Mybatis.xml</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE configuration PUBLIC "-//mybatis.org//DTD Config 3.0//EN" "http://mybatis.org/dtd/mybatis-3-config.dtd"&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">typeAliases</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">typeAlias</span> <span class="attr">alias</span>=<span class="string">"Integer"</span> <span class="attr">type</span>=<span class="string">"java.lang.Integer"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">typeAlias</span> <span class="attr">alias</span>=<span class="string">"Long"</span> <span class="attr">type</span>=<span class="string">"java.lang.Long"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">typeAlias</span> <span class="attr">alias</span>=<span class="string">"HashMap"</span> <span class="attr">type</span>=<span class="string">"java.util.HashMap"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">typeAlias</span> <span class="attr">alias</span>=<span class="string">"LinkedHashMap"</span> <span class="attr">type</span>=<span class="string">"java.util.LinkedHashMap"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">typeAlias</span> <span class="attr">alias</span>=<span class="string">"ArrayList"</span> <span class="attr">type</span>=<span class="string">"java.util.ArrayList"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">typeAlias</span> <span class="attr">alias</span>=<span class="string">"LinkedList"</span> <span class="attr">type</span>=<span class="string">"java.util.LinkedList"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">typeAliases</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="3-7åœ¨mapperåŒ…ä¸‹åˆ›å»ºUserMapperæ¥å£"><a href="#3-7åœ¨mapperåŒ…ä¸‹åˆ›å»ºUserMapperæ¥å£" class="headerlink" title="3.7åœ¨mapperåŒ…ä¸‹åˆ›å»ºUserMapperæ¥å£"></a>3.7åœ¨mapperåŒ…ä¸‹åˆ›å»ºUserMapperæ¥å£</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">UserMapper</span> </span>&#123;</span><br><span class="line">    <span class="function">List&lt;User&gt; <span class="title">findAll</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function">User <span class="title">findUserById</span><span class="params">(Integer id)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="3-8åˆ›å»ºUserMapper-xml"><a href="#3-8åˆ›å»ºUserMapper-xml" class="headerlink" title="3.8åˆ›å»ºUserMapper.xml"></a>3.8åˆ›å»ºUserMapper.xml</h2><p>è¯¥æ–‡ä»¶çš„è·¯å¾„å¿…é¡»å’Œå¯¹åº”çš„UserMapper.javaæ–‡ä»¶åœ¨åŒä¸€ç›®å½•ä¸‹</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" &gt;</span></span><br><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" &gt;</span></span><br><span class="line"><span class="comment">&lt;!--namesspaceä¸­å†™å¯¹åº”çš„mapperæ¥å£çš„å…¨ç±»å--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">"cn.itcast.sprintBootDemo.mapper.UserMapper"</span> &gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">resultMap</span> <span class="attr">id</span>=<span class="string">"BaseResultMap"</span> <span class="attr">type</span>=<span class="string">"cn.itcast.sprintBootDemo.domain.User"</span> &gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">id</span> <span class="attr">column</span>=<span class="string">"id"</span> <span class="attr">property</span>=<span class="string">"id"</span> <span class="attr">jdbcType</span>=<span class="string">"BIGINT"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">"name"</span> <span class="attr">property</span>=<span class="string">"name"</span> <span class="attr">jdbcType</span>=<span class="string">"VARCHAR"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">"address"</span> <span class="attr">property</span>=<span class="string">"address"</span> <span class="attr">jdbcType</span>=<span class="string">"VARCHAR"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">"sex"</span> <span class="attr">property</span>=<span class="string">"sex"</span> <span class="attr">jdbcType</span>=<span class="string">"VARCHAR"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">resultMap</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">"findAll"</span> <span class="attr">resultMap</span>=<span class="string">"BaseResultMap"</span>&gt;</span></span><br><span class="line">      SELECT  *  FROM `user`;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">"findUserById"</span> <span class="attr">resultMap</span>=<span class="string">"BaseResultMap"</span> <span class="attr">parameterType</span>=<span class="string">"java.lang.Integer"</span>&gt;</span></span><br><span class="line">        SELECT  *  from `user` where id = #&#123;id&#125;;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br></pre></td></tr></table></figure><h1 id="4-æŸ¥è¯¢å…¨éƒ¨"><a href="#4-æŸ¥è¯¢å…¨éƒ¨" class="headerlink" title="4.æŸ¥è¯¢å…¨éƒ¨"></a>4.æŸ¥è¯¢å…¨éƒ¨</h1><p>åˆšæ‰å¿«é€Ÿä¸Šæ‰‹ä¸­çš„UserMapperæ¥å£ä¸­å®šä¹‰äº†ä¸¤ä¸ªæŸ¥è¯¢åŠŸèƒ½ï¼Œç›´æ¥æµ‹è¯•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RunWith</span>(SpringRunner.class)</span><br><span class="line"><span class="meta">@EntityScan</span>(basePackages=<span class="string">"cn.itcast.sprintBootDemo.domain"</span>)</span><br><span class="line"><span class="meta">@MapperScan</span>(<span class="string">"cn.itcast.sprintBootDemo.mapper"</span>)</span><br><span class="line"><span class="meta">@SpringBootTest</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserMapperTest</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> UserMapper userMapper;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testUser</span><span class="params">()</span>  </span>&#123;</span><br><span class="line">        List&lt;User&gt; users = userMapper.findAll();</span><br><span class="line">        System.out.println(users.size());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™å—çš„æ³¨è§£ç»å¸¸ä¼šæŠ¥â€œcould not autowireâ€ï¼ŒEclipse å´æ²¡æœ‰é—®é¢˜ï¼Œå…¶å®ä»£ç æ˜¯æ­£ç¡®çš„ï¼Œè¿™æ˜¯ Idea çš„è¯¯æŠ¥ã€‚å¯ä»¥é€‰æ‹©é™ä½ Autowired æ£€æµ‹çš„çº§åˆ«ï¼Œä¸è¦æç¤ºå°±å¥½ã€‚</p><p>å•å‡» File | Settings | Editor | Inspections å‘½ä»¤ï¼Œä½¿ç”¨æœç´¢åŠŸèƒ½æ‰¾åˆ° Autowiring for Bean Class é€‰é¡¹ï¼Œå°† Severity çš„çº§åˆ«ç”±ä¹‹å‰çš„ error æ”¹æˆ warning å³å¯ã€‚</p><p><img src="//haoyongliang.gitee.io/2018/06/09/SpringBoot/05SpringBooté›†æˆMyBatis/SpringBooté›†æˆMyBatis/idea.png" alt></p><p>#5.æ ¹æ®æ¡ä»¶æŸ¥è¯¢</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RunWith</span>(SpringRunner.class)</span><br><span class="line"><span class="meta">@EntityScan</span>(basePackages=<span class="string">"cn.itcast.sprintBootDemo.domain"</span>)</span><br><span class="line"><span class="meta">@MapperScan</span>(<span class="string">"cn.itcast.sprintBootDemo.mapper"</span>)</span><br><span class="line"><span class="meta">@SpringBootTest</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserMapperTest</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> UserMapper userMapper;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testUser</span><span class="params">()</span>  </span>&#123;</span><br><span class="line">        User user = userMapper.findUserById(<span class="number">1</span>);</span><br><span class="line">        System.out.println(user);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>#6.æ·»åŠ /åˆ é™¤/ä¿®æ”¹</p><p>æ·»åŠ æ¥å£</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">save</span><span class="params">(User user)</span></span>;</span><br></pre></td></tr></table></figure><p>æ·»åŠ é…ç½®æ–‡ä»¶</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">insert</span> <span class="attr">id</span>=<span class="string">"save"</span> <span class="attr">parameterType</span>=<span class="string">"cn.itcast.sprintBootDemo.domain.User"</span> &gt;</span></span><br><span class="line">    INSERT INTO `user`</span><br><span class="line"></span><br><span class="line">    (name, address, sex)</span><br><span class="line">    VALUES</span><br><span class="line">    (#&#123;name&#125;, #&#123;address&#125;, #&#123;sex&#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">insert</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æµ‹è¯•ç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RunWith</span>(SpringRunner.class)</span><br><span class="line"><span class="meta">@EntityScan</span>(basePackages=<span class="string">"cn.itcast.sprintBootDemo.domain"</span>)</span><br><span class="line"><span class="meta">@MapperScan</span>(<span class="string">"cn.itcast.sprintBootDemo.mapper"</span>)</span><br><span class="line"><span class="meta">@SpringBootTest</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserMapperTest</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> UserMapper userMapper;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testSave</span><span class="params">()</span>  </span>&#123;</span><br><span class="line">        User u = <span class="keyword">new</span> User();</span><br><span class="line">        u.setAddress(<span class="string">"æ²³åŒ—"</span>);</span><br><span class="line">        u.setSex(<span class="string">"nan"</span>);</span><br><span class="line">        u.setName(<span class="string">"å¼ ä¸‰"</span>);</span><br><span class="line"></span><br><span class="line">        userMapper.save(u);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="7-æ³¨æ„äº‹é¡¹"><a href="#7-æ³¨æ„äº‹é¡¹" class="headerlink" title="7.æ³¨æ„äº‹é¡¹"></a>7.æ³¨æ„äº‹é¡¹</h1><p>1.UserMapper.xmlå’ŒUserMapper.javaå¿…é¡»åœ¨åŒä¸€ç›®å½•ä¸­</p><p>2.UserMaper.xmlçš„namespaceçš„å€¼æ˜¯UserMapperæ¥å£çš„å…¨è·¯å¾„</p><p>3.UserMapper.xmlä¸­çš„idå€¼å¿…é¡»å’ŒUserMapperçš„æ¥å£ä¸­çš„æ–¹æ³•å¯¹åº”</p>]]></content>
      
      
      <categories>
          
          <category> æ¡†æ¶ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SpringBoot </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>04.Spring BootæŠ€æœ¯æ ˆ1.X(Thymeleaf )</title>
      <link href="/2018/06/08/SpringBoot/04SpringBoot%E9%9B%86%E6%88%90Thymeleaf/SpringBoot%E9%9B%86%E6%88%90Thymeleaf/"/>
      <url>/2018/06/08/SpringBoot/04SpringBoot%E9%9B%86%E6%88%90Thymeleaf/SpringBoot%E9%9B%86%E6%88%90Thymeleaf/</url>
      
        <content type="html"><![CDATA[<blockquote><p>æœ¬ç¯‡ä»‹ç» SpringBooté›†æˆæ¨¡æ¿å¼•æ“Thymeleafä»¥åŠThymeleafæ¨¡æ¿å¼•æ“çš„ç›¸å…³è¯­æ³•</p></blockquote><h1 id="1-Thymeleafæ¨¡æ¿å¼•æ“ä»‹ç»"><a href="#1-Thymeleafæ¨¡æ¿å¼•æ“ä»‹ç»" class="headerlink" title="1.Thymeleafæ¨¡æ¿å¼•æ“ä»‹ç»"></a>1.Thymeleafæ¨¡æ¿å¼•æ“ä»‹ç»</h1><blockquote><p>æç¤º:Spring Boot æ¨èä½¿ç”¨ Thymeleaf æ¥ä»£æ›¿ JSP ï¼Œ</p></blockquote><p>Thymeleaf æ˜¯ä¸€æ¬¾ç”¨äºæ¸²æŸ“ XML/XHTML/HTML 5 å†…å®¹çš„æ¨¡æ¿å¼•æ“ã€‚ç±»ä¼¼ JSPã€Velocityã€FreeMaker  ç­‰ï¼Œå®ƒä¹Ÿå¯ä»¥è½»æ˜“çš„ä¸ Spring MVC ç­‰ Web æ¡†æ¶è¿›è¡Œé›†æˆä½œä¸º Web åº”ç”¨çš„æ¨¡æ¿å¼•æ“ã€‚ä¸å…¶ä»–æ¨¡æ¿å¼•æ“ç›¸æ¯”ï¼ŒThymeleaf  æœ€å¤§çš„ç‰¹ç‚¹æ˜¯èƒ½å¤Ÿç›´æ¥åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€å¹¶æ­£ç¡®æ˜¾ç¤ºæ¨¡æ¿é¡µé¢ï¼Œè€Œä¸éœ€è¦å¯åŠ¨æ•´ä¸ª Web åº”ç”¨ã€‚ </p><p>ä¾‹å¦‚ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Velocity: &lt;p&gt;$message&lt;/p&gt;</span><br><span class="line">FreeMarker: &lt;p&gt;$&#123;message&#125;&lt;/p&gt;</span><br><span class="line">Thymeleaf: &lt;p th:text=&quot;$&#123;message&#125;&quot;&gt;Hello World!&lt;/p&gt;</span><br></pre></td></tr></table></figure><p>å¦‚æœå°†ä¸Šé¢ä¸‰å¥è¯æ’å…¥åˆ°ä¸€ä¸ªé™æ€é¡µé¢ï¼Œç›´æ¥æ‰“å¼€è¯¥é™æ€é¡µé¢ï¼ŒVelocityæ˜¾ç¤º<strong>$message</strong>,FreeMarkeræ˜¾ç¤º<strong>${message}</strong>,Thymeleafæ˜¾ç¤º <strong>Hello World!</strong>ã€‚èƒ½å¤Ÿå‹å¥½æ˜¾ç¤ºæ•°æ®çš„åªæœ‰Thymeleaf</p><p>Thymeleaf çš„ä½œç”¨åŸŸåœ¨ html æ ‡ç­¾å†…ï¼Œç±»ä¼¼æ ‡ç­¾çš„ä¸€ä¸ªå±æ€§æ¥ä½¿ç”¨ï¼Œè¿™å°±æ˜¯å®ƒçš„ç‰¹ç‚¹ </p><h1 id="2-å¼€å‘ç¯å¢ƒæ­å»º"><a href="#2-å¼€å‘ç¯å¢ƒæ­å»º" class="headerlink" title="2.å¼€å‘ç¯å¢ƒæ­å»º"></a>2.å¼€å‘ç¯å¢ƒæ­å»º</h1><h2 id="1-æ·»åŠ ä¾èµ–"><a href="#1-æ·»åŠ ä¾èµ–" class="headerlink" title="1.æ·»åŠ ä¾èµ–"></a>1.æ·»åŠ ä¾èµ–</h2><blockquote><p>å°æŠ€å·§</p><p>â€‹    net.sourceforge.nekohtml è¿™ä¸ªä¾èµ–å¯¹äºå¼€å‘å¾ˆæœ‰ç”¨ï¼Œå› ä¸ºthymeleafçš„è¯­æ³•ä¸¥æ ¼è¦æ±‚html5è¯­æ³•ï¼Œå¿…é¡»æœ‰ç»“æŸæ ‡ç­¾ï¼Œé…ç½®è¯¥ä¾èµ–åå¯ä»¥å¿½ç•¥è¿™äº›é—®é¢˜ï¼Œè¯¥ä¾èµ–è¦å’Œspring.thymeleaf.mode=LEGACYHTML5è¿™ä¸ªé…ç½®ä¸€èµ·ä½¿ç”¨</p></blockquote><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-thymeleaf<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--å…¼å®¹ä¸ä¸¥è°¨çš„html5è¯­æ³•--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>net.sourceforge.nekohtml<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>nekohtml<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.9.22<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="2-ç¼–å†™é¡µé¢"><a href="#2-ç¼–å†™é¡µé¢" class="headerlink" title="2.ç¼–å†™é¡µé¢"></a>2.ç¼–å†™é¡µé¢</h2><blockquote><p>æ³¨æ„ï¼š</p><p>â€‹    templatesç›®å½•ä¸å­˜åœ¨,éœ€è¦æ‰‹åŠ¨åˆ›å»º</p><p>â€‹    å¼•å…¥thymeleaf çš„çº¦æŸä¸€å®šè¦åœ¨htmlæ ‡ç­¾ä¸­å¼•å…¥</p></blockquote><p>spring-booté¡¹ç›®é™æ€æ–‡ä»¶ç›®å½•ï¼š/src/java/resources/static<br>spring-booté¡¹ç›®æ¨¡æ¿æ–‡ä»¶ç›®å½•ï¼š/src/java/resources/templates<br>æ‰€ä»¥æ–°å»ºç«‹çš„.htmlæ–‡ä»¶åº”è¯¥æ”¾åœ¨/src/java/resources/templatesä¸‹ã€‚</p><p>æ–‡ç« è¿™é‡Œåœ¨/src/java/resources/templates ç›®å½•ä¸‹æ–°å»ºindex.html,å†…å®¹å¦‚ä¸‹</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span> <span class="attr">xmlns:th</span>=<span class="string">"http://www.thymeleaf.org"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">hello world</span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="3-ä¿®æ”¹application-properties"><a href="#3-ä¿®æ”¹application-properties" class="headerlink" title="3.ä¿®æ”¹application.properties"></a>3.ä¿®æ”¹application.properties</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">#thymeleaæ¨¡æ¿é…ç½®</span><br><span class="line">#å…³é—­thymeleafç¼“å­˜ å¼€å‘æ—¶ä½¿ç”¨ å¦åˆ™æ²¡æœ‰å®æ—¶ç”»é¢</span><br><span class="line">spring.thymeleaf.cache=false</span><br><span class="line"># æ„å»ºURLæ—¶é™„åŠ æŸ¥çœ‹åç§°çš„åç¼€.</span><br><span class="line">spring.thymeleaf.suffix=.html</span><br><span class="line">#æ¨¡æ¿ç¼–ç </span><br><span class="line">spring.thymeleaf.mode=LEGACYHTML5</span><br><span class="line">spring.thymeleaf.encoding=UTF-8</span><br><span class="line">#Content-Typeå€¼</span><br><span class="line">spring.thymeleaf.content-type=text/html</span><br><span class="line">## é™æ€æ–‡ä»¶è¯·æ±‚åŒ¹é…æ–¹å¼</span><br><span class="line">spring.mvc.static-path-pattern=/**</span><br><span class="line"># ä¿®æ”¹é»˜è®¤çš„é™æ€å¯»å€èµ„æºç›®å½•</span><br><span class="line">spring.resources.static-locations = classpath:/templates/,classpath:/META-INF/resources/,classpath:/resources/,classpath:/static/,classpath:/public/</span><br><span class="line">## æ£€æŸ¥æ¨¡æ¿æ˜¯å¦å­˜åœ¨ï¼Œç„¶åå†å‘ˆç°</span><br><span class="line">spring.thymeleaf.check-template-location=true</span><br><span class="line">#å¯ç”¨MVC Thymeleafè§†å›¾åˆ†è¾¨ç‡</span><br><span class="line">spring.thymeleaf.enabled=true</span><br></pre></td></tr></table></figure><h2 id="4-åˆ›å»ºæ§åˆ¶å™¨"><a href="#4-åˆ›å»ºæ§åˆ¶å™¨" class="headerlink" title="4.åˆ›å»ºæ§åˆ¶å™¨"></a>4.åˆ›å»ºæ§åˆ¶å™¨</h2><blockquote><p>æ³¨æ„ï¼š</p><p>â€‹    è¿™é‡Œå¿…é¡»ä½¿ç”¨@Controlleræ³¨è§£ï¼Œä¸è¦ä½¿ç”¨@RestController</p><p>â€‹    æ–¹æ³•è¿”å›å€¼ä¸­çš„é¡µé¢ä¸èƒ½å¸¦æœ‰.htmlåç¼€</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Controller</span>()</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ThymeleafDemoController</span> </span>&#123;</span><br><span class="line">    <span class="meta">@RequestMapping</span>(<span class="string">"/thymeleafDemo"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">index</span><span class="params">(ModelMap model)</span></span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="string">"index"</span>;<span class="comment">//è·³è½¬åˆ°static/templates/index.htmlé¡µé¢</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="5-æµ‹è¯•"><a href="#5-æµ‹è¯•" class="headerlink" title="5.æµ‹è¯•"></a>5.æµ‹è¯•</h2><p>è®¿é—®<a href="http://localhost:8080/thymeleafDemo" target="_blank" rel="noopener">http://localhost:8080/thymeleafDemo</a></p><p><img src="//haoyongliang.gitee.io/2018/06/08/SpringBoot/04SpringBooté›†æˆThymeleaf/SpringBooté›†æˆThymeleaf/SpringBoot%E9%9B%86%E6%88%90Thymeleaf%5C01.png" alt></p><h1 id="3-å¼•å…¥å¤–éƒ¨JSå’ŒCSS"><a href="#3-å¼•å…¥å¤–éƒ¨JSå’ŒCSS" class="headerlink" title="3.å¼•å…¥å¤–éƒ¨JSå’ŒCSS"></a>3.å¼•å…¥å¤–éƒ¨JSå’ŒCSS</h1><blockquote><p>è¿™é‡Œä»¥å¼•å…¥bootsstrapä¸ºä¾‹</p></blockquote><p>##1.å¯¼å…¥bootstrapæ‰€éœ€ç›¸å…³æ–‡ä»¶</p><p>é¦–å…ˆåœ¨resource/staticç›®å½•ä¸‹å¼•å…¥ä»¥ä¸‹æ–‡ä»¶</p><p><img src="//haoyongliang.gitee.io/2018/06/08/SpringBoot/04SpringBooté›†æˆThymeleaf/SpringBooté›†æˆThymeleaf/02.png" alt></p><h2 id="2-åœ¨æ¨¡æ¿é¡µé¢å¼•å…¥èµ„æºæ–‡ä»¶"><a href="#2-åœ¨æ¨¡æ¿é¡µé¢å¼•å…¥èµ„æºæ–‡ä»¶" class="headerlink" title="2.åœ¨æ¨¡æ¿é¡µé¢å¼•å…¥èµ„æºæ–‡ä»¶"></a>2.åœ¨æ¨¡æ¿é¡µé¢å¼•å…¥èµ„æºæ–‡ä»¶</h2><p>è¯­æ³•è¯´æ˜</p><p>â€‹    <strong>@{/js/jquery.js}</strong>ç›¸å¯¹äºé¡¹ç›®ä¸Šä¸‹æ–‡ï¼ˆContextï¼Œäº¦å³é¡¹ç›®éƒ¨ç½²æ—¶çš„è·¯å¾„åï¼‰çš„ç›¸å¯¹è·¯å¾„ï¼Œä¾‹å¦‚ï¼Œå‡è®¾éƒ¨ç½²çš„é¡¹ç›®Contextä¸º app  ,åˆ™thymeleafçš„å†™æ³•å’Œå®é™…æ•ˆæœå¦‚ä¸‹å›¾ã€‚ç‚¹å‡»è¯¥é“¾æ¥æ—¶ï¼Œè®¿é—®çš„åœ°å€æ˜¯http://{serverName}:{port}/app/js/jquery.js </p><p>æ‰“å¼€resource/templates/index.html</p><p>ä¿®æ”¹headæ ‡ç­¾ï¼Œåœ¨å…¶ä¸­å¼•å…¥ç›¸å…³æ–‡ä»¶</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--å¼•å…¥bootstrapç›¸å…³JS--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">th:src</span>=<span class="string">"@&#123;/js/jquery.js&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">th:src</span>=<span class="string">"@&#123;/js/bootstrap.min.js&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--å¼•å…¥bootstrapç›¸å…³æ ·å¼--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">th:href</span>=<span class="string">"@&#123;/css/bootstrap.min.css&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">link</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="3-ä½¿ç”¨bootstrapç›¸å…³æ ·å¼"><a href="#3-ä½¿ç”¨bootstrapç›¸å…³æ ·å¼" class="headerlink" title="3.ä½¿ç”¨bootstrapç›¸å…³æ ·å¼"></a>3.ä½¿ç”¨bootstrapç›¸å…³æ ·å¼</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"row"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"col-md-12"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">class</span>=<span class="string">"btn btn-danger"</span>&gt;</span>æŒ‰é’®<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><h1 id="4-th-æ¨¡æ¿è¯­æ³•"><a href="#4-th-æ¨¡æ¿è¯­æ³•" class="headerlink" title="4.th:æ¨¡æ¿è¯­æ³•"></a>4.th:æ¨¡æ¿è¯­æ³•</h1><blockquote><p>åœ¨æ¨¡æ¿è¯­æ³•ä¸­æ‰€æœ‰çš„è¡¨è¾¾å¼éƒ½åº”è¯¥ç”¨ <code>${è¡¨è¾¾å¼}</code> åŒ…è£¹èµ·æ¥</p></blockquote><h2 id="æ˜¾ç¤ºæ•°æ®"><a href="#æ˜¾ç¤ºæ•°æ®" class="headerlink" title="æ˜¾ç¤ºæ•°æ®"></a>æ˜¾ç¤ºæ•°æ®</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">th:text</span>=<span class="string">"$&#123;message&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="å¾ªç¯"><a href="#å¾ªç¯" class="headerlink" title="å¾ªç¯"></a>å¾ªç¯</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">tr</span> <span class="attr">th:each</span>=<span class="string">"user,userStat:$&#123;users&#125;"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br></pre></td></tr></table></figure><p>th:eachå±æ€§ç”¨äºè¿­ä»£å¾ªç¯ï¼Œè¯­æ³•ï¼šth:each=â€obj,iterStat:${objList}â€</p><p>è¿­ä»£å¯¹è±¡å¯ä»¥æ˜¯java.util.List,java.util.Map,æ•°ç»„ç­‰;</p><p>iterStatç§°ä½œçŠ¶æ€å˜é‡ï¼Œå±æ€§æœ‰ï¼š<br>     index:å½“å‰è¿­ä»£å¯¹è±¡çš„indexï¼ˆä»0å¼€å§‹è®¡ç®—ï¼‰<br>     count: å½“å‰è¿­ä»£å¯¹è±¡çš„index(ä»1å¼€å§‹è®¡ç®—)<br>     size:è¢«è¿­ä»£å¯¹è±¡çš„å¤§å°<br>     current:å½“å‰è¿­ä»£å˜é‡<br>     even/odd:å¸ƒå°”å€¼ï¼Œå½“å‰å¾ªç¯æ˜¯å¦æ˜¯å¶æ•°/å¥‡æ•°ï¼ˆä»0å¼€å§‹è®¡ç®—ï¼‰<br>     first:å¸ƒå°”å€¼ï¼Œå½“å‰å¾ªç¯æ˜¯å¦æ˜¯ç¬¬ä¸€ä¸ª<br>     last:å¸ƒå°”å€¼ï¼Œå½“å‰å¾ªç¯æ˜¯å¦æ˜¯æœ€åä¸€ä¸ª</p><h2 id="åˆ¤æ–­"><a href="#åˆ¤æ–­" class="headerlink" title="åˆ¤æ–­"></a>åˆ¤æ–­</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">th:if</span>=<span class="string">"$&#123;'1' == flag&#125;"</span> &gt;</span></span><br></pre></td></tr></table></figure><h2 id="ç»¼åˆå°æ¡ˆä¾‹"><a href="#ç»¼åˆå°æ¡ˆä¾‹" class="headerlink" title="ç»¼åˆå°æ¡ˆä¾‹"></a>ç»¼åˆå°æ¡ˆä¾‹</h2><blockquote><p>éœ€æ±‚ï¼šåœ¨é¡µé¢æ˜¾ç¤ºæ‰€æœ‰çš„å§“åï¼Œéš”è¡Œæ¢è‰²ï¼Œå¦‚æœæ˜¯å¥‡æ•°è¡Œæœ€åä¸€ä¸ªå•å…ƒæ ¼åˆ™æ˜¾ç¤ºå¥‡æ•°ï¼Œå¦åˆ™æ˜¾ç¤ºå¶æ•°</p><p>ä½¿ç”¨åˆ°çš„æ ‡ç­¾ th:text, th:if, th:each,th:class</p></blockquote><p>æ§åˆ¶å™¨ä»£ç </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping</span>(<span class="string">"/thymeleafDemo"</span>)</span><br><span class="line">   <span class="function"><span class="keyword">public</span> String <span class="title">index</span><span class="params">(ModelMap model)</span></span>&#123;</span><br><span class="line">       List&lt;String&gt; names = <span class="keyword">new</span> ArrayList&lt;String&gt;();</span><br><span class="line">       names.add(<span class="string">"é£æ¸…æ‰¬"</span>);</span><br><span class="line">       names.add(<span class="string">"è·¯äººç”²"</span>);</span><br><span class="line">       names.add(<span class="string">"ä¸œæ–¹ä¸è´¥"</span>);</span><br><span class="line">       names.add(<span class="string">"ç‹¬å­¤æ±‚è´¥"</span>);</span><br><span class="line">       names.add(<span class="string">"é¬¼è„šä¸ƒ"</span>);</span><br><span class="line">       names.add(<span class="string">"å­™æ‚Ÿç©º"</span>);</span><br><span class="line">       model.addAttribute(<span class="string">"names"</span>,names);</span><br><span class="line">       <span class="keyword">return</span> <span class="string">"index"</span>;<span class="comment">//è·³è½¬åˆ°index.htmlé¡µé¢</span></span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><p>é¡µé¢ä»£ç </p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>   <span class="attr">xmlns:th</span>=<span class="string">"http://www.thymeleaf.org"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--å¼•å…¥bootstrapç›¸å…³JS--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">th:src</span>=<span class="string">"@&#123;/js/jquery.js&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">th:src</span>=<span class="string">"@&#123;/js/bootstrap.min.js&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--å¼•å…¥bootstrapç›¸å…³æ ·å¼--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">th:href</span>=<span class="string">"@&#123;/css/bootstrap.min.css&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">link</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"row"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"col-md-12"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">table</span> <span class="attr">class</span>=<span class="string">"table "</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">tr</span> <span class="attr">class</span>=<span class="string">"warning"</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">td</span>&gt;</span>ç´¢å¼•<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">td</span>&gt;</span>åºå·<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">td</span>&gt;</span>å§“å<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">td</span>&gt;</span>å¥‡/å¶<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">tr</span> <span class="attr">th:each</span>=<span class="string">"name,state:$&#123;names&#125;"</span> <span class="attr">th:class</span>=<span class="string">"$&#123;state.index%2==0?'success':'info'&#125;"</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">td</span> <span class="attr">th:text</span>=<span class="string">"$&#123;state.index&#125;"</span>&gt;</span>ä»0å¼€å§‹<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">td</span> <span class="attr">th:text</span>=<span class="string">"$&#123;state.count&#125;"</span>&gt;</span>ä»1å¼€å§‹<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">td</span> <span class="attr">th:text</span>=<span class="string">"$&#123;name&#125;"</span>&gt;</span>å§“å<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">td</span> <span class="attr">th:if</span>=<span class="string">"$&#123;state.index%2==0&#125;"</span>&gt;</span>å¶æ•°<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">td</span> <span class="attr">th:if</span>=<span class="string">"$&#123;state.index%2!=0&#125;"</span>&gt;</span>å¥‡æ•°<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>é¡µé¢æ•ˆæœ</p><p><img src="//haoyongliang.gitee.io/2018/06/08/SpringBoot/04SpringBooté›†æˆThymeleaf/SpringBooté›†æˆThymeleaf/03.png" alt></p><h2 id="é™„-thæ ‡ç­¾åº“"><a href="#é™„-thæ ‡ç­¾åº“" class="headerlink" title="é™„:thæ ‡ç­¾åº“"></a>é™„:thæ ‡ç­¾åº“</h2><table><thead><tr><th>å…³é”®å­—</th><th>åŠŸèƒ½ä»‹ç»</th><th>æ¡ˆä¾‹</th></tr></thead><tbody><tr><td>th:id</td><td>æ›¿æ¢id</td><td><code>&lt;input th:id=&quot;&#39;xxx&#39; + ${collect.id}&quot;/&gt;</code></td></tr><tr><td>th:text</td><td>æ–‡æœ¬æ›¿æ¢</td><td><code>&lt;p th:text=&quot;${collect.description}&quot;&gt;description&lt;/p&gt;</code></td></tr><tr><td>th:utext</td><td>æ”¯æŒhtmlçš„æ–‡æœ¬æ›¿æ¢</td><td><code>&lt;p th:utext=&quot;${htmlcontent}&quot;&gt;conten&lt;/p&gt;</code></td></tr><tr><td>th:object</td><td>æ›¿æ¢å¯¹è±¡</td><td><code>&lt;div th:object=&quot;${session.user}&quot;&gt;</code></td></tr><tr><td>th:value</td><td>å±æ€§èµ‹å€¼</td><td><code>&lt;input th:value=&quot;${user.name}&quot; /&gt;</code></td></tr><tr><td>th:with</td><td>å˜é‡èµ‹å€¼è¿ç®—</td><td><code>&lt;div th:with=&quot;isEven=${prodStat.count}%2==0&quot;&gt;&lt;/div&gt;</code></td></tr><tr><td>th:style</td><td>è®¾ç½®æ ·å¼</td><td><code>th:style=&quot;&#39;display:&#39; + @{(${sitrue} ? &#39;none&#39; : &#39;inline-block&#39;)} + &#39;&#39;&quot;</code></td></tr><tr><td>th:onclick</td><td>ç‚¹å‡»äº‹ä»¶</td><td><code>th:onclick=&quot;&#39;getCollect()&#39;&quot;</code></td></tr><tr><td>th:each</td><td>å±æ€§èµ‹å€¼</td><td><code>tr th:each=&quot;user,userStat:${users}&quot;&gt;</code></td></tr><tr><td>th:if</td><td>åˆ¤æ–­æ¡ä»¶</td><td><code>&lt;a th:if=&quot;${userId == collect.userId}&quot; &gt;</code></td></tr><tr><td>th:href</td><td>é“¾æ¥åœ°å€</td><td><code>&lt;a th:href=&quot;@{/login}&quot; th:unless=${session.user != null}&gt;Login&lt;/a&gt; /&gt;</code></td></tr><tr><td>th:switch</td><td>å¤šè·¯é€‰æ‹© é…åˆth:case ä½¿ç”¨</td><td><code>&lt;div th:switch=&quot;${user.role}&quot;&gt;</code></td></tr><tr><td>th:case</td><td>th:switchçš„ä¸€ä¸ªåˆ†æ”¯</td><td><code>&lt;p th:case=&quot;&#39;admin&#39;&quot;&gt;User is an administrator&lt;/p&gt;</code></td></tr><tr><td>th:fragment</td><td>å¸ƒå±€æ ‡ç­¾ï¼Œå®šä¹‰ä¸€ä¸ªä»£ç ç‰‡æ®µï¼Œæ–¹ä¾¿å…¶å®ƒåœ°æ–¹å¼•ç”¨</td><td><code>&lt;div th:fragment=&quot;alert&quot;&gt;</code></td></tr><tr><td>th:include</td><td>å¸ƒå±€æ ‡ç­¾ï¼Œæ›¿æ¢å†…å®¹åˆ°å¼•å…¥çš„æ–‡ä»¶</td><td><code>&lt;head th:include=&quot;layout :: htmlhead&quot; th:with=&quot;title=&#39;xx&#39;&quot;&gt;&lt;/head&gt; /&gt;</code></td></tr><tr><td>th:replace</td><td>å¸ƒå±€æ ‡ç­¾ï¼Œæ›¿æ¢æ•´ä¸ªæ ‡ç­¾åˆ°å¼•å…¥çš„æ–‡ä»¶</td><td><code>&lt;div th:replace=&quot;fragments/header :: title&quot;&gt;&lt;/div&gt;</code></td></tr><tr><td>th:selected</td><td>selectedé€‰æ‹©æ¡† é€‰ä¸­</td><td><code>th:selected=&quot;(${xxx.id} == ${configObj.dd})&quot;</code></td></tr><tr><td>th:src</td><td>å›¾ç‰‡ç±»åœ°å€å¼•å…¥</td><td><code>&lt;img class=&quot;img-responsive&quot; alt=&quot;App Logo&quot; th:src=&quot;@{/img/logo.png}&quot; /&gt;</code></td></tr><tr><td>th:inline</td><td>å®šä¹‰jsè„šæœ¬å¯ä»¥ä½¿ç”¨å˜é‡</td><td><code>&lt;script type=&quot;text/javascript&quot; th:inline=&quot;javascript&quot;&gt;</code></td></tr><tr><td>th:action</td><td>è¡¨å•æäº¤çš„åœ°å€</td><td><code>&lt;form action=&quot;subscribe.html&quot; th:action=&quot;@{/subscribe}&quot;&gt;</code></td></tr><tr><td>th:remove</td><td>åˆ é™¤æŸä¸ªå±æ€§</td><td><code>&lt;tr th:remove=&quot;all&quot;&gt; 1.all:åˆ é™¤åŒ…å«æ ‡ç­¾å’Œæ‰€æœ‰çš„å­©å­ã€‚</code></td></tr><tr><td>th:attr</td><td>è®¾ç½®æ ‡ç­¾å±æ€§ï¼Œå¤šä¸ªå±æ€§å¯ä»¥ç”¨é€—å·åˆ†éš”</td><td>æ¯”å¦‚ <code>th:attr=&quot;src=@{/image/aa.jpg},title=#{logo}&quot;</code>ï¼Œæ­¤æ ‡ç­¾ä¸å¤ªä¼˜é›…ï¼Œä¸€èˆ¬ç”¨çš„æ¯”è¾ƒå°‘ã€‚</td></tr><tr><td>th:unless</td><td>å’Œth:ifåˆ¤æ–­ç›¸å</td><td><code>&lt;a th:href=&quot;@{/login}&quot; th:unless=${session.user != null}&gt;Login&lt;/a&gt;</code></td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> æ¡†æ¶ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SpringBoot </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>03.Spring BootæŠ€æœ¯æ ˆ1.X(Spring Data JPA)</title>
      <link href="/2018/06/07/SpringBoot/03SpringDataJPA%E4%BD%BF%E7%94%A8/SpringDataJPA%E4%BD%BF%E7%94%A8/"/>
      <url>/2018/06/07/SpringBoot/03SpringDataJPA%E4%BD%BF%E7%94%A8/SpringDataJPA%E4%BD%BF%E7%94%A8/</url>
      
        <content type="html"><![CDATA[<h1 id="Spring-BootæŠ€æœ¯æ ˆ-Spring-Data-JPA"><a href="#Spring-BootæŠ€æœ¯æ ˆ-Spring-Data-JPA" class="headerlink" title="Spring BootæŠ€æœ¯æ ˆ(Spring Data JPA)"></a>Spring BootæŠ€æœ¯æ ˆ(Spring Data JPA)</h1><blockquote><p>æœ¬ç¯‡ä»‹ç» é€šè¿‡Spring Data JPAå¯¹æ•°æ®åº“è¿›è¡Œå¸¸è§çš„æ“ä½œ:åˆ é™¤ã€ä¿®æ”¹ã€æ·»åŠ ã€æ¡ä»¶æŸ¥è¯¢ã€åˆ†é¡µæŸ¥è¯¢ã€å•è¡¨æŸ¥è¯¢ã€å¤šè¡¨æŸ¥è¯¢ã€‚</p></blockquote><h1 id="1-Spring-Data-JPAä»‹ç»"><a href="#1-Spring-Data-JPAä»‹ç»" class="headerlink" title="1.Spring Data JPAä»‹ç»"></a>1.Spring Data JPAä»‹ç»</h1><ul><li>Spring Data JPA æ˜¯ Spring åŸºäº ORM æ¡†æ¶ã€JPA è§„èŒƒçš„åŸºç¡€ä¸Šå°è£…çš„ä¸€å¥— JPA åº”ç”¨æ¡†æ¶ï¼Œå¯ä½¿å¼€å‘è€…ç”¨æç®€çš„ä»£ç å³å¯å®ç°å¯¹æ•°æ®çš„è®¿é—®å’Œæ“ä½œã€‚å®ƒæä¾›äº†åŒ…æ‹¬å¢åˆ æ”¹æŸ¥ç­‰åœ¨å†…çš„å¸¸ç”¨åŠŸèƒ½ï¼Œä¸”æ˜“äºæ‰©å±•ï¼å­¦ä¹ å¹¶ä½¿ç”¨ Spring Data JPA å¯ä»¥æå¤§æé«˜å¼€å‘æ•ˆç‡ï¼</li><li>Spring Data JPA è®©æˆ‘ä»¬è§£è„±äº† DAO å±‚çš„æ“ä½œï¼ŒåŸºæœ¬ä¸Šæ‰€æœ‰ CRUD éƒ½å¯ä»¥ä¾èµ–äºå®ƒæ¥å®ç°ã€‚</li></ul><h1 id="2-å¼€å‘ç¯å¢ƒæ­å»º"><a href="#2-å¼€å‘ç¯å¢ƒæ­å»º" class="headerlink" title="2.å¼€å‘ç¯å¢ƒæ­å»º"></a>2.å¼€å‘ç¯å¢ƒæ­å»º</h1><h2 id="1-æ·»åŠ ä¾èµ–"><a href="#1-æ·»åŠ ä¾èµ–" class="headerlink" title="1.æ·»åŠ ä¾èµ–"></a>1.æ·»åŠ ä¾èµ–</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">&lt;groupId&gt;org.Springframework.boot&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;Spring-boot-starter-data-jpa&lt;/artifactId&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br><span class="line"> &lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;mysql&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure><h2 id="2-ä¿®æ”¹application-properties"><a href="#2-ä¿®æ”¹application-properties" class="headerlink" title="2.ä¿®æ”¹application.properties"></a>2.ä¿®æ”¹application.properties</h2><p>æ·»åŠ é…ç½®</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">#æ•°æ®åº“è¿æ¥URL</span><br><span class="line">spring.datasource.url=jdbc:mysql://127.0.0.1:3306/heima</span><br><span class="line">#æ•°æ®åº“å¸å·</span><br><span class="line">spring.datasource.username=root</span><br><span class="line">#æ•°æ®åº“å¯†ç </span><br><span class="line">spring.datasource.password=root</span><br><span class="line">#é©±åŠ¨å </span><br><span class="line">spring.datasource.driver-class-name=com.mysql.jdbc.Driver</span><br><span class="line">#æ¯æ¬¡hibernate æ—¶æ ¹æ® model ç±»è‡ªåŠ¨æ›´æ–°è¡¨ç»“æ„</span><br><span class="line">spring.jpa.properties.hibernate.hbm2ddl.auto=update</span><br><span class="line">#å‘Šè¯‰Hibernateï¼Œå°†HQLç¿»è¯‘æˆå“ªç§æ•°æ®åº“çš„SQL</span><br><span class="line">spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL5InnoDBDialect</span><br><span class="line">#æ˜¯å¦åœ¨æ§åˆ¶å°æ‰“å°SQLè¯­å¥,æµ‹è¯•æ—¶è®¾ç½®ä¸ºtrue</span><br><span class="line">spring.jpa.show-sql= true</span><br></pre></td></tr></table></figure><p>é…ç½®æ–‡ä»¶è¯´æ˜</p><blockquote><ol><li>spring.jpa.properties.hibernate.hbm2ddl.auto : è‡ªåŠ¨åˆ›å»º | æ›´æ–° | éªŒè¯æ•°æ®åº“è¡¨ç»“æ„<ul><li>create : æ¯æ¬¡åŠ è½½hibernateï¼Œå¦‚æœæ•°æ®åº“ä¸­å­˜åœ¨è¡¨ï¼Œå°†æ‰€æœ‰è¡¨åˆ é™¤ï¼Œç„¶åé‡æ–°ç”Ÿæˆè¡¨</li><li>update æ¯æ¬¡hibernate æ—¶æ ¹æ® model ç±»è‡ªåŠ¨æ›´æ–°è¡¨ç»“æ„ï¼Œå¦‚æœæ˜¯ç¬¬ä¸€æ¬¡åˆ™åˆ›å»ºè¡¨ç»“æ„ã€‚ä¹‹å‰è¡¨æ•°æ®ä¸ä¼šåˆ é™¤</li><li>validate : è®¾ç½®ä¸ºvalidate:åŠ è½½hibernateæ—¶ï¼ŒéªŒè¯åˆ›å»ºæ•°æ®åº“è¡¨ç»“æ„ï¼Œè¿™æ · springåœ¨åŠ è½½ä¹‹åˆï¼Œå¦‚æœmodelå±‚å’Œæ•°æ®åº“è¡¨ç»“æ„ä¸åŒï¼Œå°±ä¼šæŠ¥é”™ï¼Œè¿™æ ·æœ‰åŠ©äºæŠ€æœ¯è¿ç»´é¢„å…ˆå‘ç°é—®é¢˜ã€‚ä¾‹å¦‚ï¼šProductInfoEntityè¿™ä¸ªå®ä½“æœ‰property1è¿™ä¸ªå±æ€§ï¼Œè€Œå¯¹åº”çš„æ•°æ®åº“è¡¨productæ²¡æœ‰property1è¿™ä¸ªå­—æ®µï¼Œå°±ä¼šåœ¨tomcatå¯åŠ¨çš„æ—¶å€™æŠ¥é”™ï¼šé”™è¯¯å¯èƒ½å¦‚ä¸‹ï¼šMissing column: property1 in wjs.product</li><li>create-drop : å¦‚æœä¸€å¼€å§‹æ•°æ®åº“æ²¡æœ‰è¡¨ï¼Œå¯åŠ¨tomcatçš„æ—¶å€™ä¼šç”Ÿæˆè¡¨ï¼Œå½“æŠŠtomcatå…³é—­ä¹‹åç”Ÿæˆçš„è¡¨åˆä¼šæ¶ˆé™¤</li></ul></li><li>spring.jpa.properties.hibernate.dialect ï¼š å‘Šè¯‰Hibernateï¼Œå°†HQLç¿»è¯‘æˆå“ªç§æ•°æ®åº“çš„SQL,å¸¸è§çš„æœ‰<ul><li>mysql : org.hibernate.dialect.MySQLDialect</li><li>oracle : org.hibernate.dialect.OracleDialect</li><li>sqlserver : org.hibernate.dialect.SQLServerDialect</li></ul></li></ol></blockquote><h2 id="3-åˆ›å»ºå®ä½“ç±»"><a href="#3-åˆ›å»ºå®ä½“ç±»" class="headerlink" title="3.åˆ›å»ºå®ä½“ç±»"></a>3.åˆ›å»ºå®ä½“ç±»</h2><ul><li>æ³¨æ„ï¼š<ul><li>å®ä½“ç±»åœ¨å‘½åæ—¶å€™ä¸è¦ç”¨æ•°æ®åº“ä¸­çš„å…³é”®å­—æ¯”å¦‚Order,å¯ä»¥å®šä¹‰æˆOrders<ul><li>Entity ä¸­ä¸æ˜ å°„æˆåˆ—çš„å­—æ®µå¾—åŠ  @Transient æ³¨è§£ï¼Œä¸åŠ æ³¨è§£ä¹Ÿä¼šæ˜ å°„æˆåˆ—</li></ul></li></ul></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line">è´¦æˆ·</span><br><span class="line">*/</span><br><span class="line">@Entity</span><br><span class="line">public class Account implements Serializable&#123;</span><br><span class="line">    @Id</span><br><span class="line">    @GeneratedValue</span><br><span class="line">    private Long id;//IDä¸»é”®</span><br><span class="line">    @Column(nullable = false,unique = true)</span><br><span class="line">    private String username;//ç”¨æˆ·å,ä¸èƒ½ä¸ºç©ºï¼Œä¸èƒ½é‡å¤</span><br><span class="line">    @Column(nullable = false)</span><br><span class="line">    private String password;//å¯†ç ï¼Œä¸èƒ½ä¸ºç©º</span><br><span class="line">    @Column(nullable = false)</span><br><span class="line">    private String gender;  //æ€§åˆ«ï¼Œä¸èƒ½ä¸ºç©º</span><br><span class="line">    @Column()</span><br><span class="line">    private String address; //åœ°å€</span><br><span class="line">    @Column()</span><br><span class="line">    private double balance;//è´¦æˆ·ä½™é¢</span><br><span class="line">    </span><br><span class="line">    public Account(String username, String password, String gender, String address, double balance) &#123;</span><br><span class="line">        this.username = username;</span><br><span class="line">        this.password = password;</span><br><span class="line">        this.gender = gender;</span><br><span class="line">        this.address = address;</span><br><span class="line">        this.balance = balance;</span><br><span class="line">    &#125;</span><br><span class="line">    //çœç•¥æ— å‚æ„é€ ,getter,setteræ–¹æ³•</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="4-åˆ›å»ºDAO"><a href="#4-åˆ›å»ºDAO" class="headerlink" title="4.åˆ›å»ºDAO"></a>4.åˆ›å»ºDAO</h2><p> Dao åªè¦ç»§æ‰¿ JpaRepository ç±»å°±å¯ä»¥ï¼Œå‡ ä¹å¯ä»¥ä¸ç”¨å†™æ–¹æ³•ï¼Œè¿˜æœ‰ä¸€ä¸ªç‰¹åˆ«æœ‰ä¸ªæ€§çš„åŠŸèƒ½éå¸¸èµï¼Œå°±æ˜¯å¯ä»¥æ ¹æ®æ–¹æ³•åæ¥è‡ªåŠ¨çš„ç”Ÿäº§ SQLï¼Œå¦‚ findByUserName ä¼šè‡ªåŠ¨ç”Ÿäº§ä¸€ä¸ªä»¥ userName ä¸ºå‚æ•°çš„æŸ¥è¯¢æ–¹æ³•ï¼Œå¦‚ findAll è‡ªåŠ¨ä¼šæŸ¥è¯¢è¡¨é‡Œé¢çš„æ‰€æœ‰æ•°æ®ï¼Œå¦‚è‡ªåŠ¨åˆ†é¡µç­‰ç­‰</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">public interface AccountRepository extends JpaRepositoryAccount,Long &#123;</span><br><span class="line">    Account findAccountByUsername(String username);</span><br><span class="line">    List&lt;Account&gt; findAllByAddressLike(String address);//æ¯”å¦‚æŸ¥è¯¢åœ°å€åŒ…å«&quot;è¥¿&quot;çš„ addressçš„å€¼=&quot;%è¥¿%&quot;</span><br><span class="line">    List&lt;Account&gt; findAllByBalanceGreaterThanEqual(double balance);//ä½™é¢å¤§äºç­‰äºæŒ‡å®šé‡‘é¢</span><br><span class="line">    List&lt;Account&gt; findAllByBalanceGreaterThan(double balance);//ä½™é¢å¤§äºæŒ‡å®šé‡‘é¢</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>è¯´æ˜ï¼šJpaRepository&lt;T,ID&gt;è¿™ä¸ªæ¥å£åªæ˜¯ä¸€ä¸ªç©ºçš„æ¥å£ï¼Œç›®çš„æ˜¯ä¸ºäº†ç»Ÿä¸€æ‰€æœ‰Repositoryçš„ç±»å‹ï¼Œå…¶æ¥å£ç±»å‹ä½¿ç”¨äº†æ³›å‹ï¼Œæ³›å‹å‚æ•°ä¸­Tä»£è¡¨å®ä½“ç±»å‹ï¼ŒIDåˆ™æ˜¯å®ä½“ä¸­idçš„ç±»å‹</li></ul><h2 id="5-ç¼–å†™æµ‹è¯•ä»£ç "><a href="#5-ç¼–å†™æµ‹è¯•ä»£ç " class="headerlink" title="5.ç¼–å†™æµ‹è¯•ä»£ç "></a>5.ç¼–å†™æµ‹è¯•ä»£ç </h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">@RunWith(SpringRunner.class)</span><br><span class="line">@SpringBootTest</span><br><span class="line">public class AccountRepositoryTests &#123;</span><br><span class="line">    @Autowired</span><br><span class="line">    private AccountRepository accountRepository;</span><br><span class="line">    @Test</span><br><span class="line">    public void test()  &#123;</span><br><span class="line">    accountRepository.deleteAll();</span><br><span class="line">    accountRepository.save(new Account(&quot;å¼ ä¸‰ä¸°&quot;,&quot;123456&quot;,&quot;ç”·&quot;,&quot;å±±è¥¿å¤ªåŸ&quot;,5000.5));</span><br><span class="line">    accountRepository.save(new Account(&quot;å¼ å››ä¸°&quot;,&quot;123456&quot;,&quot;ç”·&quot;,&quot;å±±è¥¿ä¸´æ±¾&quot;,1000));</span><br><span class="line">    accountRepository.save(new Account(&quot;å¼ äº”ä¸°&quot;,&quot;123456&quot;,&quot;ç”·&quot;,&quot;å±±è¥¿å¿»å·&quot;,1000));</span><br><span class="line">    accountRepository.save(new Account(&quot;å°æ˜&quot;,&quot;123456&quot;,&quot;å¥³&quot;,&quot;æ²³åŒ—æ‰¿å¾·&quot;,3000));</span><br><span class="line">    accountRepository.save(new Account(&quot;å°ä¸½&quot;,&quot;123456&quot;,&quot;å¥³&quot;,&quot;æ²³åŒ—ä¿å®š&quot;,9000.5));</span><br><span class="line"></span><br><span class="line">    Assert.assertEquals(5,accountRepository.findAll().size());//å¦‚æœæŸ¥è¯¢ç»“æœç­‰äº5</span><br><span class="line">    Assert.assertEquals(3,accountRepository.findAllByAddressLike(&quot;%è¥¿%&quot;).size());//åœ°å€ä¸­åŒ…å«è¥¿çš„è®°å½•</span><br><span class="line">    Assert.assertEquals(3,accountRepository.findAllByBalanceGreaterThanEqual(3000).size());//å¤§äºç­‰äº3000çš„ä½™é¢çš„è®°å½•</span><br><span class="line">    Assert.assertEquals(2,accountRepository.findAllByBalanceGreaterThan(3000).size());//å¤§äº3000çš„ä½™é¢çš„è®°å½•</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="6-è¿è¡Œæ—¶æŠ¥é”™åŠè§£å†³æ–¹æ¡ˆ"><a href="#6-è¿è¡Œæ—¶æŠ¥é”™åŠè§£å†³æ–¹æ¡ˆ" class="headerlink" title="6.è¿è¡Œæ—¶æŠ¥é”™åŠè§£å†³æ–¹æ¡ˆ"></a>6.è¿è¡Œæ—¶æŠ¥é”™åŠè§£å†³æ–¹æ¡ˆ</h2><p>å¯èƒ½å‡ºç°å¼‚å¸¸ï¼š</p><ol><li>Caused by: java.lang.IllegalArgumentException: Not a managed type: class com.nsun.study.dao.model.UserInfo<br> at org.hibernate.jpa.internal.metamodel.MetamodelImpl.managedType(MetamodelImpl.java:210)</li><li>Consider defining a bean of type â€˜*Repositoryâ€™ in your configuration. </li></ol><p>åŸå› ï¼šå¯åŠ¨æ—¶æ²¡æœ‰æ‰«æå®ä½“ç±»å’ŒDAO,å¯¼è‡´æ²¡æœ‰æ³¨å…¥</p><p>è§£å†³æ–¹æ¡ˆï¼šåœ¨Application å¢åŠ æ³¨è§£(æµ‹è¯•ç±»ä¹Ÿæ·»åŠ )</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">@SpringBootApplication</span><br><span class="line">@EntityScan(basePackages=&quot;cn.itcast.sprintBootDemo.domain&quot;)</span><br><span class="line">@EnableJpaRepositories(basePackages = &#123;&quot;cn.itcast.sprintBootDemo.repository&quot;&#125;)</span><br><span class="line">@RunWith(SpringRunner.class)</span><br><span class="line">public class SprintBootDemoApplication &#123;</span><br><span class="line">public static void main(String[] args) &#123;</span><br><span class="line">SpringApplication.run(SprintBootDemoApplication.class, args);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="3-å¸¸è§æ•°æ®åº“æ“ä½œ"><a href="#3-å¸¸è§æ•°æ®åº“æ“ä½œ" class="headerlink" title="3.å¸¸è§æ•°æ®åº“æ“ä½œ"></a>3.å¸¸è§æ•°æ®åº“æ“ä½œ</h1><blockquote><p>åŸºæœ¬æŸ¥è¯¢ä¹Ÿåˆ†ä¸ºä¸¤ç§ï¼Œä¸€ç§æ˜¯ Spring Data é»˜è®¤å·²ç»å®ç°ï¼Œä¸€ç§æ˜¯æ ¹æ®æŸ¥è¯¢çš„æ–¹æ³•æ¥è‡ªåŠ¨è§£ææˆ SQLã€‚</p></blockquote><h2 id="1-åŸºæœ¬æŸ¥è¯¢"><a href="#1-åŸºæœ¬æŸ¥è¯¢" class="headerlink" title="1.åŸºæœ¬æŸ¥è¯¢"></a>1.åŸºæœ¬æŸ¥è¯¢</h2><blockquote><p>Spring Data JPA é»˜è®¤é¢„å…ˆç”Ÿæˆäº†ä¸€äº›åŸºæœ¬çš„ CURD çš„æ–¹æ³•ï¼Œå¦‚å¢åŠ ï¼Œåˆ é™¤ï¼Œä¿®æ”¹ï¼ŒæŸ¥è¯¢</p></blockquote><p> ç»§æ‰¿ JpaRepositoryï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">public interface AccountRepository extends JpaRepository&lt;Account,Long&gt; &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p> æµ‹è¯•</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">@RunWith(SpringRunner.class)</span><br><span class="line">@SpringBootTest</span><br><span class="line">public class AccountRepositoryTests &#123;</span><br><span class="line"></span><br><span class="line">    @Autowired</span><br><span class="line">    private AccountRepository accountRepository;</span><br><span class="line"></span><br><span class="line">    @Test</span><br><span class="line">    public void testBaseQuery()&#123;</span><br><span class="line">        /*æ·»åŠ æµ‹è¯•æ•°æ®æ•°æ®*/</span><br><span class="line">        accountRepository.deleteAll();</span><br><span class="line">        accountRepository.save(new Account(&quot;å¼ ä¸‰ä¸°&quot;,&quot;123456&quot;,&quot;ç”·&quot;,&quot;å±±è¥¿å¤ªåŸ&quot;,5000.5));</span><br><span class="line">        accountRepository.save(new Account(&quot;å¼ å››ä¸°&quot;,&quot;123456&quot;,&quot;ç”·&quot;,&quot;å±±è¥¿ä¸´æ±¾&quot;,1000));</span><br><span class="line">        </span><br><span class="line">        /*é€šè¿‡findAllæ–¹æ³•æŸ¥è¯¢æ‰€æœ‰è®°å½•*/</span><br><span class="line">        List&lt;Account&gt; accounts = accountRepository.findAll();</span><br><span class="line">        for(Account account : accounts)&#123;</span><br><span class="line">            System.out.println(account);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        /*é€šè¿‡findOneæŸ¥è¯¢ä¸€æ¡è®°å½•,ä¼ å…¥ID*/</span><br><span class="line">        Account one = accountRepository.findOne(accountRepository.findAll().get(0).getId());</span><br><span class="line">        System.out.println(one.getUsername());</span><br><span class="line">        </span><br><span class="line">        /*æŸ¥è¯¢æ€»è®°å½•æ¡æ•°*/</span><br><span class="line">        long count = accountRepository.count();</span><br><span class="line">        System.out.println(count);</span><br><span class="line">        </span><br><span class="line">        /*æŸ¥è¯¢æŸæ¡è®°å½•æ˜¯å¦å­˜åœ¨*/</span><br><span class="line">        boolean exists = accountRepository.exists(accountRepository.findAll().get(0).getId());</span><br><span class="line">        System.out.println(exists);</span><br><span class="line">        </span><br><span class="line">        /*æ›´æ–°è®°å½•,åº”è¯¥å…ˆæŸ¥è¯¢åˆ°æ—§çš„è®°å½•åœ¨è°ƒç”¨saveæ–¹æ³•ï¼Œsaveæ–¹æ³•çš„åŠŸèƒ½æœ‰ä¸¤ä¸ªï¼šæ›´æ–°å’Œæ·»åŠ */</span><br><span class="line">        Account account = accountRepository.findAll().get(0);</span><br><span class="line">        account.setBalance(10000.4);</span><br><span class="line">        accountRepository.save(account);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="2-è‡ªå®šä¹‰ç®€å•æŸ¥è¯¢"><a href="#2-è‡ªå®šä¹‰ç®€å•æŸ¥è¯¢" class="headerlink" title="2.è‡ªå®šä¹‰ç®€å•æŸ¥è¯¢"></a>2.è‡ªå®šä¹‰ç®€å•æŸ¥è¯¢</h2><blockquote><p>è‡ªå®šä¹‰çš„ç®€å•æŸ¥è¯¢å°±æ˜¯æ ¹æ®æ–¹æ³•åæ¥è‡ªåŠ¨ç”Ÿæˆ SQLï¼Œä¸»è¦çš„è¯­æ³•æ˜¯ findXXByã€readAXXByã€queryXXByã€countXXByã€getXXBy åé¢è·Ÿå±æ€§åç§°ï¼š</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">User findByUsername(String userName);</span><br></pre></td></tr></table></figure><blockquote><p>ä¹Ÿå¯ä»¥åŠ ä¸€äº›å…³é”®å­— Andã€Orï¼š</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">User findByUsernameOrAddress(String username, String address);</span><br></pre></td></tr></table></figure><blockquote><p>ä¿®æ”¹ã€åˆ é™¤ã€ç»Ÿè®¡ä¹Ÿæ˜¯ç±»ä¼¼è¯­æ³•ï¼š</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Long deleteById(Long id);</span><br><span class="line">Long countByUsername(String userName)</span><br></pre></td></tr></table></figure><blockquote><p>åŸºæœ¬ä¸Š SQL ä½“ç³»ä¸­çš„å…³é”®è¯éƒ½å¯ä»¥ä½¿ç”¨ï¼Œå¦‚ LIKEã€IgnoreCaseã€OrderByã€‚</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">List&lt;User&gt; findByAddressLike(String address);</span><br><span class="line">User findByAddressIgnoreCase(String address);</span><br><span class="line">List&lt;User&gt; findByAddressOrderByBalanceDesc(String address);</span><br></pre></td></tr></table></figure><blockquote><p>å…·ä½“çš„å…³é”®å­—ï¼Œä½¿ç”¨æ–¹æ³•å’Œç”Ÿäº§æˆ SQL å¦‚ä¸‹è¡¨æ‰€ç¤ºï¼š</p></blockquote><table><thead><tr><th align="left">Keyword</th><th align="left">Sample</th><th>JPQL snippet</th></tr></thead><tbody><tr><td align="left">And</td><td align="left">findByLastnameAndFirstname</td><td>â€¦ where x.lastname = ?1 and x.firstname = ?2</td></tr><tr><td align="left">Or</td><td align="left">findByLastnameOrFirstname</td><td>â€¦ where x.lastname = ?1 or x.firstname = ?2</td></tr><tr><td align="left">Is,Equals</td><td align="left">findByFirstnameIs,findByFirstnameEquals</td><td>â€¦ where x.firstname = ?1</td></tr><tr><td align="left">Between</td><td align="left">findByStartDateBetween</td><td>â€¦ where x.startDate between ?1 and ?2</td></tr><tr><td align="left">LessThan</td><td align="left">findByAgeLessThan</td><td>â€¦ where x.age &lt; ?1</td></tr><tr><td align="left">LessThanEqual</td><td align="left">findByAgeLessThanEqual</td><td>â€¦ where x.age â‡ ?1</td></tr><tr><td align="left">GreaterThan</td><td align="left">findByAgeGreaterThan</td><td>â€¦ where x.age &gt; ?1</td></tr><tr><td align="left">GreaterThanEqual</td><td align="left">findByAgeGreaterThanEqual</td><td>â€¦ where x.age &gt;= ?1</td></tr><tr><td align="left">After</td><td align="left">findByStartDateAfter</td><td>â€¦ where x.startDate &gt; ?1</td></tr><tr><td align="left">Before</td><td align="left">findByStartDateBefore</td><td>â€¦ where x.startDate &lt; ?1</td></tr><tr><td align="left">IsNull</td><td align="left">findByAgeIsNull</td><td>â€¦ where x.age is null</td></tr><tr><td align="left">IsNotNull,NotNull</td><td align="left">findByAge(Is)NotNull</td><td>â€¦ where x.age not null</td></tr><tr><td align="left">Like</td><td align="left">findByFirstnameLike</td><td>â€¦ where x.firstname like ?1</td></tr><tr><td align="left">NotLike</td><td align="left">findByFirstnameNotLike</td><td>â€¦ where x.firstname not like ?1</td></tr><tr><td align="left">StartingWith</td><td align="left">findByFirstnameStartingWith</td><td>â€¦ where x.firstname like ?1 (parameter bound with appended %)</td></tr><tr><td align="left">EndingWith</td><td align="left">findByFirstnameEndingWith</td><td>â€¦ where x.firstname like ?1 (parameter bound with prepended %)</td></tr><tr><td align="left">Containing</td><td align="left">findByFirstnameContaining</td><td>â€¦ where x.firstname like ?1 (parameter bound wrapped in %)</td></tr><tr><td align="left">OrderBy</td><td align="left">findByAgeOrderByLastnameDesc</td><td>â€¦ where x.age = ?1 order by x.lastname desc</td></tr><tr><td align="left">Not</td><td align="left">findByLastnameNot</td><td>â€¦ where x.lastname &lt;&gt; ?1</td></tr><tr><td align="left">In</td><td align="left">findByAgeIn(Collection<age> ages)</age></td><td>â€¦ where x.age in ?1</td></tr><tr><td align="left">NotIn</td><td align="left">findByAgeNotIn(Collection<age> age)</age></td><td>â€¦ where x.age not in ?1</td></tr><tr><td align="left">TRUE</td><td align="left">findByActiveTrue()</td><td>â€¦ where x.active = true</td></tr><tr><td align="left">FALSE</td><td align="left">findByActiveFalse()</td><td>â€¦ where x.active = false</td></tr><tr><td align="left">IgnoreCase</td><td align="left">findByFirstnameIgnoreCase</td><td>â€¦ where UPPER(x.firstame) = UPPER(?1)</td></tr></tbody></table><h2 id="3-åˆ†é¡µæŸ¥è¯¢"><a href="#3-åˆ†é¡µæŸ¥è¯¢" class="headerlink" title="3.åˆ†é¡µæŸ¥è¯¢"></a>3.åˆ†é¡µæŸ¥è¯¢</h2><blockquote><p>åˆ†é¡µæŸ¥è¯¢åœ¨å®é™…ä½¿ç”¨ä¸­éå¸¸æ™®éäº†ï¼ŒSpring Data JPA å·²ç»å¸®æˆ‘ä»¬å®ç°äº†åˆ†é¡µçš„åŠŸèƒ½ï¼Œåœ¨æŸ¥è¯¢çš„æ–¹æ³•ä¸­ï¼Œéœ€è¦ä¼ å…¥å‚æ•° Pageableï¼Œå½“æŸ¥è¯¢ä¸­æœ‰å¤šä¸ªå‚æ•°çš„æ—¶å€™ Pageable å»ºè®®åšä¸ºæœ€åä¸€ä¸ªå‚æ•°ä¼ å…¥ï¼š</p></blockquote><p> åœ¨AccountRepositoryç±»ä¸­æ·»åŠ </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">PageAccount findAllByAddressLike(String address, Pageable pageable);</span><br></pre></td></tr></table></figure><p> æµ‹è¯•ä»£ç </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">@Test</span><br><span class="line">public void pageTest()&#123;</span><br><span class="line">    accountRepository.deleteAll();</span><br><span class="line">    accountRepository.save(new Account(&quot;å¼ ä¸‰ä¸°&quot;,&quot;123456&quot;,&quot;ç”·&quot;,&quot;å±±è¥¿å¤ªåŸ&quot;,5000.5));</span><br><span class="line">    accountRepository.save(new Account(&quot;å¼ å››ä¸°&quot;,&quot;123456&quot;,&quot;ç”·&quot;,&quot;å±±è¥¿ä¸´æ±¾&quot;,1000));</span><br><span class="line">    accountRepository.save(new Account(&quot;å¼ äº”ä¸°&quot;,&quot;123456&quot;,&quot;ç”·&quot;,&quot;å±±è¥¿å¿»å·&quot;,1000));</span><br><span class="line">    accountRepository.save(new Account(&quot;å¼ å…­ä¸°&quot;,&quot;123456&quot;,&quot;å¥³&quot;,&quot;å±±è¥¿taiyuan&quot;,3000));</span><br><span class="line">    accountRepository.save(new Account(&quot;å¼ ä¸ƒä¸°&quot;,&quot;123456&quot;,&quot;å¥³&quot;,&quot;å±±è¥¿linfen&quot;,9000.5));</span><br><span class="line">    accountRepository.save(new Account(&quot;å¼ å…«ä¸°&quot;,&quot;123456&quot;,&quot;å¥³&quot;,&quot;å±±è¥¿xinzhou&quot;,9000.5));</span><br><span class="line">    </span><br><span class="line">    int currentPage = 0;//ç¬¬å‡ é¡µ,ä»0å¼€å§‹</span><br><span class="line">    int size = 4;//æ¯é¡µå¤šå°‘æ¡æ•°æ®</span><br><span class="line">    Sort sort = new Sort(Sort.Direction.DESC, &quot;address&quot;);//æŒ‰ç…§addressé™åºæ’åº</span><br><span class="line">    Pageable pageable = new PageRequest(currentPage, size, sort);</span><br><span class="line">    </span><br><span class="line">    Page&lt;Account&gt; page = accountRepository.findAllByAddressLike(&quot;%è¥¿%&quot;,pageable);</span><br><span class="line">    System.out.println(&quot;ä¸€å…±æœ‰&quot;+page.getTotalPages()+&quot;é¡µ&quot;);</span><br><span class="line">    System.out.println(&quot;ä¸€å…±æœ‰&quot;+page.getTotalElements()+&quot;æ¡è®°å½•&quot;);</span><br><span class="line">    System.out.println(&quot;æœ¬é¡µçš„æ•°æ®æ˜¯æœ‰&quot;);</span><br><span class="line">    for(Account account : page)&#123;</span><br><span class="line">        System.out.println(account.getUsername()+&quot;\t&quot;+account.getAddress());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p> è¾“å‡ºç»“æœ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">ä¸€å…±æœ‰2é¡µ</span><br><span class="line">ä¸€å…±æœ‰6æ¡è®°å½•</span><br><span class="line">æœ¬é¡µçš„æ•°æ®æ˜¯æœ‰</span><br><span class="line">å¼ äº”ä¸°å±±è¥¿å¿»å·</span><br><span class="line">å¼ ä¸‰ä¸°å±±è¥¿å¤ªåŸ</span><br><span class="line">å¼ å››ä¸°å±±è¥¿ä¸´æ±¾</span><br><span class="line">å¼ å…«ä¸°å±±è¥¿xinzhou</span><br></pre></td></tr></table></figure><h2 id="4-æŸ¥è¯¢å‰Næ¡æ•°æ®"><a href="#4-æŸ¥è¯¢å‰Næ¡æ•°æ®" class="headerlink" title="4.æŸ¥è¯¢å‰Næ¡æ•°æ®"></a>4.æŸ¥è¯¢å‰Næ¡æ•°æ®</h2><blockquote><p>æœ‰æ—¶å€™æˆ‘ä»¬åªéœ€è¦æŸ¥è¯¢å‰ N ä¸ªå…ƒç´ ï¼Œæˆ–è€…åªå–å‰ä¸€ä¸ªå®ä½“ã€‚å¯ä»¥åœ¨å®šä¹‰æ¥å£çš„æ—¶å€™ä½¿ç”¨firstBy,topBy,first4By,top4By</p></blockquote><p>1.åœ¨AccountRepositoryæ¥å£ä¸­æ·»åŠ æ–°æ–¹æ³•</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">/**æŸ¥è¯¢å‰ä¸‰ä¸ª*/</span><br><span class="line">List&lt;Account&gt; findTop3ByOrderByBalanceDesc();</span><br><span class="line">/**æŸ¥è¯¢ä½™é¢æœ€é«˜çš„*/</span><br><span class="line">Account findFirstByOrderByBalanceDesc();</span><br><span class="line">/**æŸ¥è¯¢ä½™é¢æœ€é«˜çš„*/</span><br><span class="line">Account findTopByOrderByBalanceDesc();</span><br></pre></td></tr></table></figure><p>2.æµ‹è¯•ä»£ç </p><pre><code>@Testpublic void testTop(){    accountRepository.deleteAll();    accountRepository.save(new Account(&quot;å¼ ä¸‰ä¸°&quot;,&quot;123456&quot;,&quot;ç”·&quot;,&quot;å±±è¥¿å¤ªåŸ&quot;,5000.5));    accountRepository.save(new Account(&quot;å¼ å››ä¸°&quot;,&quot;123456&quot;,&quot;ç”·&quot;,&quot;å±±è¥¿ä¸´æ±¾&quot;,1000));    accountRepository.save(new Account(&quot;å¼ äº”ä¸°&quot;,&quot;123456&quot;,&quot;ç”·&quot;,&quot;å±±è¥¿å¿»å·&quot;,1000));    accountRepository.save(new Account(&quot;å°æ˜&quot;,&quot;123456&quot;,&quot;å¥³&quot;,&quot;æ²³åŒ—æ‰¿å¾·&quot;,3000));    accountRepository.save(new Account(&quot;å°ä¸½&quot;,&quot;123456&quot;,&quot;å¥³&quot;,&quot;æ²³åŒ—ä¿å®š&quot;,9000.5));    //æŸ¥è¯¢å‰3æ¡è®°å½•    List&lt;Account&gt; accounts = accountRepository.findTop3ByOrderByBalanceDesc();    for (Account account: accounts) {        System.out.println(account.getBalance());    }    /**æŸ¥è¯¢ä½™é¢æœ€é«˜çš„*/    Account firstAccount = accountRepository.findFirstByOrderByBalanceDesc();    System.out.println(firstAccount);    /**æŸ¥è¯¢ä½™é¢æœ€é«˜çš„*/    Account topAccount = accountRepository.findTopByOrderByBalanceDesc();    System.out.println(topAccount);}</code></pre><h2 id="5-è‡ªå®šä¹‰-SQL-æŸ¥è¯¢"><a href="#5-è‡ªå®šä¹‰-SQL-æŸ¥è¯¢" class="headerlink" title="5.è‡ªå®šä¹‰ SQL æŸ¥è¯¢"></a>5.è‡ªå®šä¹‰ SQL æŸ¥è¯¢</h2><blockquote><p>Spring Data JPA ä¹Ÿå¯ä»¥å®Œç¾æ”¯æŒè‡ªå®šä¹‰SQLè¯­å¥æ“ä½œï¼š</p><p>1.åœ¨ SQL çš„æŸ¥è¯¢æ–¹æ³•ä¸Šé¢ä½¿ç”¨ @Query æ³¨è§£ã€‚</p><p>2.1å¦‚æœéœ€è¦ä¼ å‚å¯ä»¥åœ¨SQLä¸­é€šè¿‡â€:å˜é‡åâ€è®¾ç½®å ä½ç¬¦ï¼Œç„¶åé…åˆæ³¨è§£@Param(â€œå˜é‡åâ€)ä¸€èµ·ä½¿ç”¨</p><p>2.2ä¹Ÿå¯ä»¥ä½¿ç”¨ï¼Ÿå ä½ç¬¦ï¼Œä½†æ˜¯åé¢è¦è·Ÿ1è¡¨ç¤ºç¬¬ä¸€ä¸ªå‚æ•°å¦‚æœå¤šä¸ªé—®å·åªéœ€è¦åœ¨æ¯ä¸ª?åé¢è·Ÿå¯¹åº”çš„æ•°å­—å°±è¡Œäº†ï¼Œä»1å¼€å§‹</p><p>3.ç‰¹åˆ«æ³¨æ„è¿™é‡Œçš„ SQL æ˜¯ HQLï¼Œéœ€è¦å†™ç±»çš„åå’Œå±æ€§ï¼Œè¿™å—å¾ˆå®¹æ˜“å‡ºé”™ã€‚</p></blockquote><p>1.åœ¨AccountRepositoryæ¥å£ä¸­æ·»åŠ æ–°æ–¹æ³•(ä½¿ç”¨ â€œ:å˜é‡åâ€ çš„æ–¹å¼)</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">@Query(&quot;select a from Account a where a.username = :name&quot;)</span><br><span class="line">Account selectByUsername(@Param(&quot;name&quot;) String username);</span><br><span class="line"></span><br><span class="line">@Query(&quot;select a from Account a where a.address like %:address%&quot;)</span><br><span class="line">ListAccount selectByAddressLike(@Param(&quot;address&quot;) String address);</span><br></pre></td></tr></table></figure><p>2.åœ¨AccountRepositoryæ¥å£ä¸­æ·»åŠ æ–°æ–¹æ³•(ä½¿ç”¨ â€œ?â€ çš„æ–¹å¼)</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">@Query(&quot;select a from Account a where a.address like ?1&quot;)</span><br><span class="line">ListAccount selectByAddressLike(String address);</span><br></pre></td></tr></table></figure><p>3.æµ‹è¯•ä»£ç </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">@Test</span><br><span class="line">public void userQuery()&#123;</span><br><span class="line">    //é€šè¿‡usernameæŸ¥æ‰¾å¯¹åº”çš„è´¦æˆ·</span><br><span class="line">    Account zsf = accountRepository.selectByUsername(&quot;å¼ ä¸‰ä¸°&quot;);</span><br><span class="line">    System.out.println(zsf.getUsername()+&quot;-&quot;+zsf.getGender());</span><br><span class="line"></span><br><span class="line">    //æŸ¥æ‰¾åœ°å€ä¸­åŒ…å«&quot;è¥¿&quot;çš„è´¦æˆ·</span><br><span class="line">    List&lt;Account&gt; accounts = accountRepository.selectByAddressLike(&quot;è¥¿&quot;);</span><br><span class="line">    for (Account account: accounts) &#123;</span><br><span class="line">    System.out.println(account.getAddress());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="6-è‡ªå®šä¹‰SQL-æ›´æ–°æˆ–åˆ é™¤æ•°æ®"><a href="#6-è‡ªå®šä¹‰SQL-æ›´æ–°æˆ–åˆ é™¤æ•°æ®" class="headerlink" title="6.è‡ªå®šä¹‰SQL æ›´æ–°æˆ–åˆ é™¤æ•°æ®"></a>6.è‡ªå®šä¹‰SQL æ›´æ–°æˆ–åˆ é™¤æ•°æ®</h2><blockquote><p>æç¤ºï¼šæ›´æ–°æˆ–è€…åˆ é™¤çš„æ—¶å€™éœ€è¦æ·»åŠ @Modifyingå¦åˆ™æŠ¥ Not supported for DML operations å¼‚å¸¸ï¼Œä¹Ÿéœ€è¦æ·»åŠ @Transactionaläº‹ç‰©æ³¨è§£ï¼Œå¦åˆ™æŠ¥InvalidDataAccessApiUsageExceptionå¼‚å¸¸</p></blockquote><p>1.åœ¨AccountRepositoryæ¥å£ä¸­æ·»åŠ æ–¹æ³•</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">@Query(&quot;update Account a set password = :password where username=:username&quot;)</span><br><span class="line">@Modifying</span><br><span class="line">@Transactional</span><br><span class="line">int updatePassswordByUsername(@Param(&quot;username&quot;) String username, @Param(&quot;password&quot;) String password);</span><br></pre></td></tr></table></figure><p>2.æµ‹è¯•</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">@Test</span><br><span class="line">public void userUpdateOrDelete()&#123;</span><br><span class="line">    accountRepository.deleteAll();</span><br><span class="line">    accountRepository.save(new Account(&quot;å¼ ä¸‰ä¸°&quot;,&quot;123456&quot;,&quot;ç”·&quot;,&quot;å±±è¥¿å¤ªåŸ&quot;,5000.5));</span><br><span class="line">    accountRepository.save(new Account(&quot;å¼ å››ä¸°&quot;,&quot;123456&quot;,&quot;ç”·&quot;,&quot;å±±è¥¿ä¸´æ±¾&quot;,1000));</span><br><span class="line">    accountRepository.save(new Account(&quot;å¼ äº”ä¸°&quot;,&quot;123456&quot;,&quot;ç”·&quot;,&quot;å±±è¥¿å¿»å·&quot;,1000));</span><br><span class="line">    accountRepository.save(new Account(&quot;å°æ˜&quot;,&quot;123456&quot;,&quot;å¥³&quot;,&quot;æ²³åŒ—æ‰¿å¾·&quot;,3000));</span><br><span class="line">    accountRepository.save(new Account(&quot;å°ä¸½&quot;,&quot;123456&quot;,&quot;å¥³&quot;,&quot;æ²³åŒ—ä¿å®š&quot;,9000.5));</span><br><span class="line"></span><br><span class="line">    int rows = accountRepository.updatePassswordByUsername(&quot;å¼ ä¸‰ä¸°&quot;,&quot;88888888&quot;);</span><br><span class="line">    System.out.println(&quot;æ›´æ–°äº†&quot;+rows+&quot;è¡Œæ•°æ®&quot;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>3.æ§åˆ¶å°ç»“æœ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">æ›´æ–°äº†1è¡Œæ•°æ®</span><br></pre></td></tr></table></figure><h2 id="7-ä¸€å¯¹å¤šå…³ç³»-oneToMany"><a href="#7-ä¸€å¯¹å¤šå…³ç³»-oneToMany" class="headerlink" title="7.ä¸€å¯¹å¤šå…³ç³»(oneToMany)"></a>7.ä¸€å¯¹å¤šå…³ç³»(oneToMany)</h2><p>ä»¥ç­çº§å’Œå­¦ç”Ÿä¸ºä¾‹</p><p>â€‹    ç­çº§å’Œå­¦ç”Ÿï¼Œä¸€ä¸ªä¸ªç­çº§å¯¹åº”å¤šä¸ªå­¦ç”Ÿï¼Œç­çº§å°±æ˜¯ä¸€çš„ä¸€æ–¹ï¼Œå­¦ç”Ÿå°±æ˜¯å¤šçš„ä¸€æ–¹</p><p>éœ€è¦åœ¨ä»£è¡¨ä¸€çš„åœ°æ–¹æ·»åŠ @OneToManyå’Œ@JoinColumnæ¥æ ‡æ³¨(åŸç†æ˜¯åœ¨å¤šçš„ä¸€æ–¹çš„è¡¨ä¸­å¢åŠ ä¸€ä¸ªå¤–é”®åˆ—æ¥ä¿å­˜å…³ç³»)ã€‚ä»£è¡¨å¤šçš„å®ä½“ä¸éœ€è¦ä½¿ç”¨ä»»ä½•æ˜ å°„æ ‡æ³¨ã€‚</p><p>###ç­çº§ç±»(Classes)</p><blockquote><p>ç­çº§ä»£ç  ä»£è¡¨ä¸€çš„ä¸€æ–¹</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">@Entity</span><br><span class="line">public class Classes &#123;</span><br><span class="line">    @Id</span><br><span class="line">    @GeneratedValue</span><br><span class="line">    private Long id;</span><br><span class="line">    @Column(nullable = false,unique = true)</span><br><span class="line">    private String name;</span><br><span class="line"></span><br><span class="line">    @OneToMany(cascade = CascadeType.ALL)</span><br><span class="line">    @JoinColumn(name = &quot;classes_id&quot;)//è¡¨ç¤ºStudentè¡¨ä¸­æŒ‡å‘æœ¬è¡¨å¤–é”®å</span><br><span class="line">    private List&lt;Student&gt; students;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>###å­¦ç”Ÿç±»(Student)</p><blockquote><p>å­¦ç”Ÿä»£ç  ä»£è¡¨å¤šçš„ä¸€æ–¹</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">@Entity</span><br><span class="line">public class Student &#123;</span><br><span class="line">    @Id</span><br><span class="line">    @GeneratedValue</span><br><span class="line">    private Long id;</span><br><span class="line">    @Column(nullable = false,unique = true)</span><br><span class="line">    private String name;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æµ‹è¯•ä»£ç "><a href="#æµ‹è¯•ä»£ç " class="headerlink" title="æµ‹è¯•ä»£ç "></a>æµ‹è¯•ä»£ç </h3><blockquote><p> æµ‹è¯•ä»£ç ï¼šä¿å­˜ç­çº§çš„åŒæ—¶ä¿å­˜å­¦ç”ŸClassesRepositoryå’ŒStudentRepositoryæ­¤å¤„çœç•¥..ç›´æ¥ç»§æ‰¿JpaRepositoryå³å¯</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">@Test</span><br><span class="line">public void saveTest()&#123;</span><br><span class="line">/*åˆ›å»ºç­çº§*/</span><br><span class="line">    Classes bj = new Classes();</span><br><span class="line">    bj.setName(&quot;ä¸€å¹´çº§äºŒç­&quot;);</span><br><span class="line">    /*åˆ›å»ºå­¦ç”Ÿ*/</span><br><span class="line">    Student stu1 = new Student();</span><br><span class="line">    stu1.setName(&quot;å°æ˜&quot;);</span><br><span class="line">    Student stu2 = new Student();</span><br><span class="line">    stu2.setName(&quot;å°çº¢&quot;);</span><br><span class="line">    </span><br><span class="line">/*å°†å­¦ç”Ÿæ·»åŠ åˆ°ç­çº§ä¸­*/</span><br><span class="line">    ArrayList&lt;Student&gt; students = new ArrayList&lt;&gt;();</span><br><span class="line">    students.add(stu1);</span><br><span class="line">    students.add(stu2);</span><br><span class="line">    bj.setStudents(students);</span><br><span class="line">    </span><br><span class="line"> //ä¿å­˜ç­çº§,åŒæ—¶ä¼šçº§è”ä¿å­˜å­¦ç”Ÿ</span><br><span class="line">    classesRepository.save(bj);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>ç”Ÿæˆè¡¨çš„SQL</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Hibernate: create table classes (id integer not null auto_increment, name varchar(255), primary key (id))</span><br><span class="line">Hibernate: create table student (id integer not null auto_increment, name varchar(255), class_id integer, primary key (id))</span><br><span class="line">Hibernate: alter table student add constraint FK5v50ed2bjh60n1gc7ifuxmgf4 foreign key (class_id) references classes (id)</span><br></pre></td></tr></table></figure><blockquote><p>æ’å…¥æ•°æ®çš„SQL</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Hibernate: insert into classes (name) values (?)</span><br><span class="line">Hibernate: insert into student (name) values (?)</span><br><span class="line">Hibernate: insert into student (name) values (?)</span><br><span class="line">Hibernate: update student set class_id=? where id=?</span><br><span class="line">Hibernate: update student set class_id=? where id=?</span><br></pre></td></tr></table></figure><h2 id="8-å¤šå¯¹ä¸€å…³ç³»-ManyToOne"><a href="#8-å¤šå¯¹ä¸€å…³ç³»-ManyToOne" class="headerlink" title="8.å¤šå¯¹ä¸€å…³ç³»(ManyToOne)"></a>8.å¤šå¯¹ä¸€å…³ç³»(ManyToOne)</h2><p>ç»§ç»­ä¿®æ”¹åˆšæ‰çš„ä»£ç ï¼Œåœ¨å¤šçš„ä¸€æ–¹æ·»åŠ @ManyToOne</p><p>è¿™é‡Œåªéœ€è¦åœ¨Studentç±»ä¸­æ·»åŠ å±æ€§private Classes classes;ç”Ÿæˆget/setæ–¹æ³•å³å¯,å¹¶ä¸”åœ¨è¯¥å±æ€§ä¸Šæ·»åŠ @ManyToOne(cascade={CascadeType.ALL})</p><blockquote><p>CascadeType.ALLè¡¨ç¤ºçº§è”åˆ é™¤ï¼Œçº§è”æ›´æ–°ï¼Œçº§è”æ–°å»ºï¼Œçº§è”æ–°å»ºï¼Œæ¯”å¦‚åˆ é™¤ä¸»è¡¨ï¼Œåˆ™ä»è¡¨ä¹Ÿéšä¹‹åˆ é™¤ï¼Œè¯¦æƒ…è§é™„å½•</p></blockquote><p>###å­¦ç”Ÿç±»(Student)</p><blockquote><p>ä¿®æ”¹å­¦ç”Ÿä»£ç </p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">@Entity</span><br><span class="line">public class Student &#123;</span><br><span class="line">    @Id</span><br><span class="line">    @GeneratedValue</span><br><span class="line">    private Long id;</span><br><span class="line">    @Column(nullable = false,unique = true)</span><br><span class="line">    private String name;</span><br><span class="line"></span><br><span class="line">    @ManyToOne(cascade=&#123;CascadeType.ALL&#125;)</span><br><span class="line">    private Classes classes;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>###æµ‹è¯•ä»£ç </p><blockquote><p>æµ‹è¯•ä»£ç :æŸ¥è¯¢æ‰€æœ‰å­¦ç”Ÿå¯¹åº”çš„ç­çº§</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">@Test</span><br><span class="line">public void testQuery()&#123;</span><br><span class="line">    List&lt;Student&gt; students = studentRepository.findAll();</span><br><span class="line">    for(Student student: students)&#123;</span><br><span class="line">        System.out.println(student.getClasses().getName());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>###å¯èƒ½é‡åˆ°çš„å¼‚å¸¸</p><p>â€‹    åœ¨controllerè¿”å›æ•°æ®åˆ°ç»Ÿä¸€jsonè½¬æ¢çš„æ—¶å€™ï¼Œå‡ºç°äº†json infinite recursion stackoverflowerrorçš„é”™è¯¯</p><p>â€‹    å…·ä½“çš„æƒ…å†µå¦‚ä¸‹ï¼š</p><p>â€‹    Classesç±»ä¸­ï¼Œæœ‰ä¸ªå±æ€§ï¼šprivate List<student> students;ï¼Œ Classesä¸Studentçš„å…³ç³»ä¸º OneToManyï¼›åœ¨Studentç±»ä¸­ï¼Œæœ‰å±æ€§private Classes classes;,å¼•ç”¨åˆ°Classesä¸­çš„å­—æ®µidï¼Œå¹¶ä½œä¸ºå¤–é”®ã€‚hibernateæŸ¥è¯¢ç»“æœæ­£å¸¸ï¼Œå¯ä»¥çœ‹åˆ°è¿”å›çš„Classeså¯¹è±¡ä¸­ï¼Œæœ‰Studentå‚æ•°å€¼ï¼Œä½†åœ¨jsonè½¬æ¢çš„æ—¶å€™å°±å‡ºç°äº†æ— é™é€’å½’çš„æƒ…å†µã€‚åŸå› æ˜¯jsonåœ¨åºåˆ—åŒ–Classesä¸­çš„studentså±æ€§çš„æ—¶å€™ï¼Œæ‰¾åˆ°äº†Studentç±»ï¼Œç„¶ååºåˆ—åŒ–Studentç±»ï¼Œè€ŒStudentç±»ä¸­æœ‰classeså±æ€§ï¼Œå› æ­¤ï¼Œä¸ºäº†åºåˆ—åŒ–classeså±æ€§ï¼Œjsonåˆå¾—å»åºåˆ—åŒ–Classesç±»ï¼Œå¦‚æ­¤é€’å½’åå¤ï¼Œé€ æˆè¯¥é—®é¢˜ã€‚</student></p><p><strong>è§£å†³æ–¹æ³•ï¼š</strong></p><p>â€‹    åœ¨Studentç±»ä¸­classesçš„setteræ–¹æ³•ä¸ŠåŠ æ³¨è§£@JsonBackReference</p><h2 id="9-å¤šå¯¹å¤šå…³ç³»-ManyToMany"><a href="#9-å¤šå¯¹å¤šå…³ç³»-ManyToMany" class="headerlink" title="9.å¤šå¯¹å¤šå…³ç³»(ManyToMany)"></a>9.å¤šå¯¹å¤šå…³ç³»(ManyToMany)</h2><p>ä»¥ä¹¦å’Œä½œè€…ä¸ºä¾‹ï¼š</p><p>â€‹    ä¹¦(book)å’Œä½œè€…(publisher)çš„å¯ä»¥çœ‹ä½œå¤šå¯¹å¤šçš„å…³ç³»ï¼Œå¤šå¯¹å¤šå…³ç³»éœ€è¦ä¸€å¼ ä¸­é—´è¡¨(book_publisher)æ¥ç»´æŠ¤å…³ç³»</p><p>å…³ç³»å›¾ï¼š</p><p><img src="//haoyongliang.gitee.io/2018/06/07/SpringBoot/03SpringDataJPAä½¿ç”¨/SpringDataJPAä½¿ç”¨/many-to-many.png" alt="0"></p><p>###ä¹¦ç±»(Book)</p><blockquote><p>@JoinTableä¼šç”Ÿæˆç¬¬ä¸‰å¼ ä¸­é—´è¡¨,è¡¨åå«book_publisher,joinColumnsè¡¨ç¤ºå½“å‰å®ä½“(Book)çš„ä¸»é”®,inverseJoinColumnsè¡¨ç¤ºå¦ä¸€ä¸ªå®ä½“(Publisher)çš„ä¸»é”®</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * @Author:haoyongliang</span><br><span class="line"> * @Description:</span><br><span class="line"> * @Date: created in 14:34 2018/5/22</span><br><span class="line"> */</span><br><span class="line">@Entity</span><br><span class="line">public class Book&#123;</span><br><span class="line">    @Id</span><br><span class="line">    @GeneratedValue(strategy = GenerationType.AUTO)</span><br><span class="line">    private int id;</span><br><span class="line">    @Column</span><br><span class="line">    private String name;</span><br><span class="line">    @ManyToMany(cascade = CascadeType.ALL)</span><br><span class="line">    @JoinTable(</span><br><span class="line">            name = &quot;book_publisher&quot;,</span><br><span class="line">            joinColumns = @JoinColumn(name = &quot;book_id&quot;,referencedColumnName = &quot;id&quot;),</span><br><span class="line">            inverseJoinColumns = @JoinColumn(name = &quot;publisher_id&quot;, referencedColumnName = &quot;id&quot;))</span><br><span class="line">    private Set&lt;Publisher&gt; publishers = new HashSet&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    public Book() &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public Book(String name) &#123;</span><br><span class="line">        this.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public Book(String name, Set&lt;Publisher&gt; publishers)&#123;</span><br><span class="line">        this.name = name;</span><br><span class="line">        this.publishers = publishers;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    //TODO çœç•¥GETTER/SETTER</span><br><span class="line">    @Override</span><br><span class="line">    public String toString() &#123;</span><br><span class="line">        String result = String.format(</span><br><span class="line">                &quot;Book [id=%d, name=&apos;%s&apos;]%n&quot;,</span><br><span class="line">                id, name);</span><br><span class="line">        if (publishers != null) &#123;</span><br><span class="line">            for(Publisher publisher : publishers) &#123;</span><br><span class="line">                result += String.format(</span><br><span class="line">                        &quot;Publisher[id=%d, name=&apos;%s&apos;]%n&quot;,</span><br><span class="line">                        publisher.getId(), publisher.getName());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        return result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>###ä½œè€…ç±»(Publisher)</p><blockquote><p>mappedBy = â€œpublishersâ€è¡¨ç¤ºå…³ç³»ç”±å¦ä¸€ä¸ªå®ä½“(Book)ç»´æŠ¤ï¼ŒmappedBy çš„å€¼æ˜¯Bookç±»ä¸­çš„Set<book>å±æ€§çš„åå­—</book></p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * @Author:haoyongliang</span><br><span class="line"> * @Description:</span><br><span class="line"> * @Date: created in 14:35 2018/5/22</span><br><span class="line"> */</span><br><span class="line">@Entity</span><br><span class="line">public class Publisher &#123;</span><br><span class="line">    @Id</span><br><span class="line">    @GeneratedValue(strategy = GenerationType.AUTO)</span><br><span class="line">    private int id;</span><br><span class="line">    @Column</span><br><span class="line">    private String name;</span><br><span class="line">    @ManyToMany(mappedBy = &quot;publishers&quot;)</span><br><span class="line">    private Set&lt;Book&gt; books = new HashSet&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    public Publisher()&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public Publisher(String name)&#123;</span><br><span class="line">        this.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public Publisher(String name, Set&lt;Book&gt; books)&#123;</span><br><span class="line">        this.name = name;</span><br><span class="line">        this.books = books;</span><br><span class="line">    &#125;</span><br><span class="line">//TODO çœç•¥GETTER/SETTER</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æµ‹è¯•ä»£ç -1"><a href="#æµ‹è¯•ä»£ç -1" class="headerlink" title="æµ‹è¯•ä»£ç "></a>æµ‹è¯•ä»£ç </h3><blockquote><p>BookRepositoryå’ŒPublisherRepositoryç›´æ¥ç»§æ‰¿JpaRepositoryå³å¯</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * @Author:haoyongliang</span><br><span class="line"> * @Description:</span><br><span class="line"> * @Date: created in 15:08 2018/5/22</span><br><span class="line"> */</span><br><span class="line">@RunWith(SpringRunner.class)</span><br><span class="line">@EntityScan(basePackages=&quot;cn.itcast.sprintBootDemo.domain&quot;)</span><br><span class="line">@EnableJpaRepositories(basePackages = &#123;&quot;cn.itcast.sprintBootDemo.repository&quot;&#125;)</span><br><span class="line">@SpringBootTest</span><br><span class="line">public class BookRepositoryTests &#123;</span><br><span class="line">    @Autowired</span><br><span class="line">    private BookRepository bookRepository;</span><br><span class="line">    @Autowired</span><br><span class="line">    private PublisherRepository publisherRepository;</span><br><span class="line"></span><br><span class="line">    @Test</span><br><span class="line">    @Transactional</span><br><span class="line">    public void findAll() throws Exception &#123;</span><br><span class="line">        Publisher luxun = new Publisher(&quot;é²è¿…&quot;);</span><br><span class="line">        Publisher chenduxiu = new Publisher(&quot;é™ˆç‹¬ç§€&quot;);</span><br><span class="line">        Publisher libai = new Publisher(&quot;æç™½&quot;);</span><br><span class="line"></span><br><span class="line">        Book book1 = new Book(&quot;SpringDataJpa&quot;);</span><br><span class="line">        book1.getPublishers().add(luxun);</span><br><span class="line"></span><br><span class="line">        Book book2 = new Book(&quot;åŸºå› ä¼ &quot;);</span><br><span class="line">        book2.getPublishers().add(chenduxiu);</span><br><span class="line">        book2.getPublishers().add(libai);</span><br><span class="line"></span><br><span class="line">        bookRepository.save(book1);</span><br><span class="line">        bookRepository.save(book2);</span><br><span class="line">        List&lt;Book&gt; books = bookRepository.findAll();</span><br><span class="line">        for (Iterator&lt;Book&gt; iterator = books.iterator(); iterator.hasNext(); ) &#123;</span><br><span class="line">            Book book =  iterator.next();</span><br><span class="line">            System.out.println(book.toString());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>##10.ä¸€å¯¹ä¸€å…³ç³»</p><p>ä»¥äººå’Œèº«ä»½è¯ä¸ºä¾‹,ä¸€ä¸ªäºº(Person)å¯¹åº”ä¸€ä¸ª(IDCard)ï¼Œå…³ç³»ç”±äºº(Person)æ¥ç»´æŠ¤</p><h3 id="äººç±»-Person"><a href="#äººç±»-Person" class="headerlink" title="äººç±»(Person)"></a>äººç±»(Person)</h3><p>å› ä¸ºå…³ç³»ç”±Personç»´æŠ¤ï¼Œæ‰€ä»¥è¿™é‡Œä½¿ç”¨@JoinColumnå£°æ˜personè¡¨ä¸­å¤–é”®çš„åå­—(å¤–å»ºå=å¦ä¸€ä¸ªè¡¨çš„è¡¨å+â€_â€+å¦ä¸€ä¸ªè¡¨çš„ä¸»é”®å)</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">import javax.persistence.*;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * @Author:haoyongliang</span><br><span class="line"> * @Description:</span><br><span class="line"> * @Date: created in 17:49 2018/5/22</span><br><span class="line"> */</span><br><span class="line">@Entity</span><br><span class="line">public class Person &#123;</span><br><span class="line">    @Id</span><br><span class="line">    @GeneratedValue(strategy = GenerationType.AUTO)</span><br><span class="line">    private int id;</span><br><span class="line">    @Column</span><br><span class="line">    private String name;</span><br><span class="line">    </span><br><span class="line">    @OneToOne(cascade = CascadeType.ALL)</span><br><span class="line">    @JoinColumn(name = &quot;idCard_id&quot;)</span><br><span class="line">    private IDCard idCard;</span><br><span class="line"></span><br><span class="line">    public Person() &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public Person(String name) &#123;</span><br><span class="line">        this.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    //TODO çœç•¥GETTERå’ŒSETTER</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public String toString() &#123;</span><br><span class="line">        return &quot;Person&#123;&quot; +</span><br><span class="line">                &quot;id=&quot; + id +</span><br><span class="line">                &quot;, name=&apos;&quot; + name + &apos;\&apos;&apos; +</span><br><span class="line">                &apos;&#125;&apos;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>###èº«ä»½è¯ç±»(IDCard)</p><blockquote><p>mappedBy = â€œidCardâ€è¡¨ç¤ºå…³ç³»ç”±å¦ä¸€ä¸ªå®ä½“(Person)ç»´æŠ¤ï¼ŒmappedBy çš„å€¼æ˜¯Personç±»ä¸­çš„IDCardå±æ€§çš„åå­—</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">import javax.persistence.*;</span><br><span class="line">import java.util.Date;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * @Author:haoyongliang</span><br><span class="line"> * @Description:</span><br><span class="line"> * @Date: created in 17:51 2018/5/22</span><br><span class="line"> */</span><br><span class="line">@Entity</span><br><span class="line">public class IDCard &#123;</span><br><span class="line">    @Id</span><br><span class="line">    @GeneratedValue(strategy = GenerationType.AUTO)</span><br><span class="line">    private int id;</span><br><span class="line">    @Column(unique = true)</span><br><span class="line">    /**èº«ä»½è¯å·*/</span><br><span class="line">    private String no;</span><br><span class="line">    @Column</span><br><span class="line">    @Temporal(TemporalType.DATE)</span><br><span class="line">    /**æœ‰æ•ˆæœŸ*/</span><br><span class="line">    private Date expiryDate;</span><br><span class="line">   </span><br><span class="line">    @OneToOne(mappedBy = &quot;idCard&quot;)</span><br><span class="line">    private Person person;</span><br><span class="line"></span><br><span class="line">    public IDCard() &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public IDCard(String no, Date expiryDate) &#123;</span><br><span class="line">        this.no = no;</span><br><span class="line">        this.expiryDate = expiryDate;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    //TODO çœç•¥GETTERå’ŒSETTER</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æµ‹è¯•ç±»"><a href="#æµ‹è¯•ç±»" class="headerlink" title="æµ‹è¯•ç±»"></a>æµ‹è¯•ç±»</h3><blockquote><p>PersonRepositoryå’ŒIDCardRepositoryç›´æ¥ç»§æ‰¿JpaRepository</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">@RunWith(SpringRunner.class)</span><br><span class="line">@EntityScan(basePackages=&quot;cn.itcast.sprintBootDemo.domain&quot;)</span><br><span class="line">@EnableJpaRepositories(basePackages = &#123;&quot;cn.itcast.sprintBootDemo.repository&quot;&#125;)</span><br><span class="line">@SpringBootTest</span><br><span class="line">public class PersonRepositoryTests &#123;</span><br><span class="line">    @Autowired</span><br><span class="line">    private PersonRepository personRepository;</span><br><span class="line">    </span><br><span class="line">    @Test</span><br><span class="line">    /**æµ‹è¯•ä¿å­˜*/</span><br><span class="line">    public void add() throws Exception&#123;</span><br><span class="line">        IDCard idCard = new IDCard(&quot;14240xxxxxxxxxxx&quot;,new SimpleDateFormat(&quot;yyyy-MM-dd&quot;).parse(&quot;2030-09-09&quot;));</span><br><span class="line"></span><br><span class="line">        Person jack = new Person(&quot;Jack&quot;);</span><br><span class="line">        jack.setIdCard(idCard);</span><br><span class="line"></span><br><span class="line">        personRepository.save(jack);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Test</span><br><span class="line">    /**æµ‹è¯•æŸ¥è¯¢*/</span><br><span class="line">    public void query() &#123;</span><br><span class="line">        List&lt;Person&gt; all = personRepository.findAll();</span><br><span class="line">        for (Iterator&lt;Person&gt; iterator = all.iterator(); iterator.hasNext(); ) &#123;</span><br><span class="line">            Person p =  iterator.next();</span><br><span class="line">            System.out.println(p.getIdCard().getNo());</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="é™„å½•"><a href="#é™„å½•" class="headerlink" title="é™„å½•"></a>é™„å½•</h1><blockquote><p>ä¸ºæ–¹ä¾¿é˜…è¯»,ä¸‹é¢æ˜¯æœ¬æ–‡æ¶‰åŠåˆ°çš„æ³¨è§£çš„ç›¸å…³è¯´æ˜,åœ¨é˜…è¯»æ–‡ç« æ—¶å¯¹æ³¨è§£å¦‚æœ‰é—®é¢˜å¯ä»¥æŸ¥é˜…æ­¤é™„å½•</p></blockquote><p>##@ManyToManyæ³¨è§£</p><p>BookRepository extends JpaRepositoryæ˜¯å±æ€§æˆ–æ–¹æ³•çº§åˆ«çš„æ³¨è§£ï¼Œç”¨äºå®šä¹‰æºå®ä½“ä¸ç›®æ ‡å®ä½“æ˜¯å¤šå¯¹å¤šçš„å…³ç³»ã€‚</p><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>æè¿°</th></tr></thead><tbody><tr><td>targetEntity</td><td>Class</td><td><strong>æºå®ä½“</strong>å…³è”çš„<strong>ç›®æ ‡å®ä½“</strong>ç±»å‹ï¼Œé»˜è®¤æ˜¯è¯¥æˆå‘˜å±æ€§å¯¹åº”çš„é›†åˆç±»å‹çš„æ³›å‹çš„å‚æ•°åŒ–ç±»å‹ã€‚</td></tr><tr><td>mappedBy</td><td>String</td><td>ç”¨åœ¨åŒå‘å…³è”ä¸­ã€‚å¦‚æœå…³ç³»æ˜¯åŒå‘çš„ï¼Œåˆ™éœ€å®šä¹‰æ­¤å‚æ•°ï¼ˆä¸ @JoinColumnäº’æ–¥ï¼Œå¦‚æœæ ‡æ³¨äº† @JoinColumnæ³¨è§£ï¼Œä¸éœ€è¦å†å®šä¹‰æ­¤å‚æ•°ï¼‰ã€‚</td></tr><tr><td>cascade</td><td>CascadeType[]</td><td>å®šä¹‰<strong>æºå®ä½“</strong>å’Œå…³è”çš„<strong>ç›®æ ‡å®ä½“</strong>é—´çš„çº§è”å…³ç³»ã€‚å½“å¯¹<strong>æºå®ä½“</strong>è¿›è¡Œæ“ä½œæ—¶ï¼Œæ˜¯å¦å¯¹å…³è”çš„<strong>ç›®æ ‡å®ä½“</strong>ä¹Ÿåšç›¸åŒçš„æ“ä½œã€‚é»˜è®¤æ²¡æœ‰çº§è”æ“ä½œã€‚è¯¥å‚æ•°çš„å¯é€‰å€¼æœ‰ï¼šCascadeType.PERSISTï¼ˆçº§è”æ–°å»ºï¼‰CascadeType.REMOVEï¼ˆçº§è”åˆ é™¤ï¼‰CascadeType.REFRESHï¼ˆçº§è”åˆ·æ–°ï¼‰CascadeType.MERGEï¼ˆçº§è”æ›´æ–°ï¼‰CascadeType.ALLï¼ˆåŒ…å«ä»¥ä¸Šå››é¡¹ï¼‰</td></tr><tr><td>fetch</td><td>FetchType</td><td>å®šä¹‰å…³è”çš„<strong>ç›®æ ‡å®ä½“</strong>çš„æ•°æ®çš„åŠ è½½æ–¹å¼ã€‚å¯é€‰å€¼ï¼šFetchType.LAZYï¼ˆå»¶è¿ŸåŠ è½½ï¼Œé»˜è®¤ï¼‰FetchType.EAGERï¼ˆç«‹å³åŠ è½½ï¼‰å»¶è¿ŸåŠ è½½ï¼šåªæœ‰åœ¨ç¬¬ä¸€æ¬¡è®¿é—®<strong>æºå®ä½“</strong>å…³è”çš„<strong>ç›®æ ‡å®ä½“</strong>çš„æ—¶å€™æ‰å»åŠ è½½ã€‚ç«‹å³åŠ è½½ï¼šåœ¨åŠ è½½<strong>æºå®ä½“</strong>æ•°æ®çš„æ—¶å€™åŒæ—¶å»åŠ è½½å¥½å…³è”çš„<strong>ç›®æ ‡å®ä½“</strong>çš„æ•°æ®ã€‚</td></tr></tbody></table><h2 id="OneToOneæ³¨è§£"><a href="#OneToOneæ³¨è§£" class="headerlink" title="@OneToOneæ³¨è§£"></a>@OneToOneæ³¨è§£</h2><p>æ˜¯å±æ€§æˆ–æ–¹æ³•çº§åˆ«çš„æ³¨è§£ï¼Œç”¨äºå®šä¹‰æºå®ä½“ä¸ç›®æ ‡å®ä½“æ˜¯ä¸€å¯¹ä¸€çš„å…³ç³»ã€‚</p><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>æè¿°</th></tr></thead><tbody><tr><td>targetEntity</td><td>Class</td><td><strong>æºå®ä½“</strong>å…³è”çš„<strong>ç›®æ ‡å®ä½“</strong>ç±»å‹ï¼Œé»˜è®¤æ˜¯è¯¥æˆå‘˜å±æ€§å¯¹åº”çš„ç±»å‹ï¼Œå› æ­¤è¯¥å‚æ•°é€šå¸¸å¯ä»¥ç¼ºçœã€‚</td></tr><tr><td>mappedBy</td><td>String</td><td>ç”¨åœ¨åŒå‘å…³è”ä¸­ã€‚å¦‚æœå…³ç³»æ˜¯åŒå‘çš„ï¼Œåªèƒ½æœ‰ä¸€æ–¹ä½œä¸ºä¸»ä½“ç«¯ï¼Œå¦ä¸€æ–¹åˆ™éœ€å£°æ˜æ­¤å‚æ•°ä»¥è¡¨æ˜å°†è¡¨é—´çš„è¿™ç§å…³è”å…³ç³»è½¬äº¤ç»™å¯¹æ–¹æ¥ç»´æŠ¤ã€‚</td></tr><tr><td>cascade</td><td>CascadeType[]</td><td>å®šä¹‰<strong>æºå®ä½“</strong>å’Œå…³è”çš„<strong>ç›®æ ‡å®ä½“</strong>é—´çš„çº§è”å…³ç³»ã€‚å½“å¯¹<strong>æºå®ä½“</strong>è¿›è¡Œæ“ä½œæ—¶ï¼Œæ˜¯å¦å¯¹å…³è”çš„<strong>ç›®æ ‡å®ä½“</strong>ä¹Ÿåšç›¸åŒçš„æ“ä½œã€‚é»˜è®¤æ²¡æœ‰çº§è”æ“ä½œã€‚è¯¥å‚æ•°çš„å¯é€‰å€¼æœ‰ï¼šCascadeType.PERSISTï¼ˆçº§è”æ–°å»ºï¼‰CascadeType.REMOVEï¼ˆçº§è”åˆ é™¤ï¼‰CascadeType.REFRESHï¼ˆçº§è”åˆ·æ–°ï¼‰CascadeType.MERGEï¼ˆçº§è”æ›´æ–°ï¼‰CascadeType.ALLï¼ˆåŒ…å«ä»¥ä¸Šå››é¡¹ï¼‰</td></tr><tr><td>fetch</td><td>FetchType</td><td>å®šä¹‰å…³è”çš„<strong>ç›®æ ‡å®ä½“</strong>çš„æ•°æ®çš„åŠ è½½æ–¹å¼ã€‚å¯é€‰å€¼ï¼šFetchType.LAZYï¼ˆå»¶è¿ŸåŠ è½½ï¼‰FetchType.EAGERï¼ˆç«‹å³åŠ è½½ï¼Œé»˜è®¤ï¼‰å»¶è¿ŸåŠ è½½ï¼šåªæœ‰åœ¨ç¬¬ä¸€æ¬¡è®¿é—®<strong>æºå®ä½“</strong>å…³è”çš„<strong>ç›®æ ‡å®ä½“</strong>çš„æ—¶å€™æ‰å»åŠ è½½ã€‚ç«‹å³åŠ è½½ï¼šåœ¨åŠ è½½<strong>æºå®ä½“</strong>æ•°æ®çš„æ—¶å€™åŒæ—¶å»åŠ è½½å¥½å…³è”çš„<strong>ç›®æ ‡å®ä½“</strong>çš„æ•°æ®ã€‚</td></tr><tr><td>optional</td><td>boolean</td><td><strong>æºå®ä½“</strong>å…³è”çš„<strong>ç›®æ ‡å®ä½“</strong>æ˜¯å¦å…è®¸ä¸º nullï¼Œé»˜è®¤ä¸º trueã€‚</td></tr><tr><td>orphanRemoval</td><td>boolean</td><td>å½“<strong>æºå®ä½“</strong>å…³è”çš„<strong>ç›®æ ‡å®ä½“</strong>è¢«æ–­å¼€ï¼ˆå¦‚ç»™è¯¥å±æ€§èµ‹äºˆå¦å¤–ä¸€ä¸ªå®ä¾‹ï¼Œæˆ–è¯¥å±æ€§çš„å€¼è¢«è®¾ä¸º nullã€‚è¢«æ–­å¼€çš„å®ä¾‹ç§°ä¸ºå­¤å€¼ï¼Œå› ä¸ºå·²ç»æ‰¾ä¸åˆ°ä»»ä½•ä¸€ä¸ªå®ä¾‹ä¸ä¹‹å‘ç”Ÿå…³è”ï¼‰æ—¶ï¼Œæ˜¯å¦è‡ªåŠ¨åˆ é™¤æ–­å¼€çš„å®ä¾‹ï¼ˆåœ¨æ•°æ®åº“ä¸­è¡¨ç°ä¸ºåˆ é™¤è¡¨ç¤ºè¯¥å®ä¾‹çš„è¡Œè®°å½•ï¼‰ï¼Œé»˜è®¤ä¸º falseã€‚</td></tr></tbody></table><h2 id="OneToManyæ³¨è§£"><a href="#OneToManyæ³¨è§£" class="headerlink" title="@OneToManyæ³¨è§£"></a>@OneToManyæ³¨è§£</h2><p>@OneToMany æ˜¯å±æ€§æˆ–æ–¹æ³•çº§åˆ«çš„æ³¨è§£ï¼Œç”¨äºå®šä¹‰æºå®ä½“ä¸ç›®æ ‡å®ä½“æ˜¯ä¸€å¯¹å¤šçš„å…³ç³»ã€‚</p><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>æè¿°</th></tr></thead><tbody><tr><td>targetEntity</td><td>Class</td><td><strong>æºå®ä½“</strong>å…³è”çš„<strong>ç›®æ ‡å®ä½“</strong>ç±»å‹ï¼Œé»˜è®¤æ˜¯è¯¥æˆå‘˜å±æ€§å¯¹åº”çš„é›†åˆç±»å‹çš„æ³›å‹çš„å‚æ•°åŒ–ç±»å‹ã€‚</td></tr><tr><td>mappedBy</td><td>String</td><td>ç”¨åœ¨åŒå‘å…³è”ä¸­ã€‚å¦‚æœå…³ç³»æ˜¯åŒå‘çš„ï¼Œåˆ™éœ€å®šä¹‰æ­¤å‚æ•°ï¼ˆä¸ @JoinColumn äº’æ–¥ï¼Œå¦‚æœæ ‡æ³¨äº† @JoinColumnæ³¨è§£ï¼Œä¸éœ€è¦å†å®šä¹‰æ­¤å‚æ•°ï¼‰ã€‚</td></tr><tr><td>cascade</td><td>CascadeType[]</td><td>å®šä¹‰<strong>æºå®ä½“</strong>å’Œå…³è”çš„<strong>ç›®æ ‡å®ä½“</strong>é—´çš„çº§è”å…³ç³»ã€‚å½“å¯¹<strong>æºå®ä½“</strong>è¿›è¡Œæ“ä½œæ—¶ï¼Œæ˜¯å¦å¯¹å…³è”çš„<strong>ç›®æ ‡å®ä½“</strong>ä¹Ÿåšç›¸åŒçš„æ“ä½œã€‚é»˜è®¤æ²¡æœ‰çº§è”æ“ä½œã€‚è¯¥å‚æ•°çš„å¯é€‰å€¼æœ‰ï¼šCascadeType.PERSISTï¼ˆçº§è”æ–°å»ºï¼‰CascadeType.REMOVEï¼ˆçº§è”åˆ é™¤ï¼‰CascadeType.REFRESHï¼ˆçº§è”åˆ·æ–°ï¼‰CascadeType.MERGEï¼ˆçº§è”æ›´æ–°ï¼‰CascadeType.ALLï¼ˆåŒ…å«ä»¥ä¸Šå››é¡¹ï¼‰</td></tr><tr><td>fetch</td><td>FetchType</td><td>å®šä¹‰å…³è”çš„<strong>ç›®æ ‡å®ä½“</strong>çš„æ•°æ®çš„åŠ è½½æ–¹å¼ã€‚å¯é€‰å€¼ï¼šFetchType.LAZYï¼ˆå»¶è¿ŸåŠ è½½ï¼Œé»˜è®¤ï¼‰FetchType.EAGERï¼ˆç«‹å³åŠ è½½ï¼‰å»¶è¿ŸåŠ è½½ï¼šåªæœ‰åœ¨ç¬¬ä¸€æ¬¡è®¿é—®<strong>æºå®ä½“</strong>å…³è”çš„<strong>ç›®æ ‡å®ä½“</strong>çš„æ—¶å€™æ‰å»åŠ è½½ã€‚ç«‹å³åŠ è½½ï¼šåœ¨åŠ è½½<strong>æºå®ä½“</strong>æ•°æ®çš„æ—¶å€™åŒæ—¶å»åŠ è½½å¥½å…³è”çš„<strong>ç›®æ ‡å®ä½“</strong>çš„æ•°æ®ã€‚</td></tr><tr><td>orphanRemoval</td><td>boolean</td><td>å½“<strong>æºå®ä½“</strong>å…³è”çš„<strong>ç›®æ ‡å®ä½“</strong>è¢«æ–­å¼€ï¼ˆå¦‚ç»™è¯¥å±æ€§èµ‹äºˆå¦å¤–ä¸€ä¸ªå®ä¾‹ï¼Œæˆ–è¯¥å±æ€§çš„å€¼è¢«è®¾ä¸º nullã€‚è¢«æ–­å¼€çš„å®ä¾‹ç§°ä¸ºå­¤å€¼ï¼Œå› ä¸ºå·²ç»æ‰¾ä¸åˆ°ä»»ä½•ä¸€ä¸ªå®ä¾‹ä¸ä¹‹å‘ç”Ÿå…³è”ï¼‰æ—¶ï¼Œæ˜¯å¦è‡ªåŠ¨åˆ é™¤æ–­å¼€çš„å®ä¾‹ï¼ˆåœ¨æ•°æ®åº“ä¸­è¡¨ç°ä¸ºåˆ é™¤è¡¨ç¤ºè¯¥å®ä¾‹çš„è¡Œè®°å½•ï¼‰ï¼Œé»˜è®¤ä¸º falseã€‚(å¦‚æœç”¨CascadeType.REMOVEè®¾ç½®åˆ™å¿…é¡»è¦è°ƒç”¨delete()æ–¹æ³•æ‰ä¼šåˆ é™¤)</td></tr></tbody></table><h2 id="ManyToOneæ³¨è§£"><a href="#ManyToOneæ³¨è§£" class="headerlink" title="@ManyToOneæ³¨è§£"></a>@ManyToOneæ³¨è§£</h2><p>@ManyToOne æ˜¯å±æ€§æˆ–æ–¹æ³•çº§åˆ«çš„æ³¨è§£ï¼Œç”¨äºå®šä¹‰æºå®ä½“ä¸ç›®æ ‡å®ä½“æ˜¯å¤šå¯¹ä¸€çš„å…³ç³»ã€‚</p><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>æè¿°</th></tr></thead><tbody><tr><td>targetEntity</td><td>Class</td><td><strong>æºå®ä½“</strong>å…³è”çš„<strong>ç›®æ ‡å®ä½“</strong>ç±»å‹ï¼Œé»˜è®¤æ˜¯è¯¥æˆå‘˜å±æ€§å¯¹åº”çš„ç±»å‹ï¼Œå› æ­¤è¯¥å‚æ•°é€šå¸¸å¯ä»¥ç¼ºçœã€‚</td></tr><tr><td>cascade</td><td>CascadeType[]</td><td>å®šä¹‰<strong>æºå®ä½“</strong>å’Œå…³è”çš„<strong>ç›®æ ‡å®ä½“</strong>é—´çš„çº§è”å…³ç³»ã€‚å½“å¯¹<strong>æºå®ä½“</strong>è¿›è¡Œæ“ä½œæ—¶ï¼Œæ˜¯å¦å¯¹å…³è”çš„<strong>ç›®æ ‡å®ä½“</strong>ä¹Ÿåšç›¸åŒçš„æ“ä½œã€‚é»˜è®¤æ²¡æœ‰çº§è”æ“ä½œã€‚è¯¥å‚æ•°çš„å¯é€‰å€¼æœ‰ï¼šCascadeType.PERSISTï¼ˆçº§è”æ–°å»ºï¼‰CascadeType.REMOVEï¼ˆçº§è”åˆ é™¤ï¼‰CascadeType.REFRESHï¼ˆçº§è”åˆ·æ–°ï¼‰CascadeType.MERGEï¼ˆçº§è”æ›´æ–°ï¼‰CascadeType.ALLï¼ˆåŒ…å«ä»¥ä¸Šå››é¡¹ï¼‰</td></tr><tr><td>fetch</td><td>FetchType</td><td>å®šä¹‰å…³è”çš„<strong>ç›®æ ‡å®ä½“</strong>çš„æ•°æ®çš„åŠ è½½æ–¹å¼ã€‚å¯é€‰å€¼ï¼šFetchType.LAZYï¼ˆå»¶è¿ŸåŠ è½½ï¼‰FetchType.EAGERï¼ˆç«‹å³åŠ è½½ï¼Œé»˜è®¤ï¼‰å»¶è¿ŸåŠ è½½ï¼šåªæœ‰åœ¨ç¬¬ä¸€æ¬¡è®¿é—®<strong>æºå®ä½“</strong>å…³è”çš„<strong>ç›®æ ‡å®ä½“</strong>çš„æ—¶å€™æ‰å»åŠ è½½ã€‚ç«‹å³åŠ è½½ï¼šåœ¨åŠ è½½<strong>æºå®ä½“</strong>æ•°æ®çš„æ—¶å€™åŒæ—¶å»åŠ è½½å¥½å…³è”çš„<strong>ç›®æ ‡å®ä½“</strong>çš„æ•°æ®ã€‚</td></tr><tr><td>optional</td><td>boolean</td><td><strong>æºå®ä½“</strong>å…³è”çš„<strong>ç›®æ ‡å®ä½“</strong>æ˜¯å¦å…è®¸ä¸º nullï¼Œé»˜è®¤ä¸º trueã€‚</td></tr></tbody></table><h2 id="JoinTableæ³¨è§£"><a href="#JoinTableæ³¨è§£" class="headerlink" title="@JoinTableæ³¨è§£"></a>@JoinTableæ³¨è§£</h2><p>ä¸ @Table æ³¨è§£ç›¸ç±»ä¼¼ï¼Œä¸åŒçš„æ˜¯ï¼Œ@JoinTable æ³¨è§£æ˜¯ç”¨äºå®šä¹‰å…³è”è¡¨ï¼Œå®ƒåªèƒ½æ ‡æ³¨åœ¨å®ä½“ç±»å‹çš„æˆå‘˜å±æ€§æˆ–æ–¹æ³•ä¸Šï¼Œå¸¸ç”¨äºå¤šå¯¹å¤šæˆ–å¤šå¯¹ä¸€çš„å…³è”æ˜ å°„ã€‚å¦‚æœæ²¡æœ‰å£°æ˜ï¼Œåˆ™ä½¿ç”¨è¯¥æ³¨è§£çš„é»˜è®¤å€¼ã€‚</p><p>å¤šå¯¹ä¸€æ—¶æ…ç”¨ï¼Œå› ä¸ºä¼šç”Ÿæˆç¬¬ä¸‰å¼ è¡¨</p><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>æè¿°</th></tr></thead><tbody><tr><td>name</td><td>String</td><td>è¿æ¥è¡¨çš„åç§°ã€‚</td></tr><tr><td>catalog</td><td>String</td><td>é»˜è®¤ä¸ºæ•°æ®åº“ç³»ç»Ÿç¼ºçœçš„ catalogã€‚</td></tr><tr><td>schema</td><td>String</td><td>é»˜è®¤ä¸ºç”¨æˆ·ç¼ºçœçš„ schemaã€‚</td></tr><tr><td>joinColumns</td><td>JoinColumn[]</td><td>è¿æ¥è¡¨ä¸­çš„å¤–é”®åˆ—ï¼Œé€šè¿‡ä½¿ç”¨ @JoinColumn æ³¨è§£æ¥å£°æ˜ï¼Œè¯¥å¤–é”®å‚ç…§<strong>æºå®ä½“</strong>çš„ä¸»é”®ã€‚</td></tr><tr><td>inverseJoinColumns</td><td>JoinColumn[]</td><td>ä¸ <code>joinColumns</code> å‚æ•°ä½œç”¨ç±»ä¼¼ï¼Œåªä¸è¿‡è¯¥å¤–é”®å‚ç…§çš„æ˜¯<strong>ç›®æ ‡å®ä½“</strong>çš„ä¸»é”®ã€‚</td></tr><tr><td>uniqueConstraints</td><td>UniqueConstraint[]</td><td>è¡¨çš„å”¯ä¸€çº¦æŸï¼ˆé™¤äº†ç”± @Column å’Œ @JoinColumnæ³¨è§£æŒ‡å®šçš„çº¦æŸä»¥åŠä¸»é”®çš„çº¦æŸä¹‹å¤–çš„çº¦æŸï¼‰ï¼Œé€šè¿‡ä½¿ç”¨ @UniqueConstraintæ³¨è§£æ¥å£°æ˜ï¼Œä»…åœ¨å…è®¸è‡ªåŠ¨æ›´æ–°æ•°æ®åº“è¡¨ç»“æ„çš„åœºæ™¯ä¸­èµ·åˆ°ä½œç”¨ï¼Œé»˜è®¤æ²¡æœ‰å…¶ä»–é¢å¤–çš„çº¦æŸæ¡ä»¶ã€‚</td></tr><tr><td>indexes</td><td>Index[]</td><td>è¡¨çš„ç´¢å¼•ï¼Œé€šè¿‡ä½¿ç”¨ @Indexæ³¨è§£æ¥å£°æ˜ï¼Œä»…åœ¨å…è®¸è‡ªåŠ¨æ›´æ–°æ•°æ®åº“è¡¨ç»“æ„çš„åœºæ™¯ä¸­èµ·åˆ°ä½œç”¨ï¼Œé»˜è®¤æ²¡æœ‰å…¶ä»–é¢å¤–çš„ç´¢å¼•ã€‚</td></tr><tr><td>foreignKey</td><td>ForeignKey</td><td>ç”¨äºç”Ÿæˆè¡¨æ—¶å®šä¹‰ <code>joinColumns</code> å‚æ•°çš„å¤–é”®çº¦æŸã€‚</td></tr><tr><td>inverseForeignKey</td><td>ForeignKey</td><td>ç”¨äºç”Ÿæˆè¡¨æ—¶å®šä¹‰ <code>inverseJoinColumns</code> å‚æ•°çš„å¤–é”®çº¦æŸã€‚</td></tr></tbody></table><p>##@JoinColumnæ³¨è§£</p><p>ä¸ @Column æ³¨è§£ç›¸ç±»ä¼¼ï¼Œä¸åŒçš„æ˜¯ï¼Œ@JoinColumn æ³¨è§£æ˜¯ç”¨äºå®šä¹‰å¤–é”®åˆ—ï¼Œå®ƒåªèƒ½æ ‡æ³¨åœ¨å®ä½“ç±»å‹çš„æˆå‘˜å±æ€§æˆ–æ–¹æ³•ä¸Šï¼Œå¦‚æœæ²¡æœ‰å£°æ˜ï¼Œåˆ™ä½¿ç”¨è¯¥æ³¨è§£çš„é»˜è®¤å€¼ã€‚ä¸ @Column æ³¨è§£ç›¸ç±»ä¼¼ï¼Œä¸åŒçš„æ˜¯ï¼Œ@JoinColumn æ³¨è§£æ˜¯ç”¨äºå®šä¹‰å¤–é”®åˆ—ï¼Œå®ƒåªèƒ½æ ‡æ³¨åœ¨å®ä½“ç±»å‹çš„æˆå‘˜å±æ€§æˆ–æ–¹æ³•ä¸Šï¼Œå¦‚æœæ²¡æœ‰å£°æ˜ï¼Œåˆ™ä½¿ç”¨è¯¥æ³¨è§£çš„é»˜è®¤å€¼ã€‚</p><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>æè¿°</th></tr></thead><tbody><tr><td>name</td><td>String</td><td>å¤–é”®åˆ—çš„åç§°ï¼Œé»˜è®¤ä¸ºï¼š<code>å±æ€§çš„åç§°</code> + <code>_</code> + <code>å±æ€§å¯¹åº”çš„å®ä½“çš„ä¸»é”®åˆ—çš„åç§°</code>ï¼ˆHibernate æ˜ å°„åˆ—æ—¶ï¼Œè‹¥é‡åˆ°é©¼å³°æ‹¼å†™ï¼Œä¼šè‡ªåŠ¨æ·»åŠ  <code>_</code> è¿æ¥å¹¶å°†å¤§å†™å­—æ¯æ”¹æˆå°å†™ï¼‰ã€‚</td></tr><tr><td>unique</td><td>boolean</td><td>å¤–é”®åˆ—çš„å€¼æ˜¯å¦æ˜¯å”¯ä¸€çš„ã€‚è¿™æ˜¯ @UniqueConstraint æ³¨è§£çš„ä¸€ä¸ªå¿«æ·æ–¹å¼ï¼Œå®è´¨ä¸Šæ˜¯åœ¨å£°æ˜å”¯ä¸€çº¦æŸã€‚é»˜è®¤å€¼ä¸º falseã€‚</td></tr><tr><td>nullable</td><td>boolean</td><td>å¤–é”®åˆ—çš„å€¼æ˜¯å¦å…è®¸ä¸º nullã€‚é»˜è®¤ä¸º trueã€‚</td></tr><tr><td>insertable</td><td>boolean</td><td>å¤–é”®åˆ—æ˜¯å¦åŒ…å«åœ¨ <code>INSERT</code> è¯­å¥ä¸­ï¼Œé»˜è®¤ä¸º trueã€‚</td></tr><tr><td>updatable</td><td>boolean</td><td>å¤–é”®åˆ—æ˜¯å¦åŒ…å«åœ¨ <code>UPDATE</code> è¯­å¥ä¸­ï¼Œé»˜è®¤ä¸º trueã€‚</td></tr><tr><td>columnDefinition</td><td>String</td><td>ç”Ÿæˆå¤–é”®åˆ—çš„ DDL æ—¶ä½¿ç”¨çš„ SQL ç‰‡æ®µã€‚é»˜è®¤ä½¿ç”¨æ¨æ–­çš„ç±»å‹æ¥ç”Ÿæˆ SQL ç‰‡æ®µä»¥åˆ›å»ºæ­¤åˆ—ã€‚</td></tr><tr><td>table</td><td>String</td><td>å¤–é”®åˆ—æ‰€å±çš„è¡¨çš„åç§°ã€‚é»˜è®¤å€¼ï¼šå¦‚æœæ˜¯å¤–é”® <code>@OneToOne</code> æˆ– <code>@ManyToOne</code> å…³è”ï¼Œåˆ™ä¸º<strong>æºå®ä½“</strong>çš„è¡¨çš„åç§°ï¼›å¦‚æœæ˜¯å•å‘å¤–é”® <code>@OneToMany</code> å…³ç³»ï¼Œåˆ™ä¸º<strong>ç›®æ ‡å®ä½“</strong>çš„è¡¨çš„åç§°ï¼›å¦‚æœæ˜¯ <code>@ManyToMany</code>ã€<code>@OneToOne</code>ã€åŒå‘ <code>@ManyToOne</code>ã€åŒå‘ <code>@OneToMany</code> å…³è”ï¼Œåˆ™ä¸ºè¿æ¥è¡¨çš„åç§°ï¼›</td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> æ¡†æ¶ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SpringBoot </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>02.Spring BootæŠ€æœ¯æ ˆ1.X(Spring Boot å¯¹ Web å¼€å‘çš„æ”¯æŒ)</title>
      <link href="/2018/06/06/SpringBoot/02web%E5%BC%80%E5%8F%91%E5%AE%9E%E6%88%98/web%E5%BC%80%E5%8F%91%E5%AE%9E%E6%88%98/"/>
      <url>/2018/06/06/SpringBoot/02web%E5%BC%80%E5%8F%91%E5%AE%9E%E6%88%98/web%E5%BC%80%E5%8F%91%E5%AE%9E%E6%88%98/</url>
      
        <content type="html"><![CDATA[<h1 id="Spring-BootæŠ€æœ¯æ ˆ-Spring-Boot-å¯¹-Web-å¼€å‘çš„æ”¯æŒ"><a href="#Spring-BootæŠ€æœ¯æ ˆ-Spring-Boot-å¯¹-Web-å¼€å‘çš„æ”¯æŒ" class="headerlink" title="Spring BootæŠ€æœ¯æ ˆ(Spring Boot å¯¹ Web å¼€å‘çš„æ”¯æŒ)"></a>Spring BootæŠ€æœ¯æ ˆ(Spring Boot å¯¹ Web å¼€å‘çš„æ”¯æŒ)</h1><ul><li><p>æœ¬ç¯‡ä»‹ç» Spring Bootä¸­spring-boot-starter-web å¯¹ Web å¼€å‘çš„æ”¯æŒï¼Œä¸»è¦åŒ…æ‹¬ RestFulã€è·å–è¯·æ±‚å‚æ•°ã€è¿‡æ»¤å™¨ç­‰åŠŸèƒ½ã€‚</p><p>æ³¨ï¼šspring-boot-starter-web æ˜¯ä¸€ä¸ªç”¨äºæ„å»º Web çš„ Starter ï¼ŒåŒ…æ‹¬æ„å»º RESTful æœåŠ¡åº”ç”¨ã€Spring MVC åº”ç”¨ç­‰ã€‚å¹¶ä¸”ä¸éœ€è¦é¢å¤–é…ç½®å®¹å™¨ï¼Œé»˜è®¤ä½¿ç”¨ Tomcat ä½œä¸ºåµŒå…¥å¼å®¹å™¨ã€‚</p></li></ul><h1 id="1-ç¼–å†™RestFulé£æ ¼çš„ä»£ç "><a href="#1-ç¼–å†™RestFulé£æ ¼çš„ä»£ç " class="headerlink" title="1.ç¼–å†™RestFulé£æ ¼çš„ä»£ç "></a>1.ç¼–å†™RestFulé£æ ¼çš„ä»£ç </h1><p> åœ¨ Spring Boot ä½“ç³»ä¸­ï¼Œå¤©ç„¶å¯¹ Json æ”¯æŒã€‚æ— è®ºè¿”å›é›†åˆè¿˜æ˜¯å¯¹è±¡ï¼ŒSpring Boot å‡å¯ä»¥å°†å…¶è½¬åŒ–ä¸º Json å­—ç¬¦ä¸²ï¼Œç‰¹åˆ«é€‚åˆæˆ‘ä»¬ç»™å…¶ä»–ç³»ç»Ÿæä¾›æ¥å£æ—¶ä½¿ç”¨ã€‚</p><ol><li><p>åœ¨domainåŒ…ä¸‹æ–°å»ºä¸€ä¸ªå®ä½“ç±» Personï¼ŒPerson ä¿¡æ¯å¦‚ä¸‹ï¼š</p> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line">*@author haoyongliang</span><br><span class="line">*/</span><br><span class="line">public class Person &#123;</span><br><span class="line">  private String name;//å§“å</span><br><span class="line">  private int age;//å¹´é¾„</span><br><span class="line">  private String address;//ä½å€</span><br><span class="line">  //çœç•¥æ— å‚ã€å…¨å‚æ„é€ /getterã€setteræ–¹æ³•</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><ol start="2"><li><p>åœ¨webåŒ…ä¸‹æ–°å»ºä¸€ä¸ªç±» PersonController ,PersonController ä¿¡æ¯å¦‚ä¸‹</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line">*@autor haoyongliang</span><br><span class="line">*/</span><br><span class="line">@RestController</span><br><span class="line">@RequestMapping(&quot;personController&quot;)</span><br><span class="line">public class PersonController &#123;</span><br><span class="line">  /**</span><br><span class="line">   * æ¼”ç¤ºè¿”å›ä¸€ä¸ªé›†åˆå¯¹è±¡çš„JSONæ•°æ®ï¼Œ</span><br><span class="line">   * è®¿é—®æ–¹å¼ http://localhost:8080/personController/findAllPerson</span><br><span class="line">   * @return</span><br><span class="line">   */</span><br><span class="line">  @RequestMapping(&quot;findAllPerson&quot;)</span><br><span class="line">  public ArrayList&lt;Person&gt; findAllPerson()&#123;</span><br><span class="line">      ArrayList&lt;Person&gt; persons = new ArrayList&lt;&gt;();</span><br><span class="line"></span><br><span class="line">      persons.add(new Person(&quot;JACK&quot;,23,&quot;å±±è¥¿æ™‹ä¸­æ¦†æ¬¡&quot;));</span><br><span class="line">      persons.add(new Person(&quot;ROSE&quot;,23,&quot;å±±è¥¿å¤ªåŸå°åº—&quot;));</span><br><span class="line">      persons.add(new Person(&quot;ROBIN&quot;,23,&quot;å±±è¥¿é˜³æ³‰&quot;));</span><br><span class="line"></span><br><span class="line">      return persons;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  /**</span><br><span class="line">   * æ¼”ç¤ºè¿”å›ä¸€ä¸ªå®ä½“ç±»å¯¹è±¡çš„JSONæ•°æ®ã€‚</span><br><span class="line">   * è®¿é—®æ–¹å¼ http://localhost:8080/personController/findPerson</span><br><span class="line">   * @return</span><br><span class="line">   */</span><br><span class="line">  @RequestMapping(&quot;findPerson&quot;)</span><br><span class="line">  public Person findPerson()&#123;</span><br><span class="line">      return new Person(&quot;JACK&quot;,23,&quot;å±±è¥¿æ™‹ä¸­æ¦†æ¬¡&quot;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>è®¿é—® <a href="http://localhost:8080/personController/findAllPerson" target="_blank" rel="noopener">http://localhost:8080/personController/findAllPerson</a> è¿”å›ç»“æœå¦‚ä¸‹</p><p><img src="//haoyongliang.gitee.io/2018/06/06/SpringBoot/02webå¼€å‘å®æˆ˜/webå¼€å‘å®æˆ˜/findAllStudent.jpg" alt="0"></p></li><li><p>è®¿é—® <a href="http://localhost:8080/personController/findPerson" target="_blank" rel="noopener">http://localhost:8080/personController/findPerson</a> è¿”å›ç»“æœå¦‚ä¸‹</p><p><img src="//haoyongliang.gitee.io/2018/06/06/SpringBoot/02webå¼€å‘å®æˆ˜/webå¼€å‘å®æˆ˜/findStudent.jpg" alt="1"></p><p><strong>æ³¨ï¼š</strong> æµè§ˆå™¨ä¸­çš„è¿”å›ç»“æœçœ‹èµ·æ¥éå¸¸ç¾è§‚æ˜¯å› ä¸ºä½¿ç”¨äº†Googleæµè§ˆå™¨æ’ä»¶JSON-handleï¼Œå®‰è£…æ–¹æ³•å‚è§<a href="https://jingyan.baidu.com/article/c910274bb4b659cd361d2dad.html" title="ç‚¹æ­¤æŸ¥çœ‹JSON-handleçš„å®‰è£…æ–¹æ³•" target="_blank" rel="noopener">https://jingyan.baidu.com/article/c910274bb4b659cd361d2dad.html</a></p></li></ol><h1 id="2-POSTå’ŒGETä¼ å‚-amp-å‚æ•°æ ¡éªŒ"><a href="#2-POSTå’ŒGETä¼ å‚-amp-å‚æ•°æ ¡éªŒ" class="headerlink" title="2.POSTå’ŒGETä¼ å‚&amp;å‚æ•°æ ¡éªŒ"></a>2.POSTå’ŒGETä¼ å‚&amp;å‚æ•°æ ¡éªŒ</h1><h2 id="1-POST-ä¼ å‚"><a href="#1-POST-ä¼ å‚" class="headerlink" title="1.POST ä¼ å‚"></a>1.POST ä¼ å‚</h2><ol><li><p>é€šè¿‡ @RequestMapping æ³¨è§£çš„ method å±æ€§æŒ‡å®šè¯·æ±‚æ–¹å¼ä¸ºPOST</p></li><li><p>ç»™æ–¹æ³•æ·»åŠ å½¢å¼å‚æ•°ç”¨äºæ¥æ”¶å®¢æˆ·ç«¯è¯·æ±‚å‘é€è¿‡æ¥çš„æ•°</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * å¦‚æœå½¢å¼å‚æ•°æ˜¯Personç±»å‹ï¼Œåªè¦æ˜¯ Person çš„å±æ€§éƒ½ä¼šè¢«è‡ªåŠ¨å¡«å……åˆ° person å¯¹è±¡ä¸­</span><br><span class="line"> * è®¿é—®è·¯å¾„http://localhost:8080/personController/showPersonInfo1</span><br><span class="line"> */</span><br><span class="line">@RequestMapping(value = &quot;showPersonInfo1&quot;, method = RequestMethod.POST)</span><br><span class="line">public Person showPersonInfo(Person person)&#123;</span><br><span class="line">    return person;</span><br><span class="line">&#125;</span><br><span class="line">â€Š</span><br><span class="line">/**</span><br><span class="line"> * æ¥æ”¶nameï¼Œageï¼Œaddresså‚æ•°å¹¶æ‰‹åŠ¨å°†å…¶å°è£…æˆPersonå¯¹è±¡</span><br><span class="line"> * è®¿é—®è·¯å¾„http://localhost:8080/personController/showPersonInfo2</span><br><span class="line"> * @</span><br><span class="line"> * m person</span><br><span class="line"> * @return</span><br><span class="line"> */</span><br><span class="line">@RequestMapping(value = &quot;showPersonInfo2&quot;, method = RequestMethod.POST)</span><br><span class="line">public Person showPersonInfo(String name, int age, String address)&#123;</span><br><span class="line">    Person p = new Person(name,age,address);</span><br><span class="line">    return p;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>â€‹</p></li></ol><p>  <strong>æ³¨ï¼š</strong> åœ¨ä½¿ç”¨ç¬¬ä¸€ç§æ–¹å¼æ¥å—æ•°æ®çš„æ—¶å€™<strong>Personç±»å¿…é¡»æœ‰ä¸€ä¸ªæ— å‚æ„é€ </strong>ï¼Œæ¡†æ¶å†…éƒ¨å…ˆé€šè¿‡æ— å‚æ„é€ åˆ›å»ºå¯¹è±¡ï¼Œç„¶åè°ƒç”¨setæ–¹æ³•èµ‹å€¼ï¼Œæœ€åå°†å¯¹è±¡å½“ä½œ <em>å®é™…å‚æ•°</em> èµ‹å€¼ç»™ <em>å½¢å¼å‚æ•°</em></p><h2 id="2-GET-ä¼ å‚"><a href="#2-GET-ä¼ å‚" class="headerlink" title="2.GET ä¼ å‚"></a>2.GET ä¼ å‚</h2><ol><li><p>@RequestMapping æ³¨è§£çš„methodå±æ€§é»˜è®¤å°±æ˜¯GETè¯·æ±‚ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥æ‰‹åŠ¨æŒ‡å®š</p></li><li><p>ä½¿ç”¨ @RequestParam æˆ–è€… @PathVariable æ¥æ¥æ”¶å‚æ•°</p> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * è®¿é—®è·¯å¾„http://localhost:8080/personController/getDetails/A1001?param1=&quot;ç¾å›½&quot;Â¶m2=&quot;çº½çº¦&quot;</span><br><span class="line"> * @param id</span><br><span class="line"> * @param param1</span><br><span class="line"> * @param param2</span><br><span class="line"> * @return</span><br><span class="line"> */</span><br><span class="line">@RequestMapping(&quot;/getDetails/&#123;id&#125;&quot;)</span><br><span class="line">public String getDetails(@PathVariable(value=&quot;id&quot;) String id,</span><br><span class="line">                         @RequestParam(value=&quot;param1&quot;, required=true) String param1,</span><br><span class="line">                         @RequestParam(value=&quot;param2&quot;, required=false) String param2)&#123;</span><br><span class="line">â€Š</span><br><span class="line">    return &quot;è®¿é—®æˆåŠŸ:id=&quot;+id+&quot;,param1=&quot;+param1+&quot;,param2=&quot;+param2;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>   ç»“æœå¦‚ä¸‹</p><p><img src="//haoyongliang.gitee.io/2018/06/06/SpringBoot/02webå¼€å‘å®æˆ˜/webå¼€å‘å®æˆ˜/getDetails.jpg" alt="1"></p></li></ol><ul><li><p><strong>@RequestParam</strong>å’Œ<strong>@PathVariable</strong>æ³¨è§£çš„ä½œç”¨</p><ul><li><p>@RequestParam å’Œ @PathVariable ä¸¤ä¸ªéƒ½å¯ä»¥æ¥æ”¶å‚æ•°.@RequestParamæ˜¯ä»è¯·æ±‚ä¸­è·å–æ•°æ®ï¼Œä¹Ÿå°±æ˜¯è·å–URLä¸­?åé¢çš„æ•°æ®ã€‚è€Œ@PathVariableåˆ™æ˜¯è·å–URLåœ°å€ä¸­çš„ä¸€éƒ¨åˆ†å€¼ã€‚</p></li><li><p><strong>@RequestParam</strong> æ”¯æŒä¸‹é¢å››ç§å‚æ•°</p><ol><li>defaultValue å¦‚æœæœ¬æ¬¡è¯·æ±‚æ²¡æœ‰æºå¸¦è¿™ä¸ªå‚æ•°ï¼Œæˆ–è€…å‚æ•°ä¸ºç©ºï¼Œé‚£ä¹ˆå°±ä¼šå¯ç”¨é»˜è®¤å€¼</li><li>name ç»‘å®šæœ¬æ¬¡å‚æ•°çš„åç§°ï¼Œè¦è·ŸURLä¸Šé¢çš„ä¸€æ ·</li><li>required è¿™ä¸ªå‚æ•°æ˜¯ä¸æ˜¯å¿…é¡»çš„</li><li>value è·Ÿnameä¸€æ ·çš„ä½œç”¨ï¼Œæ˜¯nameå±æ€§çš„ä¸€ä¸ªåˆ«å </li></ol><ul><li><strong>å»ºè®®ï¼š</strong>ä½œä¸ºä¸€ç§æœ€ä½³å®è·µï¼Œå‡ ä¹æ‰€æœ‰å¼€å‘äººå‘˜éƒ½åœ¨æŒ‰ç…§ä»¥ä¸‹æ–¹å¼æ¨èã€‚å¦‚æœä½ æƒ³è¯†åˆ«èµ„æºï¼Œä½ åº”è¯¥ä½¿ç”¨è·¯å¾„å˜é‡ã€‚ä½†æ˜¯å¦‚æœä½ æƒ³æ’åºæˆ–è¿‡æ»¤é¡¹ç›®ï¼Œé‚£ä¹ˆä½ åº”è¯¥ä½¿ç”¨æŸ¥è¯¢å‚æ•°ã€‚</li></ul></li></ul></li></ul><h2 id="3-å‚æ•°æ ¡éªŒ"><a href="#3-å‚æ•°æ ¡éªŒ" class="headerlink" title="3.å‚æ•°æ ¡éªŒ"></a>3.å‚æ•°æ ¡éªŒ</h2><p> å‚æ•°æ ¡éªŒåœ¨æˆ‘ä»¬æ—¥å¸¸å¼€å‘ä¸­éå¸¸å¸¸è§ï¼Œæœ€åŸºæœ¬çš„æ ¡éªŒæœ‰åˆ¤æ–­å±æ€§æ˜¯å¦ä¸ºç©ºã€é•¿åº¦æ˜¯å¦ç¬¦åˆè¦æ±‚ç­‰ï¼Œåœ¨ä¼ ç»Ÿçš„å¼€å‘æ¨¡å¼ä¸­éœ€è¦å†™ä¸€å †çš„ if else æ¥å¤„ç†è¿™äº›é€»è¾‘ï¼Œå¾ˆç¹çï¼Œæ•ˆç‡ä¹Ÿä½ã€‚ä½¿ç”¨ @Valid + BindingResult å°±å¯ä»¥ä¼˜é›…åœ°è§£å†³è¿™äº›é—®é¢˜ï¼Œæ¥ä¸‹æ¥çœ‹çœ‹ç¤ºä¾‹ï¼š</p><ol><li><p>é¦–å…ˆåœ¨ PersonController æ·»åŠ ä¸€ä¸ªä¿å­˜ç”¨æˆ·çš„æ–¹æ³• savePersonï¼Œå‚æ•°ä¸º Personï¼Œç°åœ¨éœ€è¦å¯¹å‚æ•° Person  åšæ ¡éªŒï¼š</p> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">public class Person &#123;</span><br><span class="line">    @NotEmpty(message=&quot;å§“åä¸èƒ½ä¸ºç©º&quot;)</span><br><span class="line">    private String name;</span><br><span class="line">    @Max(value = 100,message = &quot;å¹´é¾„ä¸èƒ½å¤§äº100&quot;)</span><br><span class="line">    @Min(value = 1,message = &quot;å¹´é¾„ä¸èƒ½å°äº1&quot;)</span><br><span class="line">    private int age;</span><br><span class="line">    @Length(message = &quot;åœ°å€é•¿åº¦åº”è¯¥åœ¨7-10ä¸ªæ±‰å­—ä¹‹é—´&quot;,min = 14,max=20)</span><br><span class="line">    @NotEmpty(message = &quot;åœ°å€ä¸èƒ½ä¸ºç©º&quot;)</span><br><span class="line">    private String address;</span><br><span class="line">    //çœç•¥æ— å‚ã€å…¨å‚æ„é€ /getterã€setteræ–¹æ³•</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><ol start="2"><li>Spring Boot çš„å‚æ•°æ ¡éªŒå…¶å®æ˜¯ä¾èµ–äº hibernate-validator æ¥è¿›è¡Œã€‚ç°åœ¨æ¨¡æ‹Ÿå¯¹å‚æ•° User è¿›è¡Œå‚æ•°æ ¡éªŒï¼Œä½¿ç”¨ @Valid + BindingResultï¼Œæ ¡éªŒåå¦‚æœæœ‰é”™è¯¯å°†é”™è¯¯æ‰“å°å‡ºæ¥ï¼Œä»£ç å¦‚ä¸‹ï¼š<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">@RequestMapping(&quot;savePerson&quot;)</span><br><span class="line">public String savePerson(@Valid Person person, BindingResult result)&#123;</span><br><span class="line">    String message = &quot;&quot;;</span><br><span class="line">    if(result.hasErrors())&#123;</span><br><span class="line">        List allErrors = result.getAllErrors();</span><br><span class="line">        for (ObjectError error : allErrors) &#123;</span><br><span class="line">            message += error.getDefaultMessage();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">â€Š</span><br><span class="line">    if(message==&quot;&quot;)&#123;</span><br><span class="line">        message = &quot;æ·»åŠ æˆåŠŸ&quot;;</span><br><span class="line">    &#125;</span><br><span class="line">    return message;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><ol start="3"><li><p>è®¿é—®<a href="http://localhost:8080/personController/savePersonï¼Œç»“æœå¦‚ä¸‹" target="_blank" rel="noopener">http://localhost:8080/personController/savePersonï¼Œç»“æœå¦‚ä¸‹</a></p><p><img src="//haoyongliang.gitee.io/2018/06/06/SpringBoot/02webå¼€å‘å®æˆ˜/webå¼€å‘å®æˆ˜/valid.jpg" alt="1"></p><ol start="4"><li><strong>é™„ï¼š</strong>javaæ ¡éªŒapiæ‰€æä¾›çš„æ ¡éªŒæ³¨è§£</li></ol><ul><li>@AssertFalse æ‰€æ³¨è§£çš„å…ƒç´ å¿…é¡»ä¸º booleanç±»å‹,å¹¶ä¸”å€¼ä¸º false</li><li>@AssertTrue æ‰€æ³¨è§£çš„å…ƒç´ å¿…é¡»ä¸º booleanç±»å‹,å¹¶ä¸”å€¼ä¸º true</li><li>Digits æ‰€æ³¨è§£çš„å…ƒç´ å¿…é¡»æ˜¯æ•°å­—,å¹¶ä¸”å®ƒçš„å€¼å¿…é¡»æœ‰æŒ‡å®šçš„ä½æ•°</li><li>Future æ‰€æ³¨è§£çš„å€¼å¿…é¡»æ˜¯ä¸€ä¸ªå°†æ¥çš„æ—¥æœŸ</li><li>Past æ‰€æ³¨è§£çš„å€¼å¿…é¡»æ˜¯ä¸€ä¸ªå·²ç»è¿‡å»çš„æ—¥æœŸ</li><li>Min æ‰€æ³¨è§£çš„å…ƒç´ å¿…é¡»æ˜¯æ•°å­—,å¹¶ä¸”å®ƒçš„å€¼å¿…é¡»å°äºç­‰äºç»™å®šçš„å€¼</li><li>Max æ‰€æ³¨è§£çš„å…ƒç´ å¿…é¡»æ˜¯æ•°å­—,å¹¶ä¸”å®ƒçš„å€¼å¿…é¡»å¤§äºç­‰äºç»™å®šçš„å€¼</li><li>NotNull æ‰€æ³¨è§£çš„å…ƒç´ ä¸èƒ½ä¸ºnull</li><li>NotEmpty æ‰€æ³¨è§£å…ƒç´ ä¸èƒ½ä¸º ç©º(æ³¨æ„ä¸æ˜¯null)</li><li>Null åšæ³¨è§£çš„å…ƒç´ å¿…é¡»ä¸ºnull</li><li>Size æ‰€æ³¨è§£çš„å…ƒç´ å¿…é¡»æ˜¯String,é›†åˆ,æˆ–æ•°ç»„,å¹¶ä¸”å®ƒçš„é•¿åº¦è¦ç¬¦åˆç»™å®šçš„èŒƒå›´</li><li>Pattern æ‰€æ³¨è§£çš„å…ƒç´ çš„å€¼å¿…é¡»åŒ¹é…ç»™å®šçš„æ­£åˆ™è¡¨è¾¾å¼</li></ul></li></ol><h1 id="3-è‡ªå®šä¹‰è¿‡æ»¤å™¨"><a href="#3-è‡ªå®šä¹‰è¿‡æ»¤å™¨" class="headerlink" title="3.è‡ªå®šä¹‰è¿‡æ»¤å™¨"></a>3.è‡ªå®šä¹‰è¿‡æ»¤å™¨</h1><h2 id="1-è¿‡æ»¤å™¨åŠŸèƒ½"><a href="#1-è¿‡æ»¤å™¨åŠŸèƒ½" class="headerlink" title="1. è¿‡æ»¤å™¨åŠŸèƒ½"></a>1. è¿‡æ»¤å™¨åŠŸèƒ½</h2><p> è¿‡æ»¤å™¨å¯ä»¥ç”¨äºè®°å½•è¯·æ±‚æ—¥å¿—ã€æ’é™¤æœ‰ XSS å¨èƒçš„å­—ç¬¦ã€æ‰§è¡Œæƒé™éªŒè¯ç­‰ç­‰</p><h2 id="2-è‡ªå®šä¹‰è¿‡æ»¤å™¨æ­¥éª¤"><a href="#2-è‡ªå®šä¹‰è¿‡æ»¤å™¨æ­¥éª¤" class="headerlink" title="2. è‡ªå®šä¹‰è¿‡æ»¤å™¨æ­¥éª¤"></a>2. è‡ªå®šä¹‰è¿‡æ»¤å™¨æ­¥éª¤</h2><ol><li><p>åˆ›å»ºä¸€ä¸ªç±»å®ç° javax.servlet.Filter æ¥å£</p></li><li><p>å°†åˆ›å»ºçš„ç±»æŒ‚è½½åˆ°è¿‡æ»¤å™¨é“¾ä¸Š</p><p>a. åˆ›å»ºMyFilterç±»å®ç°Filteræ¥å£</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">public class MyFilter implements Filter &#123;</span><br><span class="line">    @Override</span><br><span class="line">    public void init(FilterConfig filterConfig) throws ServletException &#123;</span><br><span class="line">â€Š</span><br><span class="line">    &#125;</span><br><span class="line">â€Š</span><br><span class="line">    @Override</span><br><span class="line">    public void doFilter(ServletRequest request, ServletResponse response, FilterChain filterChain) throws IOException, ServletException &#123;</span><br><span class="line">        HttpServletRequest req = (HttpServletRequest) request;</span><br><span class="line">        //æ‰“å°è¯·æ±‚Url</span><br><span class="line">        System.out.println(&quot;å½“å‰å®¢æˆ·ç«¯æ­£åœ¨è¯·æ±‚è®¿é—®çš„è·¯å¾„æ˜¯:&quot; + req.getRequestURI());</span><br><span class="line">        filterChain.doFilter(request, response);</span><br><span class="line">    &#125;</span><br><span class="line">â€Š</span><br><span class="line">    @Override</span><br><span class="line">    public void destroy() &#123;</span><br><span class="line">â€Š</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p> b. é€šè¿‡@Configuration + @Bean æ³¨è§£å°†è¿‡æ»¤å™¨æ³¨å…¥åˆ° IOC å®¹å™¨ä¸­ï¼Œå¹¶é€šè¿‡ setOrder æ–¹æ³•è®¾ç½®è¿‡æ»¤å™¨ä½ç½®ï¼ˆè¿‡æ»¤å™¨é“¾ä¸­çš„ä½ç½®ï¼‰</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">@Configuration</span><br><span class="line">public class MyFilterConfiguration &#123;</span><br><span class="line">    @Bean</span><br><span class="line">    public FilterRegistrationBean myFilterRegistration() &#123;</span><br><span class="line">        FilterRegistrationBean registration = new FilterRegistrationBean();</span><br><span class="line">        registration.setFilter(new MyFilter());//æ·»åŠ è¿‡æ»¤å™¨</span><br><span class="line">        registration.addUrlPatterns(&quot;/*&quot;);//è®¾ç½®è¿‡æ»¤è·¯å¾„ï¼Œ/*æ‰€æœ‰è·¯å¾„</span><br><span class="line">        registration.addInitParameter(&quot;name&quot;, &quot;alue&quot;);//æ·»åŠ é»˜è®¤å‚æ•°</span><br><span class="line">        registration.setName(&quot;MyFilter&quot;);//è®¾ç½®ä¼˜å…ˆçº§</span><br><span class="line">        registration.setOrder(1);//è®¾ç½®ä¼˜å…ˆçº§</span><br><span class="line">        return registration;</span><br><span class="line">    &#125;</span><br><span class="line">â€Š</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>c. é‡æ–°å¯åŠ¨é¡¹ç›®,è®¿é—®ä»»æ„ä¸€ä¸ªæœåŠ¡ï¼Œä¼šå‘ç°åœ¨æ§åˆ¶å°ä¸­éƒ½ä¼šæ‰“å°</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">å½“å‰å®¢æˆ·ç«¯æ­£åœ¨è¯·æ±‚è®¿é—®çš„è·¯å¾„æ˜¯:....</span><br></pre></td></tr></table></figure></li></ol><h2 id="3-Configurationå’Œ-Beanæ³¨è§£è¯´æ˜"><a href="#3-Configurationå’Œ-Beanæ³¨è§£è¯´æ˜" class="headerlink" title="3. @Configurationå’Œ@Beanæ³¨è§£è¯´æ˜:"></a>3. <strong>@Configurationå’Œ@Beanæ³¨è§£è¯´æ˜:</strong></h2><ol><li><p>@Configuration æ ‡æ³¨åœ¨ç±»ä¸Šï¼Œç›¸å½“äºæŠŠè¯¥ç±»ä½œä¸ºspringçš„xmlé…ç½®æ–‡ä»¶ä¸­çš„ &lt;beans&gt;ï¼Œä½œç”¨ä¸ºï¼šé…ç½®springå®¹å™¨(åº”ç”¨ä¸Šä¸‹æ–‡),ä¸Šæ–‡ä¸­åœ¨MyFilterConfigurationç±»ä¸Šæ·»åŠ äº†è¯¥æ³¨è§£ï¼Œç›¸å½“äºåˆ›å»ºäº†ä¸€ä¸ªbeans.xmlé…ç½®æ–‡ä»¶é‡Œé¢çš„å†…å®¹æ˜¯</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span><br><span class="line">xmlns:context=&quot;http://www.springframework.org/schema/context&quot; xmlns:jdbc=&quot;http://www.springframework.org/schema/jdbc&quot;  </span><br><span class="line">xmlns:jee=&quot;http://www.springframework.org/schema/jee&quot; xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;</span><br><span class="line">xmlns:util=&quot;http://www.springframework.org/schema/util&quot; xmlns:task=&quot;http://www.springframework.org/schema/task&quot; xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.0.xsd </span><br><span class="line">http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.0.xsd</span><br><span class="line">http://www.springframework.org/schema/jdbc http://www.springframework.org/schema/jdbc/spring-jdbc-4.0.xsd</span><br><span class="line">http://www.springframework.org/schema/jee http://www.springframework.org/schema/jee/spring-jee-4.0.xsd</span><br><span class="line">http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-4.0.xsd</span><br><span class="line">http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-4.0.xsd</span><br><span class="line">http://www.springframework.org/schema/task http://www.springframework.org/schema/task/spring-task-4.0.xsd&quot; default-lazy-init=&quot;false&quot; &gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;/beans&gt;</span><br></pre></td></tr></table></figure></li></ol><ol start="2"><li><p>@Beanæ ‡æ³¨åœ¨æ–¹æ³•ä¸Š(è¿”å›æŸä¸ªå®ä¾‹çš„æ–¹æ³•)ï¼Œç­‰ä»·äºspringçš„xmlé…ç½®æ–‡ä»¶ä¸­çš„&lt;bean&gt;ï¼Œä½œç”¨ä¸ºï¼šæ³¨å†Œbeanå¯¹è±¡ã€‚</p><ul><li><p>@Beanæ³¨è§£åœ¨è¿”å›å®ä¾‹çš„æ–¹æ³•ä¸Šï¼Œå¦‚æœæœªé€šè¿‡@BeanæŒ‡å®šbeançš„åç§°ï¼Œåˆ™é»˜è®¤ä¸æ ‡æ³¨çš„æ–¹æ³•åç›¸åŒã€‚</p></li><li><p>@Beanæ³¨è§£é»˜è®¤ä½œç”¨åŸŸä¸ºå•ä¾‹singletonä½œç”¨åŸŸï¼Œå¯é€šè¿‡@Scope(â€œprototypeâ€)è®¾ç½®ä¸ºåŸå‹ä½œç”¨åŸŸ</p><p>ä¸Šæ–‡ä¸­åœ¨myFilterRegistration()æ–¹æ³•ä¸ŠåŠ äº†@Beanæ³¨è§£ï¼Œè¡¨ç¤ºåœ¨springå¯åŠ¨çš„æ—¶å€™ä¼šæ‰§è¡Œè¯¥æ–¹æ³•å¹¶å°†ç»“æœä½œä¸ºä¸€ä¸ªbeanæ³¨å†Œåˆ°å®¹å™¨ä¸­ï¼Œè¯¥beançš„åå­—æ˜¯â€myFilterRegistrationâ€</p></li></ul></li></ol><h1 id="4-å±æ€§é…ç½®å’Œè‡ªå®šä¹‰å±æ€§é…ç½®"><a href="#4-å±æ€§é…ç½®å’Œè‡ªå®šä¹‰å±æ€§é…ç½®" class="headerlink" title="4.å±æ€§é…ç½®å’Œè‡ªå®šä¹‰å±æ€§é…ç½®"></a>4.å±æ€§é…ç½®å’Œè‡ªå®šä¹‰å±æ€§é…ç½®</h1><p>  å¦‚æœéœ€è¦ä¿®æ”¹è‡ªå®šä¹‰ä¿®æ”¹é»˜è®¤é…ç½®ï¼Œspring boot æä¾›äº†å¾ˆç®€ä¾¿çš„æ–¹æ³•ï¼Œåªéœ€è¦åœ¨application.properties ä¸­æ·»åŠ ä¿®æ”¹ç›¸åº”çš„é…ç½®ã€‚ï¼ˆspring bootå¯åŠ¨çš„æ—¶å€™ä¼šè¯»å–application.propertiesè¿™ä»½é»˜è®¤é…ç½®ï¼‰</p><h2 id="1-å±æ€§é…ç½®"><a href="#1-å±æ€§é…ç½®" class="headerlink" title="1.å±æ€§é…ç½®"></a>1.å±æ€§é…ç½®</h2><p>  ä¾‹å¦‚ : spring boot å¼€å‘webåº”ç”¨çš„æ—¶å€™ï¼Œé»˜è®¤tomcatçš„å¯åŠ¨ç«¯å£ä¸º8080ï¼Œå¦‚æœéœ€è¦ä¿®æ”¹é»˜è®¤çš„ç«¯å£ï¼Œåˆ™éœ€è¦åœ¨application.properties æ·»åŠ ä»¥ä¸‹è®°å½•ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">server.port=8888</span><br></pre></td></tr></table></figure><p>é‡å¯é¡¹ç›®ï¼Œå¯åŠ¨æ—¥å¿—å¯ä»¥çœ‹åˆ°ï¼šTomcat started on port(s): 8888 (http) å¯åŠ¨ç«¯å£ä¸º8888ï¼Œæµè§ˆå™¨ä¸­è®¿é—® <a href="http://localhost:8888" target="_blank" rel="noopener">http://localhost:8888</a> èƒ½æ­£å¸¸è®¿é—®ã€‚</p><h2 id="2-è‡ªå®šä¹‰å±æ€§é…ç½®"><a href="#2-è‡ªå®šä¹‰å±æ€§é…ç½®" class="headerlink" title="2.è‡ªå®šä¹‰å±æ€§é…ç½®"></a>2.è‡ªå®šä¹‰å±æ€§é…ç½®</h2><p>  åœ¨application.propertiesä¸­é™¤äº†å¯ä»¥ä¿®æ”¹é»˜è®¤é…ç½®ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥åœ¨è¿™é…ç½®è‡ªå®šä¹‰çš„å±æ€§ï¼Œå¹¶åœ¨å®ä½“beanä¸­åŠ è½½å‡ºæ¥ã€‚</p><ol><li><p>åœ¨application.propertiesä¸­æ·»åŠ è‡ªå®šä¹‰å±æ€§é…ç½®</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cn.itcast.username = LuRenJia</span><br><span class="line">cn.itcast.password = admin</span><br></pre></td></tr></table></figure></li></ol><pre><code>â€‹</code></pre><ol start="2"><li><p>ç¼–å†™Beanç±»ï¼ŒåŠ è½½å±æ€§</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">@Component</span><br><span class="line">@ConfigurationProperties(prefix = &quot;cn.itcast&quot;)</span><br><span class="line">public class User &#123;</span><br><span class="line">   private String username;</span><br><span class="line">   private String password;</span><br><span class="line">â€Š</span><br><span class="line">   //çœç•¥getter/setteræ–¹æ³•</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><pre><code>è¿™é‡Œå¼•å…¥ConfigurationPropertiesæ³¨è§£çš„æ—¶å€™ä¼šæŠ¥é”™ï¼Œéœ€è¦æ·»åŠ ä¾èµ–<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;dependency&gt;</span><br><span class="line">&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</span><br><span class="line">&lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;</span><br><span class="line">&lt;optional&gt;true&lt;/optional&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure></code></pre><ol start="3"><li><p>ç¼–å†™æ§åˆ¶å™¨çœ‹çœ‹æ˜¯å¦å°†æ•°æ®æˆåŠŸåŠ è½½åˆ°Userä¸­</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">@RestController</span><br><span class="line">@RequestMapping(&quot;userController&quot;)</span><br><span class="line">public class UserController &#123;</span><br><span class="line">   @Autowired</span><br><span class="line">   private User user;</span><br><span class="line">â€Š</span><br><span class="line">   @RequestMapping(value = &quot;info&quot;,method = RequestMethod.GET)</span><br><span class="line">   public String info()&#123;</span><br><span class="line">       return user.getUsername()+&quot;,&quot;+user.getPassword();</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><pre><code>â€‹</code></pre><ol start="4"><li><p>è®¿é—®<a href="http://localhost:8080/userController/info" target="_blank" rel="noopener">http://localhost:8080/userController/info</a> æŸ¥çœ‹ç»“æœï¼Œåœ¨é¡µé¢æ˜¾ç¤ºå¦‚ä¸‹å†…å®¹</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">LuRenJia,admin</span><br></pre></td></tr></table></figure></li></ol><pre><code>å¦‚æœæµ‹è¯•ä¸­å‡ºç°ä¸­æ–‡ä¹±ç ï¼Œå¯å®‰è£…ä»¥ä¸‹æ–¹æ³•è¿›è¡Œè®¾ç½®ï¼šä¾æ¬¡å•å‡» File =&gt; Settings =&gt; Editor =&gt; File Encodings å‘½ä»¤ï¼Œå°† Properties Files (*.properties) ä¸‹çš„ Default encoding for properties files è®¾ç½®ä¸º UTF-8ï¼Œå°† Transparent native-to-ascii conversion å‰çš„å¤é€‰æ¡†å‹¾é€‰ä¸Šã€‚</code></pre>]]></content>
      
      
      <categories>
          
          <category> æ¡†æ¶ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SpringBoot </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>01.Spring Boot1.XæŠ€æœ¯æ ˆ(å¿«é€Ÿä¸Šæ‰‹SpringBoot)</title>
      <link href="/2018/06/05/SpringBoot/01%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8BSpringBoot/%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8BSpringBoot/"/>
      <url>/2018/06/05/SpringBoot/01%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8BSpringBoot/%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8BSpringBoot/</url>
      
        <content type="html"><![CDATA[<h1 id="Spring-BootæŠ€æœ¯æ ˆ-å¿«é€Ÿä¸Šæ‰‹SpringBoot"><a href="#Spring-BootæŠ€æœ¯æ ˆ-å¿«é€Ÿä¸Šæ‰‹SpringBoot" class="headerlink" title="Spring BootæŠ€æœ¯æ ˆ(å¿«é€Ÿä¸Šæ‰‹SpringBoot)"></a>Spring BootæŠ€æœ¯æ ˆ(å¿«é€Ÿä¸Šæ‰‹SpringBoot)</h1><ul><li>æœ¬ç¯‡å¸¦å¤§å®¶æ­å»ºå¼€å‘ç¯å¢ƒï¼Œæ„Ÿå—SpringBootå¿«é€Ÿå¼€å‘å¸¦æ¥çš„å¥½å¤„</li></ul><h2 id="SpringBootç®€ä»‹"><a href="#SpringBootç®€ä»‹" class="headerlink" title="SpringBootç®€ä»‹"></a>SpringBootç®€ä»‹</h2><p>Spring Boot æ˜¯ä¸€å¥—å…¨æ–°çš„æ¡†æ¶ï¼Œå®ƒæ¥è‡ªäº Spring å¤§å®¶æ—ï¼Œå› æ­¤ Spring æ‰€æœ‰å…·å¤‡çš„åŠŸèƒ½å®ƒéƒ½æœ‰ï¼Œè€Œä¸”æ›´å®¹æ˜“ä½¿ç”¨ï¼›Spring Boot ä»¥çº¦å®šå¤§äºé…ç½®çš„æ ¸å¿ƒæ€æƒ³ï¼Œé»˜è®¤å¸®æˆ‘ä»¬è¿›è¡Œäº†å¾ˆå¤šè®¾ç½®ï¼Œ<strong>å¤šæ•° Spring Boot åº”ç”¨åªéœ€è¦å¾ˆå°‘çš„ Spring é…ç½®</strong>ã€‚Spring Boot å¼€å‘äº†å¾ˆå¤šçš„åº”ç”¨é›†æˆåŒ…ï¼Œæ”¯æŒç»å¤§å¤šæ•°å¼€æºè½¯ä»¶ï¼Œè®©æˆ‘ä»¬ä»¥å¾ˆä½çš„æˆæœ¬å»é›†æˆå…¶ä»–ä¸»æµå¼€æºè½¯ä»¶ã€‚</p><p>Spring Boot æ‰€é›†æˆçš„æŠ€æœ¯æ ˆï¼Œå‡ ä¹éƒ½æ˜¯å„äº’è”ç½‘å…¬å¸åœ¨ä½¿ç”¨çš„æŠ€æœ¯ï¼ŒæŒ‰ç…§ Spring Boot çš„è·¯çº¿å»å­¦ä¹ ï¼ŒåŸºæœ¬å¯ä»¥äº†è§£å›½å†…å¤–äº’è”ç½‘å…¬å¸çš„æŠ€æœ¯ç‰¹ç‚¹ã€‚</p><p>Spring Boot å’Œå¾®æœåŠ¡æ¶æ„éƒ½æ˜¯æœªæ¥è½¯ä»¶å¼€å‘çš„ä¸€ä¸ªå¤§è¶‹åŠ¿ï¼Œè¶Šæ—©å‚ä¸å…¶ä¸­å—ç›Šè¶Šå¤§ã€‚</p><h2 id="1-å¼€å‘ç¯å¢ƒæ­å»º"><a href="#1-å¼€å‘ç¯å¢ƒæ­å»º" class="headerlink" title="1.å¼€å‘ç¯å¢ƒæ­å»º"></a>1.å¼€å‘ç¯å¢ƒæ­å»º</h2><h3 id="1-åˆ›å»ºå’Œå¯¼å…¥é¡¹ç›®"><a href="#1-åˆ›å»ºå’Œå¯¼å…¥é¡¹ç›®" class="headerlink" title="1.åˆ›å»ºå’Œå¯¼å…¥é¡¹ç›®"></a>1.åˆ›å»ºå’Œå¯¼å…¥é¡¹ç›®</h3><ol><li>è®¿é—® <a href="http://start.spring.io/" target="_blank" rel="noopener">http://start.spring.io/</a></li><li>é€‰æ‹©æ„å»ºå·¥å…· Maven Projectã€Spring Boot ç‰ˆæœ¬ 1.5.8 åŠä¸€äº›å·¥ç¨‹åŸºæœ¬ä¿¡æ¯ï¼Œå¯å‚è€ƒä¸‹å›¾ï¼š<br><img src="//haoyongliang.gitee.io/2018/06/05/SpringBoot/01å¿«é€Ÿä¸Šæ‰‹SpringBoot/å¿«é€Ÿä¸Šæ‰‹SpringBoot/gouJianXiangMu.jpg" alt="0"></li><li>å•å‡» Generate Project æŒ‰é’®å¹¶ä¸‹è½½é¡¹ç›®å‹ç¼©åŒ…ã€‚</li><li>è¿™é‡Œä½¿ç”¨çš„æ˜¯ Ideaï¼Œå•å‡» File | New | Model from Existing Source.. | é€‰æ‹©è§£å‹åçš„æ–‡ä»¶å¤¹ | OK å‘½ä»¤ï¼Œ é€‰æ‹© Maven ï¼Œä¸€è·¯ Nextï¼ŒOK Done!</li></ol><h4 id="å¯¹ä¸Šé¢çš„é…ç½®åšä¸€ä¸ªè§£é‡Š"><a href="#å¯¹ä¸Šé¢çš„é…ç½®åšä¸€ä¸ªè§£é‡Š" class="headerlink" title="å¯¹ä¸Šé¢çš„é…ç½®åšä¸€ä¸ªè§£é‡Š"></a>å¯¹ä¸Šé¢çš„é…ç½®åšä¸€ä¸ªè§£é‡Š</h4><ul><li>ç¬¬ä¸€ä¸ªé€‰æ‹©æ¡†é€‰æ‹©åˆ›å»ºä»¥ Maven æ„å»ºé¡¹ç›®ï¼Œè¿˜æ˜¯ä»¥ Gradle æ„å»ºé¡¹ç›®ï¼Œè¿™æ˜¯ä¸¤ç§ä¸åŒçš„æ„å»ºæ–¹å¼ï¼Œå…¶ä¸­ Gradel é…ç½®å†…å®¹æ›´ç®€æ´ä¸€äº›ï¼Œå¹¶ä¸”åŒ…å«äº† Maven çš„ä½¿ç”¨ï¼Œä¸è¿‡æ—¥å¸¸ä½¿ç”¨ Maven å±…å¤šã€‚</li><li>ç¬¬äºŒä¸ªé€‰æ‹©æ¡†é€‰æ‹©ç¼–ç¨‹è¯­è¨€ï¼Œç°åœ¨æ”¯æŒ Javaã€Kotlin å’Œ Groovyã€‚</li><li>ç¬¬ä¸‰ä¸ªé€‰æ‹©æ¡†é€‰æ‹© Spring Boot ç‰ˆæœ¬ï¼Œå¯ä»¥çœ‹å‡º Spring Boot 2.0 å·²ç»åˆ°äº†ç¬¬äº”ä¸ªé‡Œç¨‹ç¢‘äº†ã€‚åœ¨å®é™…ä½¿ç”¨ä¸­ï¼Œæˆ‘ä»¬ä¼šä¼˜å…ˆä½¿ç”¨ç¨³å®šç‰ˆæœ¬ï¼Œ1.0 çš„æœ€æ–°ç¨³å®šç‰ˆæœ¬æ˜¯ 1.5.8ï¼Œä¹Ÿæ˜¯æˆ‘ä»¬æ¼”ç¤ºä½¿ç”¨çš„ç‰ˆæœ¬ã€‚</li></ul><h4 id="ä¸‹é¢å°±æ˜¯é¡¹ç›®çš„é…ç½®ä¿¡æ¯äº†ã€‚"><a href="#ä¸‹é¢å°±æ˜¯é¡¹ç›®çš„é…ç½®ä¿¡æ¯äº†ã€‚" class="headerlink" title="ä¸‹é¢å°±æ˜¯é¡¹ç›®çš„é…ç½®ä¿¡æ¯äº†ã€‚"></a>ä¸‹é¢å°±æ˜¯é¡¹ç›®çš„é…ç½®ä¿¡æ¯äº†ã€‚</h4><ul><li>Groupï¼šä¸€èˆ¬å¡«å†™å…¬å¸åŸŸåï¼Œæ¯”å¦‚ä¼ æ™ºæ’­å®¢å¡« cn.itcast</li><li>Artifactï¼šå¯ä»¥ç†è§£ä¸ºé¡¹ç›®çš„åç§°ï¼Œå¯ä»¥æ ¹æ®å®é™…æƒ…å†µæ¥å¡«ï¼Œæœ¬æ¬¡æ¼”ç¤ºå¡«å†™ springBootDemoã€‚</li><li>Dependenciesï¼šåœ¨è¿™å—æ·»åŠ æˆ‘ä»¬é¡¹ç›®æ‰€ä¾èµ–çš„ Spring Boot ç»„ä»¶ï¼Œå¯ä»¥å¤šé€‰ã€‚æœ¬æ¬¡é€‰æ‹© Webã€devtools ä¸¤ä¸ªæ¨¡å—ã€‚</li></ul><h3 id="2-é¡¹ç›®ç»“æ„ä»‹ç»"><a href="#2-é¡¹ç›®ç»“æ„ä»‹ç»" class="headerlink" title="2.é¡¹ç›®ç»“æ„ä»‹ç»"></a>2.é¡¹ç›®ç»“æ„ä»‹ç»</h3><p>Spring Boot çš„åŸºç¡€ç»“æ„å…±ä¸‰ä¸ªæ–‡ä»¶ï¼š</p><p><img src="//haoyongliang.gitee.io/2018/06/05/SpringBoot/01å¿«é€Ÿä¸Šæ‰‹SpringBoot/å¿«é€Ÿä¸Šæ‰‹SpringBoot/mulujiegou.jpg" alt="1"></p><ul><li>src/main/javaï¼šç¨‹åºå¼€å‘ä»¥åŠä¸»ç¨‹åºå…¥å£</li><li>src/main/resourcesï¼šé…ç½®æ–‡ä»¶</li><li>src/test/javaï¼šæµ‹è¯•ç¨‹åº</li></ul><h3 id="3-Sping-Boot-å»ºè®®çš„åŒ…ç»“æ„"><a href="#3-Sping-Boot-å»ºè®®çš„åŒ…ç»“æ„" class="headerlink" title="3.Sping Boot å»ºè®®çš„åŒ…ç»“æ„"></a>3.Sping Boot å»ºè®®çš„åŒ…ç»“æ„</h3><p>root package ç»“æ„ï¼šcn.giftsstore.myProject</p><pre>myproject +-src    +- main         +- java              +- cn.giftsstore.myProject                    +- comm                    +- domain                    +- repository                    +- service                    +- web                    +- Application.java         +- resources              +- static              +- templates              +- application.properties    +- test +-pom.xml</pre><h3 id="4-å„åŒ…åä»‹ç»"><a href="#4-å„åŒ…åä»‹ç»" class="headerlink" title="4.å„åŒ…åä»‹ç»"></a>4.å„åŒ…åä»‹ç»</h3><ul><li><p>Application.javaï¼šå»ºè®®æ”¾åˆ°æ ¹ç›®å½•ä¸‹é¢ï¼Œæ˜¯é¡¹ç›®çš„å¯åŠ¨ç±»ï¼ŒSpring Boot é¡¹ç›®åªèƒ½æœ‰ä¸€ä¸ª main() æ–¹æ³•ã€‚</p></li><li><p>commï¼šç›®å½•å»ºè®®æ”¾ç½®å…¬å…±çš„ç±»ï¼Œå¦‚å…¨å±€çš„é…ç½®æ–‡ä»¶ã€å·¥å…·ç±»ç­‰ã€‚</p></li><li><p>domainï¼šç›®å½•ä¸»è¦ç”¨äºå®ä½“ï¼ˆEntityï¼‰ä¸æ•°æ®è®¿é—®å±‚ï¼ˆRepositoryï¼‰ã€‚</p></li><li><p>repositoryï¼šæ•°æ®åº“è®¿é—®å±‚ä»£ç ã€‚</p></li><li><p>serviceï¼šè¯¥å±‚ä¸»è¦æ˜¯ä¸šåŠ¡ç±»ä»£ç ã€‚</p></li><li><p>webï¼šè¯¥å±‚è´Ÿè´£é¡µé¢è®¿é—®æ§åˆ¶ã€‚</p></li><li><p>resources ç›®å½•ä¸‹ï¼š</p><ul><li>staticï¼šç›®å½•å­˜æ”¾ Web è®¿é—®çš„é™æ€èµ„æºï¼Œå¦‚ JSã€CSSã€å›¾ç‰‡ç­‰ã€‚</li><li>templatesï¼šç›®å½•å­˜æ”¾é¡µé¢æ¨¡æ¿ã€‚</li><li>application.propertiesï¼šé¡¹ç›®çš„é…ç½®ä¿¡æ¯ã€‚</li><li>test ç›®å½•å­˜æ”¾å•å…ƒæµ‹è¯•çš„ä»£ç ï¼›pom.xml ç”¨äºé…ç½®é¡¹ç›®ä¾èµ–åŒ…ï¼Œä»¥åŠå…¶ä»–é…ç½®ã€‚</li></ul></li></ul><p>é‡‡ç”¨é»˜è®¤é…ç½®å¯ä»¥çœå»å¾ˆå¤šè®¾ç½®ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥æ ¹æ®è‡ªå·±çš„å–œå¥½æ¥è¿›è¡Œæ›´æ”¹ã€‚æœ€åï¼Œå¯åŠ¨ Application main æ–¹æ³•ï¼Œè‡³æ­¤ä¸€ä¸ª Java é¡¹ç›®æ­å»ºå¥½äº†ï¼</p><h2 id="2-ç®€å•-Web-å¼€å‘"><a href="#2-ç®€å•-Web-å¼€å‘" class="headerlink" title="2.ç®€å• Web å¼€å‘"></a>2.ç®€å• Web å¼€å‘</h2><h3 id="1-æ·»åŠ ä¾èµ–"><a href="#1-æ·»åŠ ä¾èµ–" class="headerlink" title="1.æ·»åŠ ä¾èµ–"></a>1.æ·»åŠ ä¾èµ–</h3><p> å¯ä»¥åœ¨ Spring Initializr ä¸Šé¢æ·»åŠ ï¼Œä¹Ÿå¯ä»¥æ‰‹åŠ¨åœ¨ pom.xml ä¸­æ·»åŠ ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;dependency&gt;</span><br><span class="line">&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</span><br><span class="line">&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure><ul><li>pom.xml æ–‡ä»¶ä¸­é»˜è®¤æœ‰ä¸¤ä¸ªæ¨¡å—ï¼š<ul><li>spring-boot-starterï¼šæ ¸å¿ƒæ¨¡å—ï¼ŒåŒ…æ‹¬è‡ªåŠ¨é…ç½®æ”¯æŒã€æ—¥å¿—å’Œ YAMLï¼›</li><li>spring-boot-starter-testï¼šæµ‹è¯•æ¨¡å—ï¼ŒåŒ…æ‹¬ JUnitã€Hamcrestã€Mockitoã€‚</li></ul></li></ul><h3 id="2-ç¼–å†™æ§åˆ¶å±‚-controller-ä»£ç "><a href="#2-ç¼–å†™æ§åˆ¶å±‚-controller-ä»£ç " class="headerlink" title="2.ç¼–å†™æ§åˆ¶å±‚(controller)ä»£ç "></a>2.ç¼–å†™æ§åˆ¶å±‚(controller)ä»£ç </h3><pre>@RestControllerpublic class HelloWorldController {    @RequestMapping("/hello")    public String hello() {        return "Hello World";    }}</pre><p>@RestController çš„æ„æ€å°±æ˜¯ controller é‡Œé¢çš„æ–¹æ³•éƒ½ä»¥ json æ ¼å¼è¾“å‡ºï¼Œä¸ç”¨å†é…ç½®ä»€ä¹ˆ jackjson çš„äº†ï¼</p><p>å¦‚æœé…ç½®ä¸º@Controller å°±ä»£è¡¨ç€è¾“å‡ºä¸ºé¡µé¢å†…å®¹ã€‚</p><h3 id="3-æŸ¥çœ‹è¿è¡Œç»“æœ"><a href="#3-æŸ¥çœ‹è¿è¡Œç»“æœ" class="headerlink" title="3.æŸ¥çœ‹è¿è¡Œç»“æœ"></a>3.æŸ¥çœ‹è¿è¡Œç»“æœ</h3><p> å¯åŠ¨ä¸»ç¨‹åºï¼Œæ‰“å¼€æµè§ˆå™¨è®¿é—® <a href="http://localhost:8080/helloï¼Œå°±å¯ä»¥çœ‹åˆ°ä»¥ä¸‹å†…å®¹ï¼Œæ˜¯ä¸æ˜¯å¾ˆç®€å•ï¼" target="_blank" rel="noopener">http://localhost:8080/helloï¼Œå°±å¯ä»¥çœ‹åˆ°ä»¥ä¸‹å†…å®¹ï¼Œæ˜¯ä¸æ˜¯å¾ˆç®€å•ï¼</a></p><pre>Hello World</pre><h3 id="4-URLä¼ å‚"><a href="#4-URLä¼ å‚" class="headerlink" title="4.URLä¼ å‚"></a>4.URLä¼ å‚</h3><blockquote><p>è¿™é‡Œä»…ä»…åšä¸€ä¸ªç®€å•ä¼ å‚,ç¬¬äºŒç« ä¼šè¯¦ç»†ä»‹ç»å¦‚ä½•ä¼ å‚</p></blockquote><pre>@RestControllerpublic class HelloWorldController {    @RequestMapping("/hello")    public String index(String name) {        return "Hello World, " +name;    }}</pre><p>é‡æ–°å¯åŠ¨é¡¹ç›®ï¼Œè®¿é—® <a href="http://localhost:8080/hello?name=neoï¼Œè¿”å›å†…å®¹å¦‚ä¸‹ï¼š" target="_blank" rel="noopener">http://localhost:8080/hello?name=neoï¼Œè¿”å›å†…å®¹å¦‚ä¸‹ï¼š</a></p><pre>Hello Worldï¼Œneo</pre><p>ç»è¿‡ä¸Šä¸€ä¸ªæµ‹è¯•å‘ç°ï¼Œä¿®æ”¹ controller å†…ç›¸å…³ä»£ç ï¼Œå°±éœ€è¦é‡æ–°å¯åŠ¨é¡¹ç›®æ‰èƒ½ç”Ÿæ•ˆï¼Œè¿™æ ·åšå¾ˆéº»çƒ¦æ˜¯ä¸æ˜¯ï¼Œåˆ«ç€æ€¥ã€‚Spring Boot æä¾›äº†å¦å¤–ä¸€ä¸ªç»„ä»¶æ¥è§£å†³ã€‚</p><h2 id="3-çƒ­éƒ¨ç½²"><a href="#3-çƒ­éƒ¨ç½²" class="headerlink" title="3.çƒ­éƒ¨ç½²"></a>3.çƒ­éƒ¨ç½²</h2><p>çƒ­å¯åŠ¨å°±éœ€è¦ç”¨åˆ°æˆ‘ä»¬åœ¨ä¸€å¼€å§‹å¼•å…¥çš„å¦å¤–ä¸€ä¸ªç»„ä»¶ï¼šdevtoolsã€‚å®ƒæ˜¯ Spring Boot æä¾›çš„ä¸€ç»„å¼€å‘å·¥å…·åŒ…ï¼Œå…¶ä¸­å°±åŒ…å«æˆ‘ä»¬éœ€è¦çš„çƒ­éƒ¨ç½²åŠŸèƒ½ã€‚ä½†æ˜¯åœ¨ä½¿ç”¨è¿™ä¸ªåŠŸèƒ½ä¹‹å‰è¿˜éœ€è¦å†åšä¸€äº›é…ç½®ã€‚</p><ol><li><p>åœ¨ dependency ä¸­æ·»åŠ  optional å±æ€§ï¼Œå¹¶è®¾ç½®ä¸º trueï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;dependencies&gt;</span><br><span class="line">    &lt;dependency&gt;</span><br><span class="line">        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</span><br><span class="line">        &lt;artifactId&gt;spring-boot-Devtools&lt;/artifactId&gt;</span><br><span class="line">        &lt;optional&gt;true&lt;/optional&gt;</span><br><span class="line">    &lt;/dependency&gt;</span><br><span class="line">&lt;/dependencies&gt;</span><br></pre></td></tr></table></figure></li><li><p>åœ¨ plugin ä¸­é…ç½®å¦å¤–ä¸€ä¸ªå±æ€§ forkï¼Œå¹¶ä¸”é…ç½®ä¸º trueï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;build&gt;</span><br><span class="line">    &lt;plugins&gt;</span><br><span class="line">        &lt;plugin&gt;</span><br><span class="line">            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</span><br><span class="line">            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;</span><br><span class="line">            &lt;configuration&gt;</span><br><span class="line">                &lt;fork&gt;true&lt;/fork&gt;</span><br><span class="line">            &lt;/configuration&gt;</span><br><span class="line">        &lt;/plugin&gt;</span><br><span class="line">&lt;/plugins&gt;</span><br><span class="line">&lt;/build&gt;</span><br></pre></td></tr></table></figure></li><li><p>é…ç½® Idea</p><ol><li>é€‰æ‹© File-Settings-Compiler å‹¾é€‰ Build project automaticallyï¼Œä½ç‰ˆæœ¬ Idea å‹¾é€‰ make project automaticallyã€‚<br><img src="//haoyongliang.gitee.io/2018/06/05/SpringBoot/01å¿«é€Ÿä¸Šæ‰‹SpringBoot/å¿«é€Ÿä¸Šæ‰‹SpringBoot/ideahot.jpg" alt="2"></li><li>ä½¿ç”¨å¿«æ·é”®ï¼šCTRL + SHIFT + A è¾“å…¥Registry æ‰¾åˆ°é€‰é¡¹ compile.automake.allow.when.app.running å‹¾é€‰<br><img src="//haoyongliang.gitee.io/2018/06/05/SpringBoot/01å¿«é€Ÿä¸Šæ‰‹SpringBoot/å¿«é€Ÿä¸Šæ‰‹SpringBoot/0.6294533078536897.png" alt="3"></li></ol><p>å…¨éƒ¨é…ç½®å®Œæˆåï¼ŒIdea å°±æ”¯æŒçƒ­éƒ¨ç½²äº†ï¼Œå¤§å®¶å¯ä»¥è¯•ç€å»æ”¹åŠ¨ä¸€ä¸‹ä»£ç å°±ä¼šå‘ç° Spring Boot ä¼šè‡ªåŠ¨é‡æ–°åŠ è½½ï¼Œå†ä¹Ÿä¸éœ€è¦æˆ‘ä»¬æ‰‹åŠ¨ç‚¹å‡»é‡æ–°éƒ¨ç½²äº†ã€‚</p></li></ol><p>ä¸ºä»€ä¹ˆ Idea éœ€è¦å¤šé…ç½®åé¢è¿™ä¸€æ­¥å‘¢ï¼Œå› ä¸º Idea é»˜è®¤ä¸æ˜¯è‡ªåŠ¨ç¼–è¯‘çš„ï¼Œéœ€è¦æˆ‘ä»¬æ‰‹åŠ¨å»é…ç½®åæ‰ä¼šè‡ªåŠ¨ç¼–è¯‘ï¼Œè€Œçƒ­éƒ¨ç½²ä¾èµ–äºé¡¹ç›®çš„è‡ªåŠ¨ç¼–è¯‘åŠŸèƒ½ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æ¡†æ¶ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SpringBoot </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>02.å®šæŠ•6å¹´ï¼Œä»¥äºæŸæ”¶åœºï¼Œå¥¹åˆ°åº•åšé”™äº†ä»€ä¹ˆï¼Ÿ</title>
      <link href="/2016/10/10/%E7%90%86%E8%B4%A2/02.%E5%AE%9A%E6%8A%956%E5%B9%B4%EF%BC%8C%E4%BB%A5%E4%BA%8F%E6%8D%9F%E6%94%B6%E5%9C%BA%EF%BC%8C%E5%A5%B9%E5%88%B0%E5%BA%95%E5%81%9A%E9%94%99%E4%BA%86%E4%BB%80%E4%B9%88/"/>
      <url>/2016/10/10/%E7%90%86%E8%B4%A2/02.%E5%AE%9A%E6%8A%956%E5%B9%B4%EF%BC%8C%E4%BB%A5%E4%BA%8F%E6%8D%9F%E6%94%B6%E5%9C%BA%EF%BC%8C%E5%A5%B9%E5%88%B0%E5%BA%95%E5%81%9A%E9%94%99%E4%BA%86%E4%BB%80%E4%B9%88/</url>
      
        <content type="html"><![CDATA[<p>ä»Šå¤©å¬äº†ä¸€ä¸ªæƒ¨çƒˆçš„æ•…äº‹ã€‚çƒä»”ä¸€åŒå­¦ï¼Œä»2010å¹´å¼€å§‹å®šæŠ•æŸåªåŸºé‡‘ï¼Œæ¯ä¸ªæœˆ8å·æŠ•300å—é’±ï¼ŒåšæŒäº†æ•´æ•´å…­å¹´ï¼Œæ˜¨å¤©ç»ˆäºå…¨éƒ¨èµå›ï¼Œä»¥å‡€äºæŸ200å¤šæ”¶åœºã€‚å¥¹è‡ªå·±è§‰å¾—è¿˜æŒºé«˜å…´çš„ï¼Œè§‰å¾—æ¯ä¸ªæœˆçœ300å—é’±ï¼ŒåšæŒä¸‹æ¥ç«Ÿç„¶åœ¨åŸºé‡‘è´¦æˆ·é‡Œé¢æ”’äº†å‡ ä¸‡ã€‚</p><p>çƒä»”å´ä¸ä»¥ä¸ºç„¶ã€‚è¿™æ˜æ˜¾æ˜¯ä¸€ä¸ªå¾ˆå‡„å‡‰çš„æ•…äº‹å˜›ï¼å› ä¸ºå¥¹çš„å®šæŠ•ï¼Œæ”¶ç›Šç‡æ›¾ç»é«˜è¾¾50%ä»¥ä¸Šã€‚å¯æƒœå¥¹æ²¡æœ‰å–å‡ºï¼Œçœ¼çççœ‹ç€æ”¶ç›Šå…¨éƒ¨è·Œæ²¡äº†ã€‚</p><p>å“¦ï¼ä¸å¯¹ï¼è¿˜ä¸æ˜¯çœ¼ççï¼Œå¥¹æ˜¯è®¾å®šäº†å®šæŠ•ä¹‹åï¼Œæ¯ä¸ªæœˆå°±è®©å®ƒä»é“¶è¡Œå¡æ‰£é’±ï¼Œå…­å¹´æ—¶é—´éƒ½æ²¡å»ç®¡æ”¶ç›Šå¦‚ä½•ã€‚çƒä»”å¬å¥¹è®²äº†ä¹‹åï¼Œè§‰å¾—å®Œå…¨ä¸å¯ç†å–»ã€‚</p><p>è¿™æ“ä½œï¼Œç®€ç›´å¤ªçƒ‚äº†ï¼ï¼</p><p>å¥¹çŠ¯äº†ä¸ªå¾ˆå¤§çš„é”™è¯¯ã€‚é”™åœ¨å“ªé‡Œå‘¢ï¼ŸåŸºé‡‘å®šæŠ•ï¼Œå¯ä»¥æ²¡æœ‰æ­¢æŸï¼Œä½†æ˜¯ä¸€å®šè¦æœ‰æ­¢ç›ˆã€‚</p><p>åŸºé‡‘å®šæŠ•ä¹Ÿè¦æ­¢ç›ˆ</p><p>ç…§ç†è¯´ï¼Œä»»ä½•æŠ•èµ„éƒ½éœ€è¦æœ‰æ­¢ç›ˆå’Œæ­¢æŸï¼Œä¸è¿‡åŸºé‡‘å®šæŠ•ï¼Œæ­¢æŸä¸é‚£ä¹ˆé‡è¦ï¼Œä½†æ˜¯ä¸€å®šå¾—æ­¢ç›ˆã€‚ä½ ä»¬çŸ¥é“ï¼Œè‚¡å¸‚æ˜¯å‘¨æœŸæ€§ç‰›ç†Šè½¬æ¢çš„ã€‚å¦‚æœå®šæŠ•å¤šå¹´ç§¯ç´¯çš„æ”¶ç›Šï¼Œåœ¨ç‰›å¸‚åˆ°æ¥çš„æ—¶å€™æ²¡æœ‰æ­¢ç›ˆï¼Œä½ çš„æ”¶ç›Šç»ˆç©¶ä¼šéšç€ç†Šå¸‚çš„åˆ°æ¥åŒ–ä¸ºä¹Œæœ‰ã€‚</p><p>çƒä»”çš„åŒå­¦å®šæŠ•çš„è¿™åªåŸºé‡‘å«åšæ—¶å¹³è¡¡é…ç½®æ··åˆï¼ˆä»£ç ï¼š050007ï¼‰ï¼Œè¿™æ˜¯ä¸€åªæ··åˆåŸºé‡‘ï¼Œæœ‰åå¹´å†å²äº†ã€‚åŒå­¦åœ¨å®šæŠ•çš„è¿‡ç¨‹ä¸­ï¼Œ2015å¹´å¹´åˆï¼Œå®šæŠ•æ”¶ç›Šè¾¾åˆ°37%ï¼Œ2015å¹´6æœˆè‚¡ç¾å‰å®šæŠ•æ”¶ç›Šç‡æœ€é«˜è¶…è¿‡50%ï¼Œå¯æƒœè¿™æ®µæ—¶é—´å¥¹ä¸€ç›´æ²¡æœ‰æ­¢ç›ˆèµå›ï¼Œç›´åˆ°æ‰€æœ‰æ”¶ç›Šæ¶ˆå¤±æ®†å°½ã€‚å“ªæ€•æ˜¯ç¬¬ä¸€æ¬¡æš´è·Œçš„ä¹‹åï¼Œå…¶å®šæŠ•æ”¶ç›Šä¹Ÿè¿˜æœ‰20%ä»¥ä¸Šï¼Œä¾ç„¶æ²¡æœ‰èµå›ï¼Œé”™è¿‡äº†ä¸€æ¬¡åˆä¸€æ¬¡æœºä¼šã€‚</p><p>æ€ä¹ˆæ­¢ç›ˆï¼Ÿä½ å¯ä»¥ç»™è‡ªå·±è®¾å®šä¸€ä¸ªç›®æ ‡ï¼Œä¸€æ—¦å—ç›Šè¾¾åˆ°é¢„æœŸç›®æ ‡ï¼Œé©¬ä¸ŠæŠ›å‡ºã€‚</p><p><img src="//haoyongliang.gitee.io/2016/10/10/ç†è´¢/02.å®šæŠ•6å¹´ï¼Œä»¥äºæŸæ”¶åœºï¼Œå¥¹åˆ°åº•åšé”™äº†ä»€ä¹ˆ/1.jpg" alt></p><p>â–²è¯¥åŒå­¦çš„å®šæŠ•èµ°åŠ¿</p><p>åŸºé‡‘ä¹Ÿè¦å¯†åˆ‡å…³æ³¨å¸‚åœºæ³¢åŠ¨</p><p>æœ‰äº›äººè§‰å¾—ï¼Œå®šæŠ•å°±æ˜¯è®¾å®šå¥½æŠ•èµ„ç­–ç•¥ä¹‹åï¼Œä¸ç®¡åŸºé‡‘å½“å‰çš„å‡€å€¼å¦‚ä½•ï¼Œæ¯ä¸ªæœˆè‡ªåŠ¨å­˜é’±è¿›å»å°±è¡Œäº†ã€‚</p><p>æˆ‘åŒå­¦å°±æ˜¯è¿™æ ·å­å¯¹å¾…å®šæŠ•çš„ã€‚å¤§é”™ç‰¹é”™ï¼</p><p>å®šæŠ•å¯ä»¥ä»£æ›¿å‚¨è“„ï¼Œä½†æ˜¯ä¸ç­‰äºå‚¨è“„ã€‚å®šæŠ•ä¹Ÿæ˜¯æŠ•èµ„ï¼Œæ˜¯ä¸ºäº†åœ¨æ§åˆ¶é£é™©çš„å‰æä¸‹ï¼Œè®©æ”¶ç›Šæœ€å¤§åŒ–ã€‚ä¸€èˆ¬æˆ‘ä»¬å®šæŠ•çš„å‘¨æœŸè®¾å®šä¸ºä¸‰åˆ°äº”å¹´ã€‚å®šæŠ•çš„å‰æœŸï¼ŒåŸºé‡‘äºäº†ä¹Ÿä¸ç”¨æ…Œã€‚ä½†æ˜¯æˆ‘ä»¬è¦å…³æ³¨ï¼Œç°åœ¨æ˜¯ä¸æ˜¯å·²ç»åˆ°ç‰›å¸‚äº†ï¼Œå¦‚æœåˆ°äº†ç‰›å¸‚ç›¸å¯¹é«˜ç‚¹ï¼Œæˆ–è€…è¾¾åˆ°äº†è‡ªå·±çš„æ­¢ç›ˆçº¿ï¼Œå°±æŠ›äº†å§ã€‚</p><p>åœ¨å®šæŠ•è¿‡ç¨‹ä¸­ï¼Œå¦‚æœè‚¡å¸‚å¤§å¹…ä¸‹æŒ«ï¼Œè¿˜å¯ä»¥åŠ å¤§è¯¥å‘¨æœŸå®šæŠ•çš„é‡‘é¢ï¼Œä»¥æ›´ä¾¿å®œçš„ä»·æ ¼è·å¾—æ›´å¤šçš„åŸºé‡‘ä»½é¢ã€‚è¿™ä¸ªä¹Ÿæ˜¯åŸºé‡‘å®šæŠ•çš„å¸¸ç”¨æŠ€å·§ä¹‹ä¸€ï¼Œæˆç†Ÿçš„å®šæŠ•è€…éƒ½åº”è¯¥å­¦ä¼šè¿™ç‚¹ã€‚</p><p>ä»€ä¹ˆç±»å‹çš„åŸºé‡‘é€‚åˆå®šæŠ•ï¼Ÿ</p><p>çƒä»”é‚£ä½åŒå­¦åšå®šæŠ•ï¼Œé€‰äº†ä¸€åªæ··åˆå‹åŸºé‡‘ã€‚æ··åˆåŸºé‡‘å¯ä¸å¯ä»¥å®šæŠ•ï¼Ÿå½“ç„¶å¯ä»¥ï¼Œä½†æ˜¯ï¼Œå¹¶ä¸æ˜¯æœ€å¥½çš„é€‰æ‹©ã€‚</p><p>é¦–å…ˆï¼Œå€ºåˆ¸å¸‚åœºçš„ç‰›ç†Šå‘¨æœŸæ›´æ˜æ˜¾ï¼Œæ›´å®¹æ˜“åˆ¤æ–­ï¼Œä¸€æ¬¡æ€§æŠ•èµ„æ¯”é€šå¸¸å®šæŠ•çš„æ•ˆç‡å’Œæ”¶ç›Šéƒ½æ›´é«˜ï¼›å…¶æ¬¡ï¼Œå€ºåˆ¸å¸‚åœºçš„æ³¢åŠ¨æ¯”è‚¡å¸‚å¼±å¾ˆå¤šï¼Œå®šæŠ•çš„é¢„æœŸæ”¶ç›Šä¹Ÿä½å¾ˆå¤šã€‚æ··åˆå‹åŸºé‡‘é‡Œé¢æœ‰ä¸å°‘çš„å€ºåˆ¸æ¯”ä¾‹ï¼Œå½“ç„¶ä¸å¦‚è‚¡ç¥¨å‹åŸºé‡‘ç»™åŠ›ã€‚</p><p>å½“ç„¶ï¼Œå¦‚æœä½ ç›´æ¥å®šæŠ•å€ºåˆ¸åŸºé‡‘ï¼Œé‚£æ˜¯æœ€æ„šè ¢çš„ã€‚</p><p>æ³¢åŠ¨è¶Šå¤§çš„åŸºé‡‘è¶Šé€‚åˆå®šæŠ•ï¼Œæ‰€ä»¥å®šæŠ•è‚¡ç¥¨åŸºé‡‘æ¯”è¾ƒåˆé€‚ï¼ŒæŒ‡æ•°åŸºé‡‘æ›´ä½³ã€‚</p><p>ä¸‹å›¾ä¸ºåŸºé‡‘å®šæŠ•çš„å¾®ç¬‘æ›²çº¿ï¼Œè¶Šæ·±è¶Šå¥½ï¼Œæ³¢åŠ¨è¶Šå¤§çš„åŸºé‡‘è¶Šé€‚åˆå®šæŠ•ã€‚</p><p><img src="//haoyongliang.gitee.io/2016/10/10/ç†è´¢/02.å®šæŠ•6å¹´ï¼Œä»¥äºæŸæ”¶åœºï¼Œå¥¹åˆ°åº•åšé”™äº†ä»€ä¹ˆ/top.jpg" alt></p><p>ä»€ä¹ˆæ—¶å€™å¼€å§‹åŸºé‡‘å®šæŠ•ï¼Ÿ</p><p>ç­”ï¼šç°åœ¨ã€‚</p><p>ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ2015å¹´ç‰›å¸‚å´©ç›˜ä¸€ä¸‹ï¼ŒAè‚¡å·²ç»ç»å†äº†å¤šæ¬¡è‚¡ç¾ï¼Œç°åœ¨æ­£å¤„äºç†Šå¸‚åº•éƒ¨ï¼ˆä¸ä¸€å®šæ˜¯æœ€åº•éƒ¨ï¼Œä½†è‡³å°‘ä¹Ÿæ˜¯ç›¸å¯¹ä½ä½äº†ï¼‰ï¼Œç°åœ¨å¼€å§‹å®šæŠ•ï¼Œä¸æ­£å¥½æ˜¯ä½æˆæœ¬è·å–ç­¹ç çš„å¤§å¥½æœºä¼šä¹ˆï¼Ÿç°åœ¨å¼€å§‹å®šæŠ•ï¼Œé™å¾…ä¸‹ä¸€æ¬¡ç‰›å¸‚åˆ°æ¥ã€‚æ©ï¼Œçƒä»”å·²ç»å¼€å§‹äº†ï¼Œæœ‰äººè¦è·Ÿä¸Šä¹ˆï¼Ÿ</p>]]></content>
      
      
      <categories>
          
          <category> ç†è´¢ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> åŸºé‡‘ </tag>
            
        </tags>
      
    </entry>
    
    
  
  
    
    
    <entry>
      <title>åˆ†ç±»</title>
      <link href="/categories/index.html"/>
      <url>/categories/index.html</url>
      
        <content type="html"><![CDATA[<p><img src="//haoyongliang.gitee.io/categories/head.jpg" alt></p>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>æ ‡ç­¾</title>
      <link href="/tags/index.html"/>
      <url>/tags/index.html</url>
      
        <content type="html"><![CDATA[]]></content>
      
    </entry>
    
    
  
</search>
